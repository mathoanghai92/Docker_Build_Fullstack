(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[129],{1262:function(e,t,n){"use strict";t.a=n.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,t,n){"use strict";var a,l,o,c,i,r,d,s=n(21),b=n(102),j=n.n(b),h=n(320),O=n.n(h),u=n(1262),m=(n(0),n(39)),f=n(3),p=n(285),x=n(16),g=n(480),w=n(1229),v=n(2);const C=e=>{let{dataDelete:t,title:n,decs:a,methodDelete:l,setShowModalDelete:o,isLoading:c,mask:i,loadData:r,setPositionLogo:d,openConfirm:s,setOpenConfirm:b,type:j,onDelete:h}=e;const O=Object(m.c)(),{t:x}=Object(g.a)(),{showModalConfirmDelete:w}=Object(p.d)((e=>e.globalReducer)),C=()=>{"custom-view"===j&&b(!1),O(Object(f.setShowModalConfirmDelete)(!1)),o&&o(!0)};return Object(v.jsxs)(D,{title:x("common.confirmAction"),visible:"custom-view"===j?s:w,mask:i,onCancel:()=>{C()},width:400,footer:null,children:[Object(v.jsxs)(_,{children:[Object(v.jsx)("img",{alt:"",src:u.a}),Object(v.jsxs)(S,{children:[x("common.confirmDelete")," ",n,"?"]}),Object(v.jsx)(P,{children:a})]}),Object(v.jsxs)(y,{children:[Object(v.jsx)(k,{size:"large",htmlType:"submit",loading:c,onClick:()=>{l&&O(l({...t})),r(),O(Object(f.setShowModalConfirmDelete)(!1)),h&&h(),d&&d(t),"custom-view"===j&&b(!1)},children:x("common.delete")}),Object(v.jsx)(L,{size:"large",onClick:()=>{C()},children:x("common.cancel")})]})]})};t.a=Object(w.a)()(C),C.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const y=x.b.div(a||(a=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),k=Object(x.b)(j.a)(l||(l=Object(s.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),L=Object(x.b)(j.a)(o||(o=Object(s.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),_=x.b.div(c||(c=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),S=x.b.span(i||(i=Object(s.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),P=x.b.span(r||(r=Object(s.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),D=Object(x.b)(O.a)(d||(d=Object(s.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1598:function(e,t,n){"use strict";var a,l=n(21),o=n(148),c=n(38),i=(n(0),n(285)),r=n(16),d=n(2);t.a=e=>{const{defaultBrandName:t}=Object(i.d)((e=>e.brandNameReducer)),{label:n,clickButton:a,className:l,icon:o,htmlType:r,style:b}=e;return Object(d.jsx)(d.Fragment,{children:c.b.filter((e=>e.name.toLocaleLowerCase()===t.theme_color.toLocaleLowerCase()))[0]&&Object(d.jsxs)(s,{htmlType:r,style:b,color:c.b.filter((e=>e.name.toLocaleLowerCase()===t.theme_color.toLocaleLowerCase()))[0].main,hover:c.b.filter((e=>e.name.toLocaleLowerCase()===t.theme_color.toLocaleLowerCase()))[0].darker,className:l,onClick:a,children:[o,n]})})};const s=Object(r.b)(o.a)(a||(a=Object(l.a)(["\n  background-color: ",";\n  border: 0px;\n  &:hover {\n    background-color: ",";\n    color: #fff;\n    border: 0px;\n  }\n  color: #fff;\n  width: max-content;\n"])),(e=>e.color),(e=>e.hover))},2045:function(e,t,n){"use strict";n.r(t);var a,l,o,c=n(21),i=n(317),r=n(1252),d=n(1244),s=n(1245),b=n(1255),j=n(1598),h=n(1263),O=n(4),u=n(0),m=n(480),f=n(26),p=n(3),x=n(133),g=n(203),w=n(14),v=n(33),C=n(285),y=n(16),k=n(13),L=n.n(k),_=n(2);const{Option:S}=i.a;t.default=()=>{const{t:e}=Object(m.a)(),t=Object(C.c)(),n=Object(f.o)(),[a]=r.a.useForm(),{listObject:l}=Object(C.d)((e=>e.objectsManagementReducer)),{listObjectField:o}=Object(C.d)((e=>e.objectsReducer)),{showLoadingScreen:c}=Object(C.d)((e=>e.globalReducer)),{editKnowledgeBaseSetting:y}=Object(C.d)((e=>e.knowledgeBaseSettingReducer)),{body:k,category_name:F,object_id:N,section_name:T,title:R,start_date:I,end_date:q}=y,[M,z]=Object(u.useState)(["","","",""]),[E,J]=Object(u.useState)([]),[A,G]=Object(u.useState)({}),{userRuleGlobal:K}=Object(C.d)((e=>e.userReducer)),V=e=>!!K.find((t=>"knowledge_view"===L.a.get(t,"domain","")&&t.actions.includes(e)));return Object(u.useEffect)((()=>{t(Object(v.o)()),t(Object(g.c)())}),[]),Object(u.useEffect)((()=>{N&&(t(Object(w.rb)({api_version:"2",object_id:N})),z(["","","",""]))}),[N]),Object(u.useEffect)((()=>()=>{t(Object(w.sb)([]))}),[t]),Object(u.useEffect)((()=>{if(o.length>0&&window.location.pathname.includes("knowledge-base-setting")){let e=[],n=0;o.map((t=>{t.main_object&&t.main_object.sections.map((t=>t.fields.map((t=>{t.hidden||(t.required&&"id"!==t.type&&(n+=1),e.push(t))}))))})),n<4?(Object(O.a)("error","Vui l\xf2ng ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng c\xf3 t\u1ed1i thi\u1ec3u 4 tr\u01b0\u1eddng b\u1eaft bu\u1ed9c"),t(Object(g.f)({key:"object_id",value:""}))):J(e)}}),[o]),Object(u.useEffect)((()=>()=>{t(Object(x.o)()),z(["","","",""]),J([]),a.resetFields()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{style:{padding:"1rem 1rem 0rem 1rem"},children:Object(_.jsx)(s.a,{children:Object(_.jsxs)(b.a,{children:[Object(_.jsx)(b.a.Item,{onClick:()=>n("/settings"),children:e("common.settings")}),Object(_.jsxs)(B,{children:[" ",e("knowledgeBase.knowledgeBase")," "]})]})})}),Object(_.jsxs)(P,{children:[Object(_.jsx)(r.a,{labelCol:{span:4},form:a,wrapperCol:{span:24},onFinish:()=>{t(Object(g.h)(y))},name:"knowledge-base",children:Object(_.jsxs)(d.a,{children:[Object(_.jsxs)(D,{span:N?4:24,style:{marginRight:"1rem"},children:[Object(_.jsxs)("p",{children:[" ",e("knowledgeBase.selectObject")," "]}),Object(_.jsx)(r.a.Item,{name:"object_id",valuePropName:N,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===N.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{onChange:e=>{t(Object(g.f)({key:"object_id",value:e}))},disabled:!1===V("create"),value:N,showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:l&&l.map((e=>e.Status?Object(_.jsx)(S,{value:e._id,children:e.Name}):null))})})]}),N&&Object(_.jsxs)(D,{span:19,children:[Object(_.jsxs)(d.a,{justify:"space-between",children:[Object(_.jsx)(s.a,{span:11,children:Object(_.jsx)(r.a.Item,{label:e("knowledgeBase.section"),name:"section_name",valuePropName:T,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===T.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{onChange:e=>{t(Object(g.f)({key:"section_name",value:e}));let n=[...M];n[0]=e||"",z(n)},value:T,showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:E.map((e=>{if(e.target&&e.target.length>0)return Object(_.jsx)(S,{disabled:M.indexOf(e.field_id)>-1,value:e.field_id,children:e.name})}))})})}),Object(_.jsx)(s.a,{span:11,children:Object(_.jsx)(r.a.Item,{label:e("knowledgeBase.category"),name:"category_name",valuePropName:F,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===F.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{onChange:e=>{t(Object(g.f)({key:"category_name",value:e}));let n=[...M];n[1]=e||"",z(n)},value:F,showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:E.map((e=>{if(e.source===T)return Object(_.jsx)(S,{disabled:M.indexOf(e.field_id)>-1,value:e.field_id,children:e.name})}))})})})]}),Object(_.jsxs)(d.a,{justify:"space-between",children:[Object(_.jsx)(s.a,{span:11,children:Object(_.jsx)(r.a.Item,{label:e("knowledgeBase.title"),name:"title",valuePropName:R,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===R.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{value:R,onChange:e=>{t(Object(g.f)({key:"title",value:e}));let n=[...M];n[2]=e||"",z(n)},showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:E.map((e=>{if("text"===e.type||"textarea"===e.type)return Object(_.jsx)(S,{disabled:M.indexOf(e.field_id)>-1,value:e.field_id,children:e.name})}))})})}),Object(_.jsx)(s.a,{span:11,children:Object(_.jsx)(r.a.Item,{label:e("knowledgeBase.body"),name:"body",valuePropName:k,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===k.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{value:k,onChange:e=>{t(Object(g.f)({key:"body",value:e}));let n=[...M];n[3]=e||"",z(n)},showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:E.map((e=>{if("text"===e.type||"textarea"===e.type)return Object(_.jsx)(S,{disabled:M.indexOf(e.field_id)>-1,value:e.field_id,children:e.name})}))})})})]}),Object(_.jsxs)(d.a,{justify:"space-between",children:[Object(_.jsx)(s.a,{span:11,children:Object(_.jsx)(r.a.Item,{name:"start_date",label:e("knowledgeBase.startDate"),valuePropName:I,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===I.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{value:I,onChange:e=>{t(Object(g.f)({key:"start_date",value:e}));let n=[...M];n[2]=e||"",z(n)},showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:E.map((e=>{if("date"===e.type)return Object(_.jsx)(S,{disabled:M.indexOf(e.field_id)>-1,value:e.field_id,children:e.name})}))})})}),Object(_.jsx)(s.a,{span:11,children:Object(_.jsx)(r.a.Item,{name:"end_date",label:e("knowledgeBase.endDate"),valuePropName:q,rules:[{validator:function(e){let t=arguments.length>2?arguments[2]:void 0;0===q.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(_.jsx)(i.a,{value:q,onChange:e=>{t(Object(g.f)({key:"end_date",value:e}));let n=[...M];n[3]=e||"",z(n)},showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:E.map((e=>{if("date"===e.type)return Object(_.jsx)(S,{disabled:M.indexOf(e.field_id)>-1,value:e.field_id,children:e.name})}))})})})]}),Object(_.jsxs)(d.a,{justify:"end",children:[V("edit")&&V("create")?Object(_.jsx)(j.a,{label:e("common.save"),htmlType:"submit",style:{marginRight:"16px"}}):"",y.object_id===N&&V("delete")&&Object(_.jsx)(j.a,{label:e("common.delete"),clickButton:()=>{t(Object(p.setShowModalConfirmDelete)(!0)),G({_id:y._id})}})]})]})]})}),Object(_.jsx)(h.a,{title:"c\u1ea5u h\xecnh knowledge base n\xe0y",decs:"Sau khi x\xf3a d\u1eef li\u1ec7u s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",methodDelete:g.b,dataDelete:A,isLoading:c})]})]})};const P=y.b.div(a||(a=Object(c.a)(["\n  padding: 1rem;\n"]))),D=Object(y.b)(s.a)(l||(l=Object(c.a)(["\n  background-color: white;\n  padding: 1rem;\n  .ant-select {\n    width: 100%;\n  }\n"]))),B=Object(y.b)(b.a.Item)(o||(o=Object(c.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px !important;\n  color: #2c2c2c;\n  cursor: default;\n"])))}}]);
//# sourceMappingURL=129.02f0fdd5.chunk.js.map