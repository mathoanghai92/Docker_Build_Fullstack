(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[90],{1267:function(e,t,n){"use strict";var a=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(1269));t.default=c.default},1269:function(e,t,n){"use strict";var a=n(24).default,c=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(44)),o=c(n(34)),i=c(n(108)),l=c(n(11)),s=c(n(236)),d=a(n(0)),u=n(61),p=c(n(251)),f=n(158),b=(c(n(93)),c(n(1270))),m=c(n(1271)),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n};function j(e,t,n,a){var c=n.indexOf(e)===n.length-1,r=function(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}))}(e,t);return c?d.createElement("span",null,r):d.createElement("a",{href:"#/".concat(a.join("/"))},r)}var x=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},O=function(e,t,n){var a=(0,i.default)(e),c=x(t||"",n);return c&&a.push(c),a},g=function(e){var t,n=e.prefixCls,a=e.separator,c=void 0===a?"/":a,i=e.style,m=e.className,g=e.routes,v=e.children,y=e.itemRender,C=void 0===y?j:y,k=e.params,w=void 0===k?{}:k,_=h(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),E=d.useContext(u.ConfigContext),N=E.getPrefixCls,S=E.direction,I=N("breadcrumb",n);if(g&&g.length>0){var R=[];t=g.map((function(e){var t,n=x(e.path,w);n&&R.push(n),e.children&&e.children.length&&(t=d.createElement(p.default,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:C(e,w,g,O(R,e.path,w))}}))}));var a={separator:c};return t&&(a.overlay=t),d.createElement(b.default,(0,o.default)({},a,{key:n||e.breadcrumbName}),C(e,w,g,R))}))}else v&&(t=(0,s.default)(v).map((function(e,t){return e?(0,f.cloneElement)(e,{separator:c,key:t}):e})));var P=(0,l.default)(I,(0,r.default)({},"".concat(I,"-rtl"),"rtl"===S),m);return d.createElement("nav",(0,o.default)({className:P,style:i},_),d.createElement("ol",null,t))};g.Item=b.default,g.Separator=m.default;t.default=g},1270:function(e,t,n){"use strict";var a=n(24).default,c=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(34)),o=c(n(483)),i=a(n(0)),l=(c(n(93)),n(61)),s=c(n(485)),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},u=function(e){var t=e.prefixCls,n=e.separator,a=void 0===n?"/":n,c=e.children,u=e.menu,p=e.overlay,f=e.dropdownProps,b=d(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),m=(0,i.useContext(l.ConfigContext).getPrefixCls)("breadcrumb",t);var h;return h=function(t){if(u||p){var n=(0,r.default)({},f);return"overlay"in e&&(n.overlay=p),i.createElement(s.default,(0,r.default)({menu:u,placement:"bottom"},n),i.createElement("span",{className:"".concat(m,"-overlay-link")},t,i.createElement(o.default,null)))}return t}(h="href"in b?i.createElement("a",(0,r.default)({className:"".concat(m,"-link")},b),c):i.createElement("span",(0,r.default)({className:"".concat(m,"-link")},b),c)),void 0!==c&&null!==c?i.createElement("li",null,h,a&&i.createElement("span",{className:"".concat(m,"-separator")},a)):null};u.__ANT_BREADCRUMB_ITEM=!0;t.default=u},1271:function(e,t,n){"use strict";var a=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),r=n(61),o=function(e){var t=e.children,n=(0,c.useContext(r.ConfigContext).getPrefixCls)("breadcrumb");return c.createElement("span",{className:"".concat(n,"-separator")},t||"/")};o.__ANT_BREADCRUMB_SEPARATOR=!0;t.default=o},1282:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(12),r=n(29),o=n(0),i=n(11),l=n.n(i),s=n(82),d=n(35),u=o.forwardRef((function(e,t){var n,i=e.prefixCls,u=void 0===i?"rc-switch":i,p=e.className,f=e.checked,b=e.defaultChecked,m=e.disabled,h=e.loadingIcon,j=e.checkedChildren,x=e.unCheckedChildren,O=e.onClick,g=e.onChange,v=e.onKeyDown,y=Object(r.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(s.a)(!1,{value:f,defaultValue:b}),k=Object(c.a)(C,2),w=k[0],_=k[1];function E(e,t){var n=w;return m||(_(n=e),null===g||void 0===g||g(n,t)),n}var N=l()(u,p,(n={},Object(a.a)(n,"".concat(u,"-checked"),w),Object(a.a)(n,"".concat(u,"-disabled"),m),n));return o.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":w,disabled:m,className:N,ref:t,onKeyDown:function(e){e.which===d.a.LEFT?E(!1,e):e.which===d.a.RIGHT&&E(!0,e),null===v||void 0===v||v(e)},onClick:function(e){var t=E(!w,e);null===O||void 0===O||O(t,e)}}),h,o.createElement("span",{className:"".concat(u,"-inner")},w?j:x))}));u.displayName="Switch",t.default=u},1290:function(e,t,n){"use strict";t.a=n.p+"static/media/copy.442fe703.svg"},1307:function(e,t,n){"use strict";var a=n(24).default,c=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(34)),o=c(n(44)),i=c(n(286)),l=c(n(11)),s=c(n(1282)),d=a(n(0)),u=n(61),p=c(n(211)),f=c(n(200)),b=(c(n(93)),c(n(721))),m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},h=d.forwardRef((function(e,t){var n=e.prefixCls,a=e.size,c=e.disabled,h=e.loading,j=e.className,x=void 0===j?"":j,O=m(e,["prefixCls","size","disabled","loading","className"]),g=d.useContext(u.ConfigContext),v=g.getPrefixCls,y=g.direction,C=d.useContext(f.default),k=d.useContext(p.default),w=(null!==c&&void 0!==c?c:k)||h,_=v("switch",n),E=d.createElement("div",{className:"".concat(_,"-handle")},h&&d.createElement(i.default,{className:"".concat(_,"-loading-icon")})),N=(0,l.default)((0,o.default)((0,o.default)((0,o.default)({},"".concat(_,"-small"),"small"===(a||C)),"".concat(_,"-loading"),h),"".concat(_,"-rtl"),"rtl"===y),x);return d.createElement(b.default,{insertExtraNode:!0},d.createElement(s.default,(0,r.default)({},O,{prefixCls:_,className:N,disabled:w,ref:t,loadingIcon:E})))}));h.__ANT_SWITCH=!0;t.default=h},1334:function(e,t,n){"use strict";var a=n(16),c=n(480),r=n(26),o=n(1267),i=n.n(o),l=n(719),s=n.n(l),d=n(2);t.a=function(e){let{nameBreadcrumb:t,listObjects:n,onChange:a}=e;const{t:o}=Object(c.a)(),l=Object(r.o)();return Object(d.jsxs)(u,{children:[Object(d.jsxs)(i.a,{children:[Object(d.jsx)(i.a.Item,{onClick:()=>l("/settings"),children:o("consolidatedView.setting")}),Object(d.jsx)(p,{children:t})]}),Object(d.jsxs)(f,{children:[Object(d.jsx)("span",{style:{fontSize:"16px",marginRight:"16px"},children:o("coreSetting.selectObject")}),Object(d.jsx)(s.a,{placeholder:o("common.placeholderSelect"),options:n,onChange:a,optionFilterProp:!1,showSearch:!0})]})]})};const u=a.b.div.withConfig({displayName:"selectObject__Wrapper",componentId:"sc-ffqf3j-0"})(["margin-bottom:16px;.ant-breadcrumb-link{cursor:pointer;}"]),p=Object(a.b)(i.a.Item).withConfig({displayName:"selectObject__BreadcrumbItem",componentId:"sc-ffqf3j-1"})(["font-family:var(--roboto-500);font-size:18px !important;color:#2c2c2c;cursor:default;"]),f=a.b.div.withConfig({displayName:"selectObject__WrapSelectObject",componentId:"sc-ffqf3j-2"})(["display:flex;justify-content:center;align-items:center;.ant-select{width:400px;}"])},1604:function(e,t,n){"use strict";var a=n(16),c=n(102),r=n.n(c),o=n(320),i=n.n(o),l=n(0),s=n(26),d=n(2);t.a=function(e){let{isBlocking:t}=e;const[n,a,c]=function(e){const t=Object(s.o)(),n=Object(s.m)(),[a,c]=Object(l.useState)(!1),[r,o]=Object(l.useState)(null),[i,d]=Object(l.useState)(!1),u=(Object(l.useCallback)((e=>!(!i&&e.location.pathname!==n.pathname)||(c(!0),o(e),!1)),[i,n.pathname]),Object(l.useCallback)((()=>{c(!1),d(!0)}),[])),p=Object(l.useCallback)((()=>{c(!1)}),[]);return Object(l.useEffect)((()=>{i&&r&&t(r.location.pathname)}),[i,r,t]),[a,u,p]}();return Object(d.jsx)(u,{title:"Vui l\xf2ng ch\u1edd!",visible:n,onCancel:c,closable:!0,footer:[Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(r.a,{type:"primary",onClick:a,children:"OK"}),Object(d.jsx)(r.a,{onClick:c,children:"Cancel"})]})],children:"It looks like you have been editing something. If you leave before saving, your changes will be lost."})};const u=Object(a.b)(i.a).withConfig({displayName:"ModalRouterPrompt__ModalCustom",componentId:"sc-i7c7rj-0"})([".ant-btn{font-size:16px;height:unset;:hover{background:",";color:#fff;}}.ant-btn-primary{margin-right:16px;background:",";border:1px solid ",";color:#fff;}.ant-modal-content{border-radius:8px;}.ant-modal-header{border-radius:8px 8px 0 0;}"],(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main))},1849:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(0),r=n(39),o=n(13),i=n.n(o),l=n(10),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},d=n(40),u=function(e,t){return c.createElement(d.a,Object(l.a)(Object(l.a)({},e),{},{ref:t,icon:s}))};u.displayName="VerticalAlignTopOutlined";var p=c.forwardRef(u),f=n(399),b=n.n(f),m=n(484),h=n.n(m),j=n(123),x=n.n(j),O=n(102),g=n.n(O),v=n(1307),y=n.n(v),C=n(189),k=n.n(C),w=n(210),_=n.n(w),E=n(486),N=n.n(E),S=n(1604),I=n(4),R=n(1290),P=n(15),T=n(5),M=n(1334),L=n(2);t.default=function(){const e=Object(r.c)(),{Column:t}=b.a,{Text:n}=h.a,{userRuleGlobal:a}=Object(r.d)((e=>e.userReducer)),{fields_related:o}=Object(r.d)((e=>e.fieldsManagementReducer)),{allPopupSetting:l,statusUpdatePopup:s}=Object(r.d)((e=>e.consolidatedViewSettingsReducer)),{category:d}=Object(r.d)((e=>e.objectsManagementReducer)),[u,f]=Object(c.useState)(void 0),[m,j]=Object(c.useState)([]),[O,g]=Object(c.useState)([]),[v,C]=Object(c.useState)([]),[w,E]=Object(c.useState)(!1),[z,D]=Object(c.useState)({}),[F,W]=Object(c.useState)({}),G=(e,t,n)=>{E(!0),W("prefix"===n?{...F,[t]:{prefix:null===e||void 0===e?void 0:e.replace(/\s/g,""),redirectToConsolidatedView:i.a.get(F,"".concat(t,".redirectToConsolidatedView"),!1)}}:{...F,[t]:{...F[t],redirectToConsolidatedView:e}})};return Object(c.useEffect)((()=>{if(Object.keys(d).length>0){let e=[];Object.entries(d).forEach((t=>{let[n,a]=t;a.forEach((t=>{t.Status&&e.push({label:t.Name,value:t._id})}))})),j(e)}}),[d]),Object(c.useEffect)((()=>{C(i.a.get(l,"fields",[])),W(i.a.get(l,"identify_phone_prefix",{}))}),[l]),Object(c.useEffect)((()=>{let e=[];o.map(((t,n)=>e.push({key:t.ID,name:t.name,active:!1,URL:"".concat(T.d,"/popup/").concat(u,"/").concat(t.ID,"/{input params}"),URLCopy:"".concat(T.d,"/popup/").concat(u,"/").concat(t.ID,"/"),copy:""}))),null!==v&&v.forEach((t=>{const n=e.findIndex((e=>e.key===t));-1!==n&&(e[n]={...e[n],active:!0})})),g(e)}),[v,o,u]),Object(c.useEffect)((()=>{"success"===s&&(E(!1),e(Object(P.Gc)()))}),[s,e]),Object(L.jsxs)(B,{children:[Object(L.jsx)(S.a,{isBlocking:w}),Object(L.jsx)(M.a,{nameBreadcrumb:"URL popup setting",onChange:t=>{f(t),W({}),e(Object(P.sb)({object_id:t}))},listObjects:m}),u&&Object(L.jsxs)(A,{children:[w&&Object(L.jsx)(U,{onClick:()=>{e(Object(P.gd)({fields:v,object_id:u,identify_phone_prefix:F}))},children:"Save"}),Object(L.jsxs)(b.a,{pagination:!1,dataSource:O,scroll:{x:"max-content"},children:[Object(L.jsx)(t,{title:"Name",dataIndex:"name",width:"205px",render:e=>Object(L.jsx)(n,{ellipsis:{tooltip:e},children:e})},"name"),Object(L.jsx)(t,{title:"Active",dataIndex:"active",width:"50px",render:(e,t)=>{return Object(L.jsx)(y.a,{disabled:(n="edit",!a.find((e=>"url_popup_setting"===i.a.get(e,"domain","")&&e.actions.includes(n)))),checked:e,checkedChildren:"ON",unCheckedChildren:"OFF",onChange:e=>((e,t)=>{E(!0);let n=[];null!==v&&(n=[...v]);let a=n.findIndex((e=>e===t));-1!==a?n.splice(a,1):n.push(t),C(n)})(0,t.key)});var n}},"active"),Object(L.jsx)(t,{title:"URL",dataIndex:"URL",width:"882px",render:e=>Object(L.jsx)(n,{style:{width:"882px"},ellipsis:{tooltip:e},children:e})},"URL"),Object(L.jsx)(t,{title:"Copy URL",dataIndex:"copy",width:"107px",fixed:"right",render:(e,t)=>Object(L.jsxs)(V,{children:[Object(L.jsx)(x.a,{title:"Copy URL",children:Object(L.jsx)("img",{onClick:()=>{return e=t.URLCopy,navigator.clipboard.writeText(e),void Object(I.a)("success","Copy successfully!");var e},src:R.a,alt:"copy"})}),Object(L.jsx)(k.a,{placement:"bottomLeft",visible:null===z||void 0===z?void 0:z[t.key],onVisibleChange:e=>{D({[t.key]:e})},title:"Add prefix",trigger:"click",content:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"16px",marginBottom:"16px"},children:[Object(L.jsx)("span",{children:"Prefix:"}),Object(L.jsx)(_.a,{style:{width:"300px"},value:i.a.get(F,"".concat(t.key,".prefix"),""),onChange:e=>G(e.target.value,t.key,"prefix")})]}),Object(L.jsx)("div",{children:Object(L.jsx)(N.a,{checked:i.a.get(F,"".concat(t.key,".redirectToConsolidatedView"),!1),onChange:e=>G(e.target.checked,t.key,"directly"),children:"Is directly to Consolidated view"})})]}),children:Object(L.jsx)(x.a,{title:"Prefix",children:Object(L.jsx)(p,{style:{transform:"rotate(90deg)",marginLeft:"8px",cursor:"pointer"}})})})]})},"copy")]})]})]})};const B=a.b.div.withConfig({displayName:"popupSetting__Wrapper",componentId:"sc-u6woix-0"})(["padding:16px 24px;border-radius:10px;.ant-table-thead > tr > th{font-size:16px;color:#2c2c2c;background:#fafafa;padding:8.5px 16px;}.ant-table-tbody > tr > td{font-size:16px;color:#2c2c2c;padding:8.5px 16px;.ant-select{width:100%;}.ant-checkbox-wrapper{display:flex;justify-content:center;align-items:center;}.ant-tooltip-disabled-compatible-wrapper{display:flex !important;justify-content:center;align-items:center;}}.ant-table-content{::-webkit-scrollbar{height:8px;}}.ant-switch-checked{background-color:",";}"],(e=>e.theme.main)),U=Object(a.b)(g.a).withConfig({displayName:"popupSetting__SaveButton",componentId:"sc-u6woix-1"})(["border:1px solid ",";margin:16px 0 16px 32px;span{color:",";font-size:16px;}&.ant-btn:active{background:#fff;border:1px solid ",";span{color:",";}}&.ant-btn:focus{background:#fff;border:1px solid ",";span{color:",";}}:hover{background:"," !important;border:1px solid "," !important;span{color:#fff;}}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),V=a.b.div.withConfig({displayName:"popupSetting__WrapAction",componentId:"sc-u6woix-2"})(["display:flex;justify-content:center;align-items:center;img{cursor:pointer;margin-left:8px;:hover{background:#eeeeee;}}"]),A=a.b.div.withConfig({displayName:"popupSetting__Wrap",componentId:"sc-u6woix-3"})(["background:#fff;"])}}]);
//# sourceMappingURL=90.7fa7c811.chunk.js.map