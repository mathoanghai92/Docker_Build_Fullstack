{"version":3,"sources":["../node_modules/antd/lib/breadcrumb/index.js","../node_modules/antd/lib/breadcrumb/Breadcrumb.js","../node_modules/antd/lib/breadcrumb/BreadcrumbItem.js","../node_modules/antd/lib/breadcrumb/BreadcrumbSeparator.js","pages/Notification/notification.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_Breadcrumb","_interopRequireWildcard","_defineProperty2","_extends2","_toConsumableArray2","_classnames","_toArray","React","_configProvider","_menu","_reactNode","_BreadcrumbItem","_BreadcrumbSeparator","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defaultItemRender","route","params","routes","paths","isLastItem","name","breadcrumbName","paramsKeys","keys","join","replace","RegExp","concat","replacement","key","getBreadcrumbName","createElement","href","getPath","path","forEach","addChildPath","childPath","originalPaths","push","Breadcrumb","_a","crumbs","customizePrefixCls","prefixCls","_a$separator","separator","style","className","children","_a$itemRender","itemRender","_a$params","restProps","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","map","overlay","items","child","label","itemProps","element","index","cloneElement","breadcrumbClassName","Item","Separator","_DownOutlined","_dropdown","BreadcrumbItem","props","_props$separator","menu","dropdownProps","link","breadcrumbItem","mergeDropDownProps","placement","renderBreadcrumbNode","undefined","__ANT_BREADCRUMB_ITEM","BreadcrumbSeparator","_ref","__ANT_BREADCRUMB_SEPARATOR","Notifications","navigate","useNavigate","dispatch","useDispatch","dataNoti","useSelector","state","notificationReducer","listNoti","setListNoti","useState","pageNoti","setPageNoti","hasMoreNoti","setHasMoreNoti","showMore","setShowMore","loadNoti","useCallback","getListNoti","record_per_page","page","onClickNoti","title","objectID","recordID","idNoti","item","id","seenOneNoti","_id","includes","record_id","localStorage","setItem","category","notification_type","regex","additional_info","match","body","temp","replaceAll","JSON","parse","typeEmail","action_email","stringify","record_id_main","onMarkAllRead","seenAllNoti","realTimeNoti","tempNoti","idx","timeNew","moment","created_date","fromNow","time","useEffect","realTime","setInterval","clearInterval","list_notification","tempListNoti","preState","resultListNoti","filter","ele","arr","findIndex","noti","_jsxs","Wrapper","_jsx","onClick","Wrap","EmptyNoti","EarlierNoti","WrapTitle","MarkAll","src","MarkRead","alt","InfiniteScroll","dataLength","loader","Spin","hasMore","next","loadMoreNoti","tempPage","setTimeout","scrollableTarget","Noti","isSeen","is_seen","TextNoti","overflow","content","object_id","optionsParse","_onShowMore","preventDefault","tempShowMore","TimeNoti","styled","div","withConfig","displayName","componentId","theme","main","Button","darker"],"mappings":"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","file":"static/js/125.534b3e3b.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _Breadcrumb = _interopRequireDefault(require(\"./Breadcrumb\"));\nvar _default = exports[\"default\"] = _Breadcrumb[\"default\"];","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _configProvider = require(\"../config-provider\");\nvar _menu = _interopRequireDefault(require(\"../menu\"));\nvar _reactNode = require(\"../_util/reactNode\");\nvar _warning = _interopRequireDefault(require(\"../_util/warning\"));\nvar _BreadcrumbItem = _interopRequireDefault(require(\"./BreadcrumbItem\"));\nvar _BreadcrumbSeparator = _interopRequireDefault(require(\"./BreadcrumbSeparator\"));\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nfunction getBreadcrumbName(route, params) {\n  if (!route.breadcrumbName) {\n    return null;\n  }\n  var paramsKeys = Object.keys(params).join('|');\n  var name = route.breadcrumbName.replace(new RegExp(\":(\".concat(paramsKeys, \")\"), 'g'), function (replacement, key) {\n    return params[key] || replacement;\n  });\n  return name;\n}\nfunction defaultItemRender(route, params, routes, paths) {\n  var isLastItem = routes.indexOf(route) === routes.length - 1;\n  var name = getBreadcrumbName(route, params);\n  return isLastItem ? /*#__PURE__*/React.createElement(\"span\", null, name) : /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#/\".concat(paths.join('/'))\n  }, name);\n}\nvar getPath = function getPath(path, params) {\n  path = (path || '').replace(/^\\//, '');\n  Object.keys(params).forEach(function (key) {\n    path = path.replace(\":\".concat(key), params[key]);\n  });\n  return path;\n};\nvar addChildPath = function addChildPath(paths, childPath, params) {\n  var originalPaths = (0, _toConsumableArray2[\"default\"])(paths);\n  var path = getPath(childPath || '', params);\n  if (path) {\n    originalPaths.push(path);\n  }\n  return originalPaths;\n};\nvar Breadcrumb = function Breadcrumb(_a) {\n  var customizePrefixCls = _a.prefixCls,\n    _a$separator = _a.separator,\n    separator = _a$separator === void 0 ? '/' : _a$separator,\n    style = _a.style,\n    className = _a.className,\n    routes = _a.routes,\n    children = _a.children,\n    _a$itemRender = _a.itemRender,\n    itemRender = _a$itemRender === void 0 ? defaultItemRender : _a$itemRender,\n    _a$params = _a.params,\n    params = _a$params === void 0 ? {} : _a$params,\n    restProps = __rest(_a, [\"prefixCls\", \"separator\", \"style\", \"className\", \"routes\", \"children\", \"itemRender\", \"params\"]);\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var crumbs;\n  var prefixCls = getPrefixCls('breadcrumb', customizePrefixCls);\n  if (routes && routes.length > 0) {\n    // generated by route\n    var paths = [];\n    crumbs = routes.map(function (route) {\n      var path = getPath(route.path, params);\n      if (path) {\n        paths.push(path);\n      }\n      // generated overlay by route.children\n      var overlay;\n      if (route.children && route.children.length) {\n        overlay = /*#__PURE__*/React.createElement(_menu[\"default\"], {\n          items: route.children.map(function (child) {\n            return {\n              key: child.path || child.breadcrumbName,\n              label: itemRender(child, params, routes, addChildPath(paths, child.path, params))\n            };\n          })\n        });\n      }\n      var itemProps = {\n        separator: separator\n      };\n      if (overlay) {\n        itemProps.overlay = overlay;\n      }\n      return /*#__PURE__*/React.createElement(_BreadcrumbItem[\"default\"], (0, _extends2[\"default\"])({}, itemProps, {\n        key: path || route.breadcrumbName\n      }), itemRender(route, params, routes, paths));\n    });\n  } else if (children) {\n    crumbs = (0, _toArray[\"default\"])(children).map(function (element, index) {\n      if (!element) {\n        return element;\n      }\n      process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(element.type && (element.type.__ANT_BREADCRUMB_ITEM === true || element.type.__ANT_BREADCRUMB_SEPARATOR === true), 'Breadcrumb', \"Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children\") : void 0;\n      return (0, _reactNode.cloneElement)(element, {\n        separator: separator,\n        key: index\n      });\n    });\n  }\n  var breadcrumbClassName = (0, _classnames[\"default\"])(prefixCls, (0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n  return /*#__PURE__*/React.createElement(\"nav\", (0, _extends2[\"default\"])({\n    className: breadcrumbClassName,\n    style: style\n  }, restProps), /*#__PURE__*/React.createElement(\"ol\", null, crumbs));\n};\nBreadcrumb.Item = _BreadcrumbItem[\"default\"];\nBreadcrumb.Separator = _BreadcrumbSeparator[\"default\"];\nvar _default = exports[\"default\"] = Breadcrumb;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _DownOutlined = _interopRequireDefault(require(\"@ant-design/icons/DownOutlined\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _warning = _interopRequireDefault(require(\"../_util/warning\"));\nvar _configProvider = require(\"../config-provider\");\nvar _dropdown = _interopRequireDefault(require(\"../dropdown/dropdown\"));\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar BreadcrumbItem = function BreadcrumbItem(props) {\n  var customizePrefixCls = props.prefixCls,\n    _props$separator = props.separator,\n    separator = _props$separator === void 0 ? '/' : _props$separator,\n    children = props.children,\n    menu = props.menu,\n    overlay = props.overlay,\n    dropdownProps = props.dropdownProps,\n    restProps = __rest(props, [\"prefixCls\", \"separator\", \"children\", \"menu\", \"overlay\", \"dropdownProps\"]);\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('breadcrumb', customizePrefixCls);\n  // Warning for deprecated usage\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(!('overlay' in props), 'Breadcrumb.Item', '`overlay` is deprecated. Please use `menu` instead.') : void 0;\n  }\n  /** If overlay is have Wrap a Dropdown */\n  var renderBreadcrumbNode = function renderBreadcrumbNode(breadcrumbItem) {\n    if (menu || overlay) {\n      var mergeDropDownProps = (0, _extends2[\"default\"])({}, dropdownProps);\n      if ('overlay' in props) {\n        mergeDropDownProps.overlay = overlay;\n      }\n      return /*#__PURE__*/React.createElement(_dropdown[\"default\"], (0, _extends2[\"default\"])({\n        menu: menu,\n        placement: \"bottom\"\n      }, mergeDropDownProps), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-overlay-link\")\n      }, breadcrumbItem, /*#__PURE__*/React.createElement(_DownOutlined[\"default\"], null)));\n    }\n    return breadcrumbItem;\n  };\n  var link;\n  if ('href' in restProps) {\n    link = /*#__PURE__*/React.createElement(\"a\", (0, _extends2[\"default\"])({\n      className: \"\".concat(prefixCls, \"-link\")\n    }, restProps), children);\n  } else {\n    link = /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({\n      className: \"\".concat(prefixCls, \"-link\")\n    }, restProps), children);\n  }\n  // wrap to dropDown\n  link = renderBreadcrumbNode(link);\n  if (children !== undefined && children !== null) {\n    return /*#__PURE__*/React.createElement(\"li\", null, link, separator && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-separator\")\n    }, separator));\n  }\n  return null;\n};\nBreadcrumbItem.__ANT_BREADCRUMB_ITEM = true;\nvar _default = exports[\"default\"] = BreadcrumbItem;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _configProvider = require(\"../config-provider\");\nvar BreadcrumbSeparator = function BreadcrumbSeparator(_ref) {\n  var children = _ref.children;\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('breadcrumb');\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-separator\")\n  }, children || '/');\n};\nBreadcrumbSeparator.__ANT_BREADCRUMB_SEPARATOR = true;\nvar _default = exports[\"default\"] = BreadcrumbSeparator;","import { useState, useEffect, useCallback } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport styled from \"styled-components/macro\";\nimport moment from \"moment\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport parse from \"html-react-parser\";\nimport { optionsParse } from \"util/staticData\";\nimport Spin from \"antd/lib/spin\";\nimport Breadcrumb from \"antd/lib/breadcrumb\";\nimport Button from \"antd/lib/button\";\n\nimport MarkRead from \"assets/icons/header/mark.svg\";\n\nimport {\n  getListNoti,\n  seenOneNoti,\n  seenAllNoti,\n} from \"redux/slices/notification\";\n\nfunction Notifications() {\n  let navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { dataNoti } = useSelector((state) => state.notificationReducer);\n  const [listNoti, setListNoti] = useState([]);\n  const [pageNoti, setPageNoti] = useState(0);\n  const [hasMoreNoti, setHasMoreNoti] = useState(true);\n  const [showMore, setShowMore] = useState({});\n\n  const loadNoti = useCallback(() => {\n    dispatch(\n      getListNoti({\n        record_per_page: 20,\n        page: pageNoti,\n      })\n    );\n  }, [dispatch, pageNoti]);\n\n  const handleSeenNoti = (id) => {\n    dispatch(\n      seenOneNoti({\n        _id: id,\n      })\n    );\n  };\n\n  const handleSeenAllNoti = () => {\n    dispatch(seenAllNoti());\n  };\n\n  const _onShowMore = (e, id) => {\n    e.preventDefault();\n    let tempShowMore = { ...showMore };\n    tempShowMore[id] = !tempShowMore[id];\n    setShowMore(tempShowMore);\n  };\n\n  const onClickNoti = (title, objectID, recordID, idNoti, item) => {\n    handleSeenNoti(idNoti);\n    if (title.includes(\"The import process of file\")) {\n      navigate(\"/view-logs\");\n    } else if (\n      title.includes(\"exported successfully\") ||\n      title.includes(\"is exporting. We will notify you when it is finished.\")\n    ) {\n      navigate(\"/export-history\");\n    } else if (\n      title.includes(\n        \"Error occurs when exporting report, Please contact the Admin.\"\n      )\n    ) {\n      //\n    } else if (objectID === \"User\") {\n      navigate(\"/logs-user\");\n    } else if (objectID === \"CalendarEvent\") {\n      if (item?.record_id) {\n        localStorage.setItem(\"id_event\", item.record_id);\n        navigate(\"/calendar-detail\");\n      } else {\n        navigate(\"/404\");\n      }\n    } else {\n      if (\n        (item?.category === \"email\" || item?.category === \"send_email\") &&\n        item?.notification_type &&\n        item?.notification_type === \"error\"\n      ) {\n        let regex = new RegExp(/style=\"(.*?)\"/);\n        let style = item.additional_info.match(regex);\n        let body = {};\n        if (style) {\n          let temp = style[0].replaceAll('\"', \"'\");\n          body = JSON.parse(\n            item.additional_info.replaceAll(\"'\", '\"').replace(style[0], temp)\n          );\n        } else {\n          body = JSON.parse(item.additional_info.replaceAll(\"'\", '\"'));\n        }\n        let typeEmail = body.action_email ? body.action_email : \"send_email\";\n        delete body.action_email;\n\n        localStorage.setItem(\"emailError\", JSON.stringify(body));\n        localStorage.setItem(\"typeEmailError\", typeEmail);\n\n        if (typeEmail !== \"send_email\") {\n          navigate(`/consolidated-view/${objectID}/${body.record_id_main}`);\n        } else {\n          navigate(`/consolidated-view/${objectID}/${recordID}`);\n        }\n      } else if (objectID && recordID) {\n        navigate(`/consolidated-view/${objectID}/${recordID}`);\n      }\n    }\n  };\n\n  const onMarkAllRead = () => {\n    setListNoti([]);\n    handleSeenAllNoti();\n    loadNoti();\n    setPageNoti(0);\n  };\n\n  const loadMoreNoti = () => {\n    let tempPage = pageNoti + 1;\n\n    setTimeout(() => {\n      setPageNoti(tempPage);\n    }, 1000);\n  };\n\n  const realTimeNoti = useCallback(() => {\n    let tempNoti = [...listNoti];\n    tempNoti.forEach((item, idx) => {\n      let timeNew = moment(item.created_date).fromNow();\n      tempNoti[idx].time = timeNew;\n    });\n    setListNoti(tempNoti);\n  }, [listNoti]);\n\n  useEffect(() => {\n    let realTime;\n    if (listNoti.length > 0) {\n      realTime = setInterval(realTimeNoti, 60000);\n    }\n    return () => clearInterval(realTime);\n  }, [listNoti, realTimeNoti]);\n\n  useEffect(() => {\n    loadNoti();\n  }, [loadNoti]);\n\n  useEffect(() => {\n    if (dataNoti?.list_notification) {\n      let tempListNoti = [];\n\n      // if (dataNoti.status !== \"Initial\") {\n      // let title = \"New notification\";\n      // let decs = dataNoti.data.list_notification[0].content;\n      // let objectID = dataNoti.data.list_notification[0].object_id;\n      // let recorID = dataNoti.data.list_notification[0].record_id;\n      // let ID = dataNoti.data.list_notification[0]._id;\n      // openInfo({ title, decs, onClickNoti, objectID, recorID, ID })\n      // }\n\n      dataNoti.list_notification.map((item) => {\n        let temp = { ...item, time: \"\" };\n        return tempListNoti.push(temp);\n      });\n\n      tempListNoti.forEach((item, idx) => {\n        tempListNoti[idx].time = moment(item.created_date).fromNow();\n      });\n\n      setListNoti((preState) => {\n        let tempState = preState.concat(tempListNoti);\n        const resultListNoti = tempState.filter(\n          (ele, idx, arr) =>\n            arr.findIndex((noti) => noti._id === ele._id) === idx\n        );\n\n        if (\n          dataNoti.list_notification.length < 20 ||\n          resultListNoti.length === 1000\n        ) {\n          setHasMoreNoti(false);\n        }\n\n        return resultListNoti;\n      });\n    }\n  }, [dataNoti]);\n\n  return (\n    <Wrapper id=\"scrollableDiv\">\n      <Breadcrumb>\n        <Breadcrumb.Item onClick={() => navigate(\"/dashboard\")}>\n          Dasboard\n        </Breadcrumb.Item>\n        <BreadcrumbItem>Notifications</BreadcrumbItem>\n      </Breadcrumb>\n      <Wrap>\n        {listNoti.length === 0 ? (\n          <EmptyNoti>No notification</EmptyNoti>\n        ) : (\n          <EarlierNoti>\n            <WrapTitle>\n              <MarkAll onClick={() => onMarkAllRead()}>\n                <img src={MarkRead} alt=\"\" />\n                <span>Mark all as read</span>\n              </MarkAll>\n            </WrapTitle>\n            <InfiniteScroll\n              dataLength={listNoti.length}\n              loader={<Spin />}\n              hasMore={hasMoreNoti}\n              next={loadMoreNoti}\n              scrollableTarget=\"scrollableDiv\"\n            >\n              {listNoti.map((item, idx) => {\n                return (\n                  <Noti key={idx} isSeen={item.is_seen}>\n                    <TextNoti\n                      showMore={showMore[item._id]}\n                      overflow={item.content.length > 500}\n                      onClick={() =>\n                        onClickNoti(\n                          item.content,\n                          item.object_id,\n                          item.record_id,\n                          item._id,\n                          item\n                        )\n                      }\n                    >\n                      {parse(item.content, optionsParse)}\n                    </TextNoti>\n                    {item.content.length > 500 && (\n                      <p onClick={(e) => _onShowMore(e, item._id)}>\n                        {showMore[item._id] ? \"Show less\" : \"Show More\"}\n                      </p>\n                    )}\n                    <TimeNoti>{item.time}</TimeNoti>\n                  </Noti>\n                );\n              })}\n            </InfiniteScroll>\n          </EarlierNoti>\n        )}\n      </Wrap>\n    </Wrapper>\n  );\n}\n\nexport default Notifications;\n\nconst Wrapper = styled.div`\n  padding: 24px;\n  overflow-y: auto;\n  height: calc(100vh - 130px);\n\n  .ant-breadcrumb-link {\n    cursor: pointer;\n  }\n`;\n\nconst Wrap = styled.div`\n  width: 67rem;\n  padding-top: 24px;\n  margin: 16px auto 0 auto;\n  background: #fff;\n`;\n\nconst BreadcrumbItem = styled(Breadcrumb.Item)`\n  font-family: var(--roboto-500);\n  font-size: 18px !important;\n  color: #2c2c2c;\n  cursor: default;\n`;\n\nconst EmptyNoti = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 20px;\n  font-family: var(--roboto-700);\n`;\n\nconst WrapTitle = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 24px;\n`;\n\nconst EarlierNoti = styled.div`\n  .infinite-scroll-component__outerdiv {\n    padding-bottom: 25px;\n  }\n\n  .infinite-scroll-component {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n`;\n\nconst Noti = styled.div`\n  padding: 8px 24px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n\n  p {\n    font-size: 16px;\n    margin: 8px 0;\n    color: ${(props) => props.theme.main};\n  }\n\n  :hover {\n    background: #f2f4f5;\n    cursor: pointer;\n  }\n\n  ::after {\n    display: ${(props) => (props.isSeen ? \"none\" : \"unset\")};\n    position: absolute;\n    content: \"\";\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background: #2ad181;\n    top: 40%;\n    right: 24px;\n  }\n`;\n\nconst TextNoti = styled.div`\n  display: ${({ overflow, showMore }) =>\n    overflow && !showMore ? \"-webkit-box\" : \"inline-block\"};\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 16px;\n  width: 90%;\n  color: #252424;\n`;\n\nconst TimeNoti = styled.div`\n  color: ${(props) => props.theme.main};\n  font-size: 14px;\n`;\n\nconst MarkAll = styled(Button)`\n  margin-bottom: 16px;\n\n  &.ant-btn {\n    font-size: 16px;\n    color: #2c2c2c;\n\n    :hover {\n      background: ${(props) => props.theme.darker} !important;\n      color: #fff !important;\n\n      img {\n        filter: brightness(200);\n      }\n    }\n  }\n\n  &.ant-btn:active {\n    background: #fff;\n    border: 1px solid #d9d9d9;\n    color: #2c2c2c;\n  }\n\n  &.ant-btn:focus {\n    background: #fff;\n    border: 1px solid #d9d9d9;\n    color: #2c2c2c;\n  }\n\n  img {\n    margin-right: 10px;\n  }\n`;\n"],"sourceRoot":""}