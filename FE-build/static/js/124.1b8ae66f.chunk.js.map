{"version":3,"sources":["assets/images/objectsManagement/deleteObject.png","components/Modal/ModalConfirmDelete.js","assets/icons/consolidatedViewSettings/editKb.svg","assets/icons/consolidatedViewSettings/deleteKb.svg","pages/KnowledgeBaseView/KnowledgeBaseView.js"],"names":["ModalConfimDelete","_ref","dataDelete","title","decs","methodDelete","setShowModalDelete","isLoading","mask","loadData","setPositionLogo","openConfirm","setOpenConfirm","type","onDelete","dispatch","useDispatch","t","useTranslation","showModalConfirmDelete","useSelector","state","globalReducer","onClick","setShowModalConfirmDelete","_jsxs","CustomModal","visible","onCancel","width","footer","children","CustomContent","_jsx","alt","src","deleteObject","Title","Decs","CustomFooter","CustomButtonSave","size","htmlType","loading","CustomButtonCancel","withTranslation","defaultProps","styled","div","_templateObject","_taggedTemplateLiteral","Button","_templateObject2","props","theme","main","darker","_templateObject3","_templateObject4","span","_templateObject5","_templateObject6","Modal","_templateObject7","Option","Select","KnowledgeBaseView","search","useLocation","navigate","useNavigate","ref","useRef","query","URLSearchParams","showLoadingScreen","object_id","get","listArticle","treeView","searchArticle","pagination","filterArticle","totalPage","knowledgeBaseViewReducer","editKnowledgeBaseSetting","knowledgeBaseSettingReducer","page","limit","setDataDelete","useState","useEffect","changeTitlePage","getTreeViewKnowledgeBase","getKnowledgeBaseSetting","updateSearchArticle","getListArticle","data","search_with_title","current_page","record_per_page","search_with","meta","unmountKnowledgeBaseView","unmountObjects","_Fragment","Breadcrumb","style","paddingLeft","BreadcrumbItem","justify","TreeView","Tree","className","treeData","defaultExpandAll","onSelect","e","event","selected","node","length","section_name","id_field","value","sort_by","updateFilterArticle","key","parent_title","category_name","updatePagination","Articles","Row","Col","Search","placeholder","allowClear","enterButton","onChange","target","onSearch","marginRight","defaultValue","updateIsFirst","height","overflowX","overflowY","onScroll","scrollTop","clientHeight","scrollHeight","temp","push","loadMoreArticle","align","map","article","padding","Article","_id","editIcon","stopPropagation","preventDefault","deleteIcon","id","ids","parse","body","optionsParse","deleteArticleById","Item"],"mappings":"2GAAe,QAA0B,wC,6KCUzC,MAAMA,EAAoBC,IAcnB,IAdoB,WACzBC,EAAU,MACVC,EAAK,KACLC,EAAI,aACJC,EAAY,mBACZC,EAAkB,UAClBC,EAAS,KACTC,EAAI,SACJC,EAAQ,gBACRC,EAAe,YACfC,EAAW,eACXC,EAAc,KACdC,EAAI,SACJC,GACDb,EACC,MAAMc,EAAWC,eACX,EAAEC,GAAMC,eACR,uBAAEC,GAA2BC,aAChCC,GAAUA,EAAMC,gBA2BbC,EAAUA,KACD,gBAATV,GACFD,GAAe,GAGjBG,EAASS,qCAA0B,IAC/BlB,GACFA,GAAmB,EACrB,EAGF,OACEmB,eAACC,EAAW,CACVvB,MAAOc,EAAE,wBACTU,QAAkB,gBAATd,EAAyBF,EAAcQ,EAChDX,KAAMA,EACNoB,SAAUA,KACRL,GAAS,EAEXM,MAAO,IACPC,OAAQ,KAAKC,SAAA,CAEbN,eAACO,EAAa,CAAAD,SAAA,CACZE,cAAA,OAAKC,IAAI,GAAGC,IAAKC,MACjBX,eAACY,EAAK,CAAAN,SAAA,CACHd,EAAE,wBAAwB,IAAEd,EAAM,OAErC8B,cAACK,EAAI,CAAAP,SAAE3B,OAETqB,eAACc,EAAY,CAAAR,SAAA,CACXE,cAACO,EAAgB,CACfC,KAAK,QACLC,SAAS,SACTC,QAASpC,EACTgB,QAASA,KAzDXlB,GACFU,EACEV,EAAa,IACRH,KAKTO,IACAM,EAASS,qCAA0B,IAE/BV,GACFA,IAGEJ,GACFA,EAAgBR,GAGL,gBAATW,GACFD,GAAe,EAsCE,EACXmB,SAEDd,EAAE,mBAELgB,cAACW,EAAkB,CACjBH,KAAK,QACLlB,QAASA,KACPA,GAAS,EACTQ,SAEDd,EAAE,wBAGK,EAIH4B,kBAAkB7C,GAEjCA,EAAkB8C,aAAe,CAC/BrC,SAAUA,OACVI,KAAM,GACNF,aAAa,EACbC,eAAgBA,QAGlB,MAAM2B,EAAeQ,IAAOC,IAAGC,MAAAC,YAAA,+EAMzBV,EAAmBO,YAAOI,IAAPJ,CAAcK,MAAAF,YAAA,6JAChBG,GAAUA,EAAMC,MAAMC,OAM1BF,GAAUA,EAAMC,MAAME,SAKnCZ,EAAqBG,YAAOI,IAAPJ,CAAcU,MAAAP,YAAA,uHAKtBG,GAAUA,EAAMC,MAAME,SAKnCxB,EAAgBe,IAAOC,IAAGU,MAAAR,YAAA,uKAY1Bb,EAAQU,IAAOY,KAAIC,MAAAV,YAAA,iIAQnBZ,EAAOS,IAAOY,KAAIE,MAAAX,YAAA,8FAOlBxB,EAAcqB,YAAOe,IAAPf,CAAagB,MAAAb,YAAA,mX,oCC5KlB,QAA0B,kC,oCCA1B,QAA0B,oC,qRC6BzC,MAAM,OAAEc,GAAWC,IAycJC,UAxcWA,KACxB,MAAM,EAAEjD,GAAMC,cACRH,EAAWC,eACX,OAAEmD,GAAWC,cACbC,EAAWC,cACXC,EAAMC,mBACNC,EAAQ,IAAIC,gBAAgBP,IAC5B,kBAAEQ,GAAsBvD,aAAaC,GAAUA,EAAMC,gBACrDsD,EAAYH,EAAMI,IAAI,cACtB,YACJC,EAAW,SACXC,EAAQ,cACRC,EAAa,WACbC,EAAU,cACVC,EAAa,UACbC,GACE/D,aAAaC,GAAUA,EAAM+D,4BAC3B,yBAAEC,GAA6BjE,aAClCC,GAAUA,EAAMiE,+BAEb,KAAEC,EAAI,MAAEC,GAAUP,GACjB/E,EAAYuF,GAAiBC,mBAAS,CAAC,GAE9CC,qBAAU,KACR5E,EAAS6E,YAAgB3E,EAAE,gCAAgC,GAE1D,CAACA,IA0CJ,OAjCA0E,qBAAU,KACR5E,EAAS8E,eACT9E,EAAS+E,eACT/E,EAASgF,YAAoB,KAC7BhF,EACEiF,YAAe,CACbC,KAAM,CACJrB,UAAWA,EACXW,KAAM,EACNC,MAAO,GACPU,kBAAmB,IAErBjB,WAAY,CACVL,UAAWA,EACXuB,aAAc,EACdC,gBAAiB,GACjBC,YAAa,CACXC,KAAM,GACNL,KAAM,OAIb,GAEA,IACHN,qBACE,IAAM,KACJ5E,EAASwF,eACTxF,EAASyF,eAAiB,GAG5B,IAGA/E,eAAAgF,WAAA,CAAA1E,SAAA,CACEE,cAACyE,IAAU,CAACC,MAAO,CAAEC,YAAa,QAAS7E,SACzCN,eAACoF,EAAc,CAAA9E,SAAA,CACZ,IACAd,EAAE,mCAAoC,SAG3CQ,eAACO,EAAa,CAAC8E,QAAS,eAAe/E,SAAA,CACrCE,cAAC8E,EAAQ,CAACpD,KAAM,EAAE5B,SAChBE,cAAC+E,IAAI,CACHzC,IAAKA,EACL0C,UAAU,iBACVC,SAAUnC,EACVoC,kBAAkB,EAClBC,SAAUA,CAACC,EAAGC,KACRA,EAAMC,UACRxG,EAASgF,YAAoB,KACzBuB,EAAME,KAAKzF,SAAS0F,OAAS,GAC/B1G,EACEiF,YAAe,CACbC,KAAM,CACJrB,UAAWA,EACXW,KAAM,EACNC,MAAO,GACPU,kBAAmB,GACnBwB,aAAcJ,EAAME,KAAKrH,OAE3B8E,WAAY,CACVL,UAAWA,EACXuB,aAAc,EACdC,gBAAiB,GACjBC,YAAa,CACXC,KAAM,GACNL,KAAM,CACJ,CACE0B,SAAUtC,EAAyBqC,aACnCE,MAAON,EAAME,KAAKrH,SAIxB0H,QAAS,CAAC,MAIhB9G,EACE+G,YAAoB,CAClBC,IAAK,eACLH,MAAO,MAGX7G,EACE+G,YAAoB,CAClBC,IAAK,gBACLH,MAAO,OAIX7G,EACEiF,YAAe,CACbC,KAAM,CACJrB,UAAWA,EACXW,KAAM,EACNC,MAAO,GACPU,kBAAmB,GACnBwB,aAAcJ,EAAME,KAAKQ,aACzBC,cAAeX,EAAME,KAAKrH,OAE5B8E,WAAY,CACVL,UAAWA,EACXuB,aAAcZ,EACda,gBAAiB,GACjBC,YAAa,CACXC,KAAM,GACNL,KAAM,CACJ,CACE0B,SAAUtC,EAAyB4C,cACnCL,MAAON,EAAME,KAAKrH,OAEpB,CACEwH,SAAUtC,EAAyBqC,aACnCE,MAAON,EAAME,KAAKQ,gBAIxBH,QAAS,CAAC,QAMlB9G,EACEiF,YAAe,CACbC,KAAM,CACJrB,UAAWA,EACXW,KAAM,EACNC,MAAO,GACPU,kBAAmB,IAErBjB,WAAY,CACVL,UAAWA,EACXuB,aAAc,EACdC,gBAAiB,GACjBC,YAAa,CACXC,KAAM,GACNL,KAAM,QAKdlF,EACEmH,YAAiB,CACf3C,KAAM,EACNC,MAAO,MAGXzE,EACE+G,YAAoB,CAClBC,IAAK,eACLH,MAAO,MAGX7G,EACE+G,YAAoB,CAClBC,IAAK,gBACLH,MAAO,MAGb,MAINnG,eAAC0G,EAAQ,CAACxE,KAAM,GAAG5B,SAAA,CACjBN,eAAC2G,IAAG,CAACtB,QAAS,gBAAgB/E,SAAA,CAC5BE,cAACoG,IAAG,CAAC1E,KAAM,GAAG5B,SACZE,cAACmG,IAAG,CAACtB,QAAS,SAAS/E,SACrBE,cAACoG,IAAG,CAAC1E,KAAM,GAAG5B,SACZE,cAACqG,IAAM,CACLC,YAAatH,EAAE,mCACfuH,YAAU,EACVC,YAAaxH,EAAE,iBACfwB,KAAK,QACLmF,MAAO5C,EACP0D,SAAWrB,IACTtG,EAASgF,YAAoBsB,EAAEsB,OAAOf,OAAO,EAE/CgB,SAAWvB,IAGTtG,EAASgF,YAAoBsB,IACzBA,EAAEI,OAAS,GACbpD,EAAS,6BAA+BO,EAC1C,UA8BV3C,cAACoG,IAAG,CAAC1E,KAAM,EAAE5B,SACXN,eAAC2G,IAAG,CAACtB,QAAS,MAAM/E,SAAA,CAClBE,cAACkB,IAAM,CACLQ,KAAM,GACNgD,MAAO,CAAEkC,YAAa,UACtBtH,QAASA,KACP8C,EAAS,YAAY,EACrBtC,SAEDd,EAAE,8BAELQ,eAACwC,IAAM,CACLN,KAAM,GACNmF,aAAc,gBACdJ,SAAWrB,IACC,cAANA,IACFhD,EAAS,YAAcO,EAAY,iBACnC7D,EAASgI,aAAc,IACzB,EACAhH,SAAA,CAEFE,cAAC+B,EAAM,CAAC4D,MAAO,YAAY7F,SACxBd,EAAE,gCAELgB,cAAC+B,EAAM,CAAC4D,MAAO,gBAAgB7F,SAC5Bd,EAAE,4CAMbgB,cAACmG,IAAG,CACFzB,MAAO,CAAEqC,OAAQ,MAAOC,UAAW,SAAUC,UAAW,UACxDC,SAAW9B,IACT,GACEA,EAAEsB,OAAOS,UAAY/B,EAAEsB,OAAOU,cAC5BhC,EAAEsB,OAAOW,cACXnE,EAAY,EAAII,EAChB,CACA,IAAIgE,EAAO,GACPvE,EAAcyC,OAAS,GACzB8B,EAAKC,KAAK,CACR7B,SAAUtC,EAAyBlF,MACnCyH,MAAO5C,IAGPE,EAAcwC,cAChB6B,EAAKC,KAAK,CACR7B,SAAUtC,EAAyBqC,aACnCE,MAAO1C,EAAcwC,eAGrBxC,EAAc+C,eAChBsB,EAAKC,KAAK,CACR7B,SAAUtC,EAAyB4C,cACnCL,MAAO1C,EAAc+C,gBAGzBlH,EACE0I,YAAgB,CACdxD,KAAM,CACJrB,UAAWA,EACXW,KAAMA,EAAO,EACbC,MAAOA,EACPU,kBAAmBlB,KAChBE,GAELD,WAAY,CACVL,UAAWA,EACXuB,aAAcZ,EACda,gBAAiB,GACjBC,YAAa,CACXC,KAAM,GACNL,KAAMsD,GAER1B,QAAS,CAAC,KAIlB,GACA9F,SAEFE,cAACoG,IAAG,CAAC1E,KAAM,GAAG5B,SACZE,cAACmG,IAAG,CACFzB,MAAO,CAAEsC,UAAW,SAAUC,UAAW,UACzCQ,MAAM,MAAK3H,SAEV+C,GACCA,EAAY6E,KAAKC,GAEb3H,cAACoG,IAAG,CAAC1E,KAAM,EAAGgD,MAAO,CAAEkD,QAAS,uBAAwB9H,SACtDN,eAACqI,EAAO,CACNvI,QAASA,KACP8C,EACE,sBACEuF,EAAQG,IACR,cACAnF,EACH,EACD7C,SAAA,CAEFN,eAAC2G,IAAG,CAACtB,QAAS,gBAAgB/E,SAAA,CAC5BE,cAACoG,IAAG,CAAC1E,KAAM,GAAG5B,SACZN,eAAA,QAAMwF,UAAW,gBAAgBlF,SAAA,CAC9B,IACA6H,EAAQzJ,MAAO,SAGpBsB,eAAC4G,IAAG,CAAC1E,KAAM,EAAGsD,UAAW,mBAAmBlF,SAAA,CAC1CE,cAAA,OACEE,IAAK6H,IACL9H,IAAI,GACJX,QAAU8F,IACRA,EAAE4C,kBACF5C,EAAE6C,iBACF7F,EACE,uBACEO,EACA,OACAgF,EAAQG,IACX,IAGL9H,cAAA,OACEE,IAAKgI,IACLjI,IAAI,GACJX,QAAU8F,IA5VjB+C,MA6VS/C,EAAE4C,kBACF5C,EAAE6C,iBA9VXE,EA+VuBR,EAAQG,IA9VpDhJ,EAASS,qCAA0B,IACnCiE,EAAc,CACZ4E,IAAK,CAACD,GACNxF,UAAWA,GA2V2C,UAKlCnD,eAAA,QAAMwF,UAAW,eAAelF,SAAA,CAC7B,IACDE,cAAA,KAAAF,SAAIuI,YAAMV,EAAQW,KAAMC,0BA0D5CvI,cAACjC,IAAiB,CAChBG,MAAOc,EAAE,+BACTb,KAAMa,EAAE,4BACRZ,aAAcoK,IACdvK,WAAYA,EACZK,UAAWoE,SAGd,EAMP,MAAM3C,EAAgBe,YAAOqF,IAAPrF,CAAWE,MAAAC,YAAA,wFAO3B6D,EAAWhE,YAAOsF,IAAPtF,CAAWK,MAAAF,YAAA,yDAKtBiF,EAAWpF,YAAOsF,IAAPtF,CAAWU,MAAAP,YAAA,gGAMtB4G,EAAU/G,IAAOC,IAAGU,MAAAR,YAAA,8tBA4BMG,GAAUA,EAAMC,MAAMC,OAMhDsD,EAAiB9D,YAAO2D,IAAWgE,KAAlB3H,CAAuBa,MAAAV,YAAA,kH","file":"static/js/124.1b8ae66f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/deleteObject.73bd03c7.png\";","import Button from \"antd/lib/button\";\nimport Modal from \"antd/lib/modal\";\nimport deleteObject from \"assets/images/objectsManagement/deleteObject.png\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setShowModalConfirmDelete } from \"redux/slices/global\";\nimport { useSelector } from \"redux/store\";\nimport styled from \"styled-components\";\nimport { useTranslation, withTranslation } from \"react-i18next\";\n\nconst ModalConfimDelete = ({\n  dataDelete,\n  title,\n  decs,\n  methodDelete,\n  setShowModalDelete,\n  isLoading,\n  mask,\n  loadData,\n  setPositionLogo,\n  openConfirm,\n  setOpenConfirm,\n  type,\n  onDelete,\n}) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { showModalConfirmDelete } = useSelector(\n    (state) => state.globalReducer\n  );\n\n  const _onSubmit = () => {\n    if (methodDelete) {\n      dispatch(\n        methodDelete({\n          ...dataDelete,\n        })\n      );\n    }\n\n    loadData();\n    dispatch(setShowModalConfirmDelete(false));\n\n    if (onDelete) {\n      onDelete();\n    }\n\n    if (setPositionLogo) {\n      setPositionLogo(dataDelete);\n    }\n\n    if (type === \"custom-view\") {\n      setOpenConfirm(false);\n    }\n  };\n  const onClick = () => {\n    if (type === \"custom-view\") {\n      setOpenConfirm(false);\n    }\n\n    dispatch(setShowModalConfirmDelete(false));\n    if (setShowModalDelete) {\n      setShowModalDelete(true);\n    }\n  };\n\n  return (\n    <CustomModal\n      title={t(\"common.confirmAction\")}\n      visible={type === \"custom-view\" ? openConfirm : showModalConfirmDelete}\n      mask={mask}\n      onCancel={() => {\n        onClick();\n      }}\n      width={400}\n      footer={null}\n    >\n      <CustomContent>\n        <img alt=\"\" src={deleteObject} />\n        <Title>\n          {t(\"common.confirmDelete\")} {title}?\n        </Title>\n        <Decs>{decs}</Decs>\n      </CustomContent>\n      <CustomFooter>\n        <CustomButtonSave\n          size=\"large\"\n          htmlType=\"submit\"\n          loading={isLoading}\n          onClick={() => {\n            _onSubmit();\n          }}\n        >\n          {t(\"common.delete\")}\n        </CustomButtonSave>\n        <CustomButtonCancel\n          size=\"large\"\n          onClick={() => {\n            onClick();\n          }}\n        >\n          {t(\"common.cancel\")}\n        </CustomButtonCancel>\n      </CustomFooter>\n    </CustomModal>\n  );\n};\n\nexport default withTranslation()(ModalConfimDelete);\n\nModalConfimDelete.defaultProps = {\n  loadData: () => {},\n  type: \"\",\n  openConfirm: false,\n  setOpenConfirm: () => {},\n};\n\nconst CustomFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n`;\n\nconst CustomButtonSave = styled(Button)`\n  background-color: ${(props) => props.theme.main};\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ${(props) => props.theme.darker};\n    color: #fff;\n  }\n`;\n\nconst CustomButtonCancel = styled(Button)`\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ${(props) => props.theme.darker};\n    color: #fff;\n  }\n`;\n\nconst CustomContent = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n`;\n\nconst Title = styled.span`\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n`;\n\nconst Decs = styled.span`\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n`;\n\nconst CustomModal = styled(Modal)`\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/editKb.2e576da2.svg\";","export default __webpack_public_path__ + \"static/media/deleteKb.71479612.svg\";","import { Button, Col, Row, Select, Tree, Breadcrumb } from \"antd\";\nimport Search from \"antd/lib/input/Search\";\nimport { useLocation, useNavigate } from \"react-router\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  deleteArticleById,\n  getListArticle,\n  getTreeViewKnowledgeBase,\n  unmountKnowledgeBaseView,\n  updateSearchArticle,\n  loadMoreArticle,\n  updateFilterArticle,\n  updatePagination,\n} from \"redux/slices/knowledgeBaseView\";\nimport { useDispatch, useSelector } from \"redux/store\";\nimport styled from \"styled-components\";\nimport editIcon from \"../../assets/icons/consolidatedViewSettings/editKb.svg\";\nimport deleteIcon from \"../../assets/icons/consolidatedViewSettings/deleteKb.svg\";\nimport ModalConfimDelete from \"components/Modal/ModalConfirmDelete\";\nimport { setShowModalConfirmDelete } from \"redux/slices/global\";\nimport {\n  getKnowledgeBaseSetting,\n  updateIsFirst,\n} from \"redux/slices/knowledgeBaseSetting\";\nimport { unmountObjects } from \"redux/slices/objects\";\nimport { useTranslation } from \"react-i18next\";\nimport { changeTitlePage } from \"redux/slices/authenticated\";\nimport parse from \"html-react-parser\";\nimport { optionsParse } from \"util/staticData\";\nconst { Option } = Select;\nconst KnowledgeBaseView = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { search } = useLocation();\n  const navigate = useNavigate();\n  const ref = useRef();\n  const query = new URLSearchParams(search);\n  const { showLoadingScreen } = useSelector((state) => state.globalReducer);\n  const object_id = query.get(\"object_id\");\n  const {\n    listArticle,\n    treeView,\n    searchArticle,\n    pagination,\n    filterArticle,\n    totalPage,\n  } = useSelector((state) => state.knowledgeBaseViewReducer);\n  const { editKnowledgeBaseSetting } = useSelector(\n    (state) => state.knowledgeBaseSettingReducer\n  );\n  const { page, limit } = pagination;\n  const [dataDelete, setDataDelete] = useState({});\n\n  useEffect(() => {\n    dispatch(changeTitlePage(t(\"knowledgeBase.knowledgeBase\")));\n    //eslint-disable-next-line\n  }, [t]);\n\n  const deleteArticle = (id) => {\n    dispatch(setShowModalConfirmDelete(true));\n    setDataDelete({\n      ids: [id],\n      object_id: object_id,\n    });\n  };\n  useEffect(() => {\n    dispatch(getTreeViewKnowledgeBase());\n    dispatch(getKnowledgeBaseSetting());\n    dispatch(updateSearchArticle(\"\"));\n    dispatch(\n      getListArticle({\n        data: {\n          object_id: object_id,\n          page: 0,\n          limit: 16,\n          search_with_title: \"\",\n        },\n        pagination: {\n          object_id: object_id,\n          current_page: 1,\n          record_per_page: 16,\n          search_with: {\n            meta: [],\n            data: [],\n          },\n        },\n      })\n    );\n    // eslint-disable-next-line\n  }, []);\n  useEffect(\n    () => () => {\n      dispatch(unmountKnowledgeBaseView());\n      dispatch(unmountObjects());\n    },\n    // eslint-disable-next-line\n    []\n  );\n  return (\n    <>\n      <Breadcrumb style={{ paddingLeft: \"2rem\" }}>\n        <BreadcrumbItem>\n          {\" \"}\n          {t(\"knowledgeBase.knowledgeBaseView\")}{\" \"}\n        </BreadcrumbItem>\n      </Breadcrumb>\n      <CustomContent justify={\"space-around\"}>\n        <TreeView span={4}>\n          <Tree\n            ref={ref}\n            className=\"draggable-tree\"\n            treeData={treeView}\n            defaultExpandAll={false}\n            onSelect={(e, event) => {\n              if (event.selected) {\n                dispatch(updateSearchArticle(\"\"));\n                if (event.node.children.length > 0) {\n                  dispatch(\n                    getListArticle({\n                      data: {\n                        object_id: object_id,\n                        page: 0,\n                        limit: 16,\n                        search_with_title: \"\",\n                        section_name: event.node.title,\n                      },\n                      pagination: {\n                        object_id: object_id,\n                        current_page: 0,\n                        record_per_page: 16,\n                        search_with: {\n                          meta: [],\n                          data: [\n                            {\n                              id_field: editKnowledgeBaseSetting.section_name,\n                              value: event.node.title,\n                            },\n                          ],\n                        },\n                        sort_by: {},\n                      },\n                    })\n                  );\n                  dispatch(\n                    updateFilterArticle({\n                      key: \"section_name\",\n                      value: \"\",\n                    })\n                  );\n                  dispatch(\n                    updateFilterArticle({\n                      key: \"category_name\",\n                      value: \"\",\n                    })\n                  );\n                } else {\n                  dispatch(\n                    getListArticle({\n                      data: {\n                        object_id: object_id,\n                        page: 0,\n                        limit: 16,\n                        search_with_title: \"\",\n                        section_name: event.node.parent_title,\n                        category_name: event.node.title,\n                      },\n                      pagination: {\n                        object_id: object_id,\n                        current_page: page,\n                        record_per_page: 16,\n                        search_with: {\n                          meta: [],\n                          data: [\n                            {\n                              id_field: editKnowledgeBaseSetting.category_name,\n                              value: event.node.title,\n                            },\n                            {\n                              id_field: editKnowledgeBaseSetting.section_name,\n                              value: event.node.parent_title,\n                            },\n                          ],\n                        },\n                        sort_by: {},\n                      },\n                    })\n                  );\n                }\n              } else {\n                dispatch(\n                  getListArticle({\n                    data: {\n                      object_id: object_id,\n                      page: 0,\n                      limit: 16,\n                      search_with_title: \"\",\n                    },\n                    pagination: {\n                      object_id: object_id,\n                      current_page: 1,\n                      record_per_page: 16,\n                      search_with: {\n                        meta: [],\n                        data: [],\n                      },\n                    },\n                  })\n                );\n                dispatch(\n                  updatePagination({\n                    page: 0,\n                    limit: 16,\n                  })\n                );\n                dispatch(\n                  updateFilterArticle({\n                    key: \"section_name\",\n                    value: \"\",\n                  })\n                );\n                dispatch(\n                  updateFilterArticle({\n                    key: \"category_name\",\n                    value: \"\",\n                  })\n                );\n              }\n            }}\n          />\n        </TreeView>\n        <Articles span={19}>\n          <Row justify={\"space-between\"}>\n            <Col span={16}>\n              <Row justify={\"center\"}>\n                <Col span={18}>\n                  <Search\n                    placeholder={t(\"knowledgeBase.searchPlaceholder\")}\n                    allowClear\n                    enterButton={t(\"common.search\")}\n                    size=\"large\"\n                    value={searchArticle}\n                    onChange={(e) => {\n                      dispatch(updateSearchArticle(e.target.value));\n                    }}\n                    onSearch={(e) => {\n                      // ref.current.state.selectedKeys = []\n                      // let dataSearch = []\n                      dispatch(updateSearchArticle(e));\n                      if (e.length > 0) {\n                        navigate(\"/article-detail?object_id=\" + object_id);\n                      }\n                      // if(e.length > 0){\n                      //     dataSearch.push({\n                      //         \"id_field\": editKnowledgeBaseSetting.title,\n                      //         \"value\": e\n                      //     })\n                      // }\n                      // dispatch(getListArticle({\n                      //     data:\n                      //     {\n                      //         \"object_id\": object_id,\n                      //         \"page\": 0,\n                      //         \"limit\": 16,\n                      //         \"search_with_title\": e\n                      //     },\n                      //     pagination: {\n                      //         \"object_id\": object_id,\n                      //         \"current_page\": page,\n                      //         \"record_per_page\": 16,\n                      //         \"search_with\": {\n                      //             \"meta\": [],\n                      //             \"data\": dataSearch\n                      //         }\n                      //     }\n                      // }))\n                    }}\n                  />\n                </Col>\n              </Row>\n            </Col>\n            <Col span={8}>\n              <Row justify={\"end\"}>\n                <Button\n                  span={12}\n                  style={{ marginRight: \"0.5rem\" }}\n                  onClick={() => {\n                    navigate(\"/articles\");\n                  }}\n                >\n                  {t(\"knowledgeBase.addArticle\")}\n                </Button>\n                <Select\n                  span={12}\n                  defaultValue={\"knowledgebase\"}\n                  onChange={(e) => {\n                    if (e === \"list_view\") {\n                      navigate(\"/objects/\" + object_id + \"/default-view\");\n                      dispatch(updateIsFirst(true));\n                    }\n                  }}\n                >\n                  <Option value={\"list_view\"}>\n                    {t(\"knowledgeBase.goToListView\")}\n                  </Option>\n                  <Option value={\"knowledgebase\"}>\n                    {t(\"knowledgeBase.knowledgeBase\")}\n                  </Option>\n                </Select>\n              </Row>\n            </Col>\n          </Row>\n          <Row\n            style={{ height: \"90%\", overflowX: \"hidden\", overflowY: \"scroll\" }}\n            onScroll={(e) => {\n              if (\n                e.target.scrollTop + e.target.clientHeight >=\n                  e.target.scrollHeight &&\n                totalPage - 1 > page\n              ) {\n                let temp = [];\n                if (searchArticle.length > 0) {\n                  temp.push({\n                    id_field: editKnowledgeBaseSetting.title,\n                    value: searchArticle,\n                  });\n                }\n                if (filterArticle.section_name) {\n                  temp.push({\n                    id_field: editKnowledgeBaseSetting.section_name,\n                    value: filterArticle.section_name,\n                  });\n                }\n                if (filterArticle.category_name) {\n                  temp.push({\n                    id_field: editKnowledgeBaseSetting.category_name,\n                    value: filterArticle.category_name,\n                  });\n                }\n                dispatch(\n                  loadMoreArticle({\n                    data: {\n                      object_id: object_id,\n                      page: page + 1,\n                      limit: limit,\n                      search_with_title: searchArticle,\n                      ...filterArticle,\n                    },\n                    pagination: {\n                      object_id: object_id,\n                      current_page: page,\n                      record_per_page: 16,\n                      search_with: {\n                        meta: [],\n                        data: temp,\n                      },\n                      sort_by: {},\n                    },\n                  })\n                );\n              }\n            }}\n          >\n            <Col span={24}>\n              <Row\n                style={{ overflowX: \"hidden\", overflowY: \"scroll\" }}\n                align=\"top\"\n              >\n                {listArticle &&\n                  listArticle.map((article) => {\n                    return (\n                      <Col span={6} style={{ padding: \"1rem 1rem 0rem 0rem\" }}>\n                        <Article\n                          onClick={() => {\n                            navigate(\n                              \"/article-detail?id=\" +\n                                article._id +\n                                \"&object_id=\" +\n                                object_id\n                            );\n                          }}\n                        >\n                          <Row justify={\"space-between\"}>\n                            <Col span={18}>\n                              <span className={\"title-article\"}>\n                                {\" \"}\n                                {article.title}{\" \"}\n                              </span>\n                            </Col>\n                            <Col span={5} className={\"icon-edit-delete\"}>\n                              <img\n                                src={editIcon}\n                                alt=\"\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  e.preventDefault();\n                                  navigate(\n                                    \"/articles?object_id=\" +\n                                      object_id +\n                                      \"&id=\" +\n                                      article._id\n                                  );\n                                }}\n                              />\n                              <img\n                                src={deleteIcon}\n                                alt=\"\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  e.preventDefault();\n                                  deleteArticle(article._id);\n                                }}\n                              />\n                            </Col>\n                          </Row>\n                          <span className={\"body-article\"}>\n                            {\" \"}\n                            <p>{parse(article.body, optionsParse)}</p>\n                          </span>\n                        </Article>\n                      </Col>\n                    );\n                  })}\n              </Row>\n            </Col>\n          </Row>\n          {/* {\n                   totalPage-1 > page && \n                   <Row justify='end'>\n                        <Col span={2}>\n                                <span style={{fontSize: '16px'}} onClick={() => {\n                                    let temp = []\n                                    if(searchArticle.length > 0) {\n                                        temp.push({\n                                            \"id_field\": editKnowledgeBaseSetting.title,\n                                            \"value\": searchArticle\n                                        })\n                                    }\n                                    if(filterArticle.section_name) {\n                                        temp.push({\n                                            \"id_field\": editKnowledgeBaseSetting.section_name,\n                                            \"value\": filterArticle.section_name\n                                        })\n                                    }\n                                    if(filterArticle.category_name) {\n                                        temp.push({\n                                            \"id_field\": editKnowledgeBaseSetting.category_name,\n                                            \"value\": filterArticle.category_name\n                                        })\n                                    }\n                                dispatch(loadMoreArticle({\n                                    data:\n                                    {\n                                        \"object_id\": object_id,\n                                        \"page\": page+1,\n                                        \"limit\": limit,\n                                        \"search_with_title\": searchArticle,\n                                        ...filterArticle\n                                    },\n                                    pagination: {\n                                        \"object_id\": object_id,\n                                        \"current_page\": page,\n                                        \"record_per_page\": 16,\n                                        \"search_with\": {\n                                            \"meta\": [],\n                                            \"data\": temp\n                                        },\n                                        \"sort_by\": {}\n                                    }\n                                }))\n                                }}> Load more </span>\n                        </Col>\n                    </Row>\n               } */}\n        </Articles>\n        <ModalConfimDelete\n          title={t(\"knowledgeBase.deleteArticle\")}\n          decs={t(\"common.descriptionDelete\")}\n          methodDelete={deleteArticleById}\n          dataDelete={dataDelete}\n          isLoading={showLoadingScreen}\n        />\n      </CustomContent>\n    </>\n  );\n};\n\nexport default KnowledgeBaseView;\n\nconst CustomContent = styled(Row)`\n  padding: 1rem;\n  width: 100%;\n  height: 95%;\n  overflow: hidden scroll;\n`;\n\nconst TreeView = styled(Col)`\n  height: 100%;\n  background-color: #ffffff;\n`;\n\nconst Articles = styled(Col)`\n  height: 100%;\n  overflow: hidden;\n  padding: 1rem;\n  background-color: #ffffff;\n`;\nconst Article = styled.div`\n  padding: 1rem;\n  height: 20vh;\n  .title-article {\n    font-size: 16px;\n    font-family: var(--roboto-700);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n  }\n  .body-article {\n    font-family: var(--roboto-400);\n    font-size: 16px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n  }\n  border: 1px solid #ececec;\n  box-sizing: border-box;\n  border-radius: 4px;\n  .icon-edit-delete {\n    display: none;\n  }\n  &:hover {\n    border-bottom: 3px solid ${(props) => props.theme.main};\n    .icon-edit-delete {\n      display: block;\n    }\n  }\n`;\nconst BreadcrumbItem = styled(Breadcrumb.Item)`\n  font-family: var(--roboto-500);\n  font-size: 18px !important;\n  color: #2c2c2c;\n  cursor: default;\n`;\n"],"sourceRoot":""}