{"version":3,"sources":["pages/ArticleDetail/ArticleDetail.js"],"names":["ArticleDetail","dispatch","useDispatch","navigate","useNavigate","search","useLocation","query","URLSearchParams","editKnowledgeBaseSetting","useSelector","state","knowledgeBaseSettingReducer","editArticle","articlesReducer","listUserName","userReducer","listArticle","searchArticle","pagination","totalPage","totalRecord","knowledgeBaseViewReducer","page","limit","id","get","object_id","useEffect","getUserName","getKnowledgeBaseSetting","getArticleById","data","length","dataSearch","push","id_field","title","value","getListArticle","search_with_title","current_page","record_per_page","search_with","meta","unmountKnowledgeBaseSetting","unmountKnowledgeBaseView","unmountArticle","updateSearchArticle","_jsx","CustomContent","children","_jsxs","Col","span","style","height","Breadcrumb","BreadcrumbItem","Row","justify","align","backgroundColor","padding","maxHeight","overflow","onScroll","e","target","scrollTop","clientHeight","scrollHeight","temp","loadMoreArticle","sort_by","Search","placeholder","onChange","_Fragment","fontSize","fontWeight","color","map","item","onClick","getArticleByIdSuccess","border","borderRadius","parse","body","optionsParse","width","textAlign","marginLeft","borderWidth","TitleDetail","created_by","created_date","start_date","end_date","styled","_templateObject","_taggedTemplateLiteral","_templateObject2","Item","_templateObject3"],"mappings":"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","file":"static/js/140.8430f5c0.chunk.js","sourcesContent":["import { Breadcrumb, Col, Row } from \"antd\";\nimport Search from \"antd/lib/input/Search\";\nimport { useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router\";\nimport parse from \"html-react-parser\";\nimport { optionsParse } from \"util/staticData\";\nimport {\n  getArticleById,\n  getArticleByIdSuccess,\n  unmountArticle,\n} from \"redux/slices/articles\";\nimport {\n  getKnowledgeBaseSetting,\n  unmountKnowledgeBaseSetting,\n} from \"redux/slices/knowledgeBaseSetting\";\nimport {\n  getListArticle,\n  loadMoreArticle,\n  unmountKnowledgeBaseView,\n  updateSearchArticle,\n} from \"redux/slices/knowledgeBaseView\";\nimport { getUserName } from \"redux/slices/user\";\nimport { useDispatch, useSelector } from \"redux/store\";\nimport styled from \"styled-components\";\n\nconst ArticleDetail = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  const { editKnowledgeBaseSetting } = useSelector(\n    (state) => state.knowledgeBaseSettingReducer\n  );\n  const { editArticle } = useSelector((state) => state.articlesReducer);\n  const { listUserName } = useSelector((state) => state.userReducer);\n  // eslint-disable-next-line\n  const { listArticle, searchArticle, pagination, totalPage, totalRecord } =\n    useSelector((state) => state.knowledgeBaseViewReducer);\n  // eslint-disable-next-line\n  const { page, limit } = pagination;\n  const id = query.get(\"id\");\n  const object_id = query.get(\"object_id\");\n  useEffect(() => {\n    dispatch(getUserName());\n    dispatch(getKnowledgeBaseSetting());\n    if (id) {\n      dispatch(\n        getArticleById({\n          data: {\n            id: id,\n            object_id: object_id,\n          },\n          navigate,\n        })\n      );\n    }\n    if (searchArticle.length > 0) {\n      let dataSearch = [];\n      dataSearch.push({\n        id_field: editKnowledgeBaseSetting.title,\n        value: searchArticle,\n      });\n      dispatch(\n        getListArticle({\n          data: {\n            object_id: object_id,\n            page: 0,\n            limit: 16,\n            search_with_title: searchArticle,\n          },\n          pagination: {\n            object_id: object_id,\n            current_page: page,\n            record_per_page: 16,\n            search_with: {\n              meta: [],\n              data: dataSearch,\n            },\n          },\n        })\n      );\n    }\n    // eslint-disable-next-line\n  }, [id, object_id]);\n  useEffect(\n    () => () => {\n      dispatch(unmountKnowledgeBaseSetting());\n      dispatch(unmountKnowledgeBaseView());\n      dispatch(unmountArticle());\n      dispatch(updateSearchArticle(\"\"));\n    },\n    // eslint-disable-next-line\n    []\n  );\n\n  return (\n    <CustomContent>\n      <Col span={24} style={{ height: \"100%\" }}>\n        <Breadcrumb>\n          <BreadcrumbItem>Articles</BreadcrumbItem>\n        </Breadcrumb>\n        <Row justify={\"space-between\"} align=\"top\" style={{ height: \"95%\" }}>\n          <Col\n            style={{\n              backgroundColor: \"#FFFFFF\",\n              padding: \"0.5rem\",\n              maxHeight: \"80%\",\n              overflow: \"hidden scroll\",\n            }}\n            span={6}\n            onScroll={(e) => {\n              if (\n                e.target.scrollTop + e.target.clientHeight >=\n                  e.target.scrollHeight - 100 &&\n                totalPage - 1 > page\n              ) {\n                let temp = [];\n                if (searchArticle.length > 0) {\n                  temp.push({\n                    id_field: editKnowledgeBaseSetting.title,\n                    value: searchArticle,\n                  });\n                }\n                dispatch(\n                  loadMoreArticle({\n                    data: {\n                      object_id: object_id,\n                      page: page + 1,\n                      limit: limit,\n                      search_with_title: searchArticle,\n                    },\n                    pagination: {\n                      object_id: object_id,\n                      current_page: page,\n                      record_per_page: 16,\n                      search_with: {\n                        meta: [],\n                        data: temp,\n                      },\n                      sort_by: {},\n                    },\n                  })\n                );\n              }\n            }}\n          >\n            <Search\n              placeholder={\"Nhập tiêu đề muốn tìm kiếm\"}\n              value={searchArticle}\n              onChange={(e) => {\n                dispatch(updateSearchArticle(e.target.value));\n                let dataSearch = [];\n                if (e.target.value.length > 0) {\n                  dataSearch.push({\n                    id_field: editKnowledgeBaseSetting.title,\n                    value: e.target.value,\n                  });\n                  dispatch(\n                    getListArticle({\n                      data: {\n                        object_id: object_id,\n                        page: 0,\n                        limit: 16,\n                        search_with_title: e.target.value,\n                      },\n                      pagination: {\n                        object_id: object_id,\n                        current_page: page,\n                        record_per_page: 16,\n                        search_with: {\n                          meta: [],\n                          data: dataSearch,\n                        },\n                      },\n                    })\n                  );\n                }\n              }}\n            />\n            {searchArticle.length > 0 && (\n              <>\n                <p style={{ fontSize: \"18px\", fontWeight: 700 }}>\n                  Có {totalRecord} kết quả tìm kiếm cho \"{\" \"}\n                  <span style={{ color: \"#20a2a2\" }}>{searchArticle}</span> \"\n                </p>\n                <Row>\n                  <Col span={24}>\n                    {listArticle.length > 0 &&\n                      listArticle.map((item) => {\n                        return (\n                          <Row\n                            onClick={() => {\n                              dispatch(getArticleByIdSuccess(item));\n                            }}\n                            style={{\n                              padding: \"0.5rem\",\n                              border: \"1px solid #ECECEC\",\n                              borderRadius: \"4px\",\n                            }}\n                          >\n                            <Col span={24}>{item.title}</Col>\n                          </Row>\n                        );\n                      })}\n                  </Col>\n                </Row>\n              </>\n            )}\n          </Col>\n          <Col\n            span={12}\n            style={{\n              backgroundColor: \"#FFFFFF\",\n              padding: \"1rem 2.5rem\",\n              height: \"100%\",\n              overflow: \"scroll\",\n            }}\n          >\n            <p style={{ fontSize: \"24px\", fontWeight: 700 }}>\n              {editArticle.title}\n            </p>\n            <p>{parse(editArticle.body, optionsParse)}</p>\n          </Col>\n          <Col\n            span={5}\n            style={{ backgroundColor: \"#FFFFFF\", padding: \"0.5rem\" }}\n          >\n            <p style={{ fontSize: \"16px\", fontWeight: 700 }}>\n              {\" \"}\n              Thông tin chi tiết{\" \"}\n            </p>\n            <hr\n              style={{\n                width: \"50%\",\n                textAlign: \"left\",\n                marginLeft: 0,\n                height: \"3px\",\n                borderWidth: 0,\n                color: \"rgba(32, 162, 162, 1)\",\n                backgroundColor: \"rgba(32, 162, 162, 1)\",\n              }}\n            ></hr>\n            <p>\n              <TitleDetail> Create by: </TitleDetail>{\" \"}\n              {listUserName[editArticle.created_by]}{\" \"}\n            </p>\n            <p>\n              <TitleDetail> Create time: </TitleDetail>{\" \"}\n              {editArticle.created_date}{\" \"}\n            </p>\n            <p>\n              <TitleDetail> Expiration date: </TitleDetail>{\" \"}\n              {editArticle.start_date} - {editArticle.end_date}{\" \"}\n            </p>\n          </Col>\n        </Row>\n      </Col>\n    </CustomContent>\n  );\n};\n\nexport default ArticleDetail;\n\nconst CustomContent = styled(Row)`\n  padding: 1rem;\n  height: 100%;\n  overflow: hidden;\n`;\nconst TitleDetail = styled.span`\n  font-size: 16px;\n  font-family: var(--roboto-700);\n`;\n\nconst BreadcrumbItem = styled(Breadcrumb.Item)`\n  font-family: var(--roboto-500);\n  font-size: 18px !important;\n  color: #2c2c2c;\n  cursor: default;\n`;\n"],"sourceRoot":""}