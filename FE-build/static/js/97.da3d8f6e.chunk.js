(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[97],{1262:function(e,t,a){"use strict";t.a=a.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,t,a){"use strict";var n,o,c,r,l,i,s,d=a(21),m=a(102),p=a.n(m),b=a(320),f=a.n(b),u=a(1262),h=(a(0),a(39)),j=a(3),O=a(285),x=a(16),g=a(480),v=a(1229),y=a(2);const _=e=>{let{dataDelete:t,title:a,decs:n,methodDelete:o,setShowModalDelete:c,isLoading:r,mask:l,loadData:i,setPositionLogo:s,openConfirm:d,setOpenConfirm:m,type:p,onDelete:b}=e;const f=Object(h.c)(),{t:x}=Object(g.a)(),{showModalConfirmDelete:v}=Object(O.d)((e=>e.globalReducer)),_=()=>{"custom-view"===p&&m(!1),f(Object(j.setShowModalConfirmDelete)(!1)),c&&c(!0)};return Object(y.jsxs)(E,{title:x("common.confirmAction"),visible:"custom-view"===p?d:v,mask:l,onCancel:()=>{_()},width:400,footer:null,children:[Object(y.jsxs)(P,{children:[Object(y.jsx)("img",{alt:"",src:u.a}),Object(y.jsxs)(I,{children:[x("common.confirmDelete")," ",a,"?"]}),Object(y.jsx)(S,{children:n})]}),Object(y.jsxs)(w,{children:[Object(y.jsx)(k,{size:"large",htmlType:"submit",loading:r,onClick:()=>{o&&f(o({...t})),i(),f(Object(j.setShowModalConfirmDelete)(!1)),b&&b(),s&&s(t),"custom-view"===p&&m(!1)},children:x("common.delete")}),Object(y.jsx)(C,{size:"large",onClick:()=>{_()},children:x("common.cancel")})]})]})};t.a=Object(v.a)()(_),_.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const w=x.b.div(n||(n=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),k=Object(x.b)(p.a)(o||(o=Object(d.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),C=Object(x.b)(p.a)(c||(c=Object(d.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),P=x.b.div(r||(r=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),I=x.b.span(l||(l=Object(d.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),S=x.b.span(i||(i=Object(d.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),E=Object(x.b)(f.a)(s||(s=Object(d.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1267:function(e,t,a){"use strict";var n=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(1269));t.default=o.default},1269:function(e,t,a){"use strict";var n=a(24).default,o=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(a(44)),r=o(a(34)),l=o(a(108)),i=o(a(11)),s=o(a(236)),d=n(a(0)),m=a(61),p=o(a(251)),b=a(158),f=(o(a(93)),o(a(1270))),u=o(a(1271)),h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a};function j(e,t,a,n){var o=a.indexOf(e)===a.length-1,c=function(e,t){if(!e.breadcrumbName)return null;var a=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(a,")"),"g"),(function(e,a){return t[a]||e}))}(e,t);return o?d.createElement("span",null,c):d.createElement("a",{href:"#/".concat(n.join("/"))},c)}var O=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(a){e=e.replace(":".concat(a),t[a])})),e},x=function(e,t,a){var n=(0,l.default)(e),o=O(t||"",a);return o&&n.push(o),n},g=function(e){var t,a=e.prefixCls,n=e.separator,o=void 0===n?"/":n,l=e.style,u=e.className,g=e.routes,v=e.children,y=e.itemRender,_=void 0===y?j:y,w=e.params,k=void 0===w?{}:w,C=h(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),P=d.useContext(m.ConfigContext),I=P.getPrefixCls,S=P.direction,E=I("breadcrumb",a);if(g&&g.length>0){var N=[];t=g.map((function(e){var t,a=O(e.path,k);a&&N.push(a),e.children&&e.children.length&&(t=d.createElement(p.default,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:_(e,k,g,x(N,e.path,k))}}))}));var n={separator:o};return t&&(n.overlay=t),d.createElement(f.default,(0,r.default)({},n,{key:a||e.breadcrumbName}),_(e,k,g,N))}))}else v&&(t=(0,s.default)(v).map((function(e,t){return e?(0,b.cloneElement)(e,{separator:o,key:t}):e})));var B=(0,i.default)(E,(0,c.default)({},"".concat(E,"-rtl"),"rtl"===S),u);return d.createElement("nav",(0,r.default)({className:B,style:l},C),d.createElement("ol",null,t))};g.Item=f.default,g.Separator=u.default;t.default=g},1270:function(e,t,a){"use strict";var n=a(24).default,o=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(a(34)),r=o(a(483)),l=n(a(0)),i=(o(a(93)),a(61)),s=o(a(485)),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},m=function(e){var t=e.prefixCls,a=e.separator,n=void 0===a?"/":a,o=e.children,m=e.menu,p=e.overlay,b=e.dropdownProps,f=d(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),u=(0,l.useContext(i.ConfigContext).getPrefixCls)("breadcrumb",t);var h;return h=function(t){if(m||p){var a=(0,c.default)({},b);return"overlay"in e&&(a.overlay=p),l.createElement(s.default,(0,c.default)({menu:m,placement:"bottom"},a),l.createElement("span",{className:"".concat(u,"-overlay-link")},t,l.createElement(r.default,null)))}return t}(h="href"in f?l.createElement("a",(0,c.default)({className:"".concat(u,"-link")},f),o):l.createElement("span",(0,c.default)({className:"".concat(u,"-link")},f),o)),void 0!==o&&null!==o?l.createElement("li",null,h,n&&l.createElement("span",{className:"".concat(u,"-separator")},n)):null};m.__ANT_BREADCRUMB_ITEM=!0;t.default=m},1271:function(e,t,a){"use strict";var n=a(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),c=a(61),r=function(e){var t=e.children,a=(0,o.useContext(c.ConfigContext).getPrefixCls)("breadcrumb");return o.createElement("span",{className:"".concat(a,"-separator")},t||"/")};r.__ANT_BREADCRUMB_SEPARATOR=!0;t.default=r},1334:function(e,t,a){"use strict";var n=a(16),o=a(480),c=a(26),r=a(1267),l=a.n(r),i=a(719),s=a.n(i),d=a(2);t.a=function(e){let{nameBreadcrumb:t,listObjects:a,onChange:n}=e;const{t:r}=Object(o.a)(),i=Object(c.o)();return Object(d.jsxs)(m,{children:[Object(d.jsxs)(l.a,{children:[Object(d.jsx)(l.a.Item,{onClick:()=>i("/settings"),children:r("consolidatedView.setting")}),Object(d.jsx)(p,{children:t})]}),Object(d.jsxs)(b,{children:[Object(d.jsx)("span",{style:{fontSize:"16px",marginRight:"16px"},children:r("coreSetting.selectObject")}),Object(d.jsx)(s.a,{placeholder:r("common.placeholderSelect"),options:a,onChange:n,optionFilterProp:!1,showSearch:!0})]})]})};const m=n.b.div.withConfig({displayName:"selectObject__Wrapper",componentId:"sc-ffqf3j-0"})(["margin-bottom:16px;.ant-breadcrumb-link{cursor:pointer;}"]),p=Object(n.b)(l.a.Item).withConfig({displayName:"selectObject__BreadcrumbItem",componentId:"sc-ffqf3j-1"})(["font-family:var(--roboto-500);font-size:18px !important;color:#2c2c2c;cursor:default;"]),b=n.b.div.withConfig({displayName:"selectObject__WrapSelectObject",componentId:"sc-ffqf3j-2"})(["display:flex;justify-content:center;align-items:center;.ant-select{width:400px;}"])},1640:function(e,t,a){"use strict";t.a=a.p+"static/media/delete-user.17d90275.svg"},1811:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(0),c=a(39),r=a(13),l=a.n(r),i=a(480),s=a(250),d=a.n(s),m=a(210),p=a.n(m),b=a(719),f=a.n(b),u=a(486),h=a.n(u),j=a(102),O=a.n(j),x=a(488),g=a.n(x),v=a(123),y=a.n(v),_=a(1640),w=a(1263),k=a(14),C=a(15),P=a(3),I=a(1334),S=a(2);t.default=function(){const[e]=d.a.useForm(),t=Object(c.c)(),{t:a}=Object(i.a)(),{userRuleGlobal:n}=Object(c.d)((e=>e.userReducer)),{listObjectField:r}=Object(c.d)((e=>e.objectsReducer)),{configVoiceBiometric:s}=Object(c.d)((e=>e.consolidatedViewSettingsReducer)),{category:m}=Object(c.d)((e=>e.objectsManagementReducer)),[b,u]=Object(o.useState)(void 0),[j,x]=Object(o.useState)([]),[v,q]=Object(o.useState)(""),[T,z]=Object(o.useState)([]),[L,V]=Object(o.useState)([]),[W,U]=Object(o.useState)({}),G=e=>!!n.find((t=>"voice_biometric"===l.a.get(t,"domain","")&&t.actions.includes(e)));Object(o.useEffect)((()=>{Object.keys(s).length>0?(e.setFieldsValue({customer_name_field:s.customer_name_field,username:s.username,last_choice_field:s.last_choice_field,cif_field:s.cif_field,method:s.method,auth_type:s.auth_type,api_url:s.api_url,webhook_url:s.webhook_url}),q(s.auth_type),z(s.payload)):(e.setFieldsValue({customer_name_field:void 0,username:void 0,password:void 0,last_choice_field:void 0,cif_field:void 0,auth_type:void 0,api_url:void 0,webhook_url:void 0}),q(""),z([]))}),[s,e]);const J=(e,t,a)=>{let n=[...T];switch(t){case"field":n[a]={...n[a],field_id:e};break;case"key":n[a]={...n[a],key:e};break;case"format":n[a]={...n[a],format_date:e}}z(n)};return Object(o.useEffect)((()=>{if(Object.keys(m).length>0){let e=[];Object.entries(m).forEach((t=>{let[a,n]=t;n.forEach((t=>{t.Status&&e.push({label:t.Name,value:t._id})}))})),x(e)}}),[m]),Object(o.useEffect)((()=>{let e=[];r.forEach((t=>{null!==Object.values(t)[0]&&(Object.values(t)[0].readable||Object.values(t)[0].writeable)&&"main_object"===Object.keys(t)[0]&&Object.values(t)[0].sections.forEach((t=>{t.fields.forEach((t=>{!1!==t.hidden||!1!==t.permission_hidden||l.a.get(t,"encrypted",!1)||e.push({label:t.related_name,value:t.full_field_id,type:t.type})}))}))})),V(e)}),[r]),Object(S.jsxs)(E,{children:[Object(S.jsx)(I.a,{nameBreadcrumb:"Voice biometric",onChange:e=>{u(e),t(Object(k.rb)({api_version:"2",object_id:e})),t(Object(C.X)({object_id:e}))},listObjects:j}),b&&Object(S.jsx)(N,{children:Object(S.jsxs)(d.a,{form:e,onFinish:e=>{t(Object(C.Rc)({customer_name_field:e.customer_name_field,username:e.username,password:l.a.get(e,"password",void 0),last_choice_field:e.last_choice_field,object_id:b,cif_field:e.cif_field,method:"POST",auth_type:v,api_url:e.api_url,payload:T}))},labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[Object(S.jsxs)(B,{children:[Object(S.jsx)("legend",{children:"General"}),Object.keys(s).length>0&&Object(S.jsx)(d.a.Item,{label:"Webhook url",name:"webhook_url",children:Object(S.jsx)(p.a,{disabled:!0})}),Object(S.jsx)(d.a.Item,{label:"Customer name field",name:"customer_name_field",rules:[{required:!0,message:"Please select!"}],children:Object(S.jsx)(f.a,{placeholder:"Select Customer name field",options:L,optionFilterProp:"label",showSearch:!0})}),Object(S.jsx)(d.a.Item,{label:"Authentication type",name:"auth_type",rules:[{required:!0,message:"Please select!"}],children:Object(S.jsx)(f.a,{placeholder:"Select authentication type",options:[{label:"Basic",value:"basic"}],onChange:e=>(e=>{q(e)})(e)})}),"basic"===v&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(d.a.Item,{label:"User name",name:"username",rules:[{required:!0,message:"Please input!"}],children:Object(S.jsx)(p.a,{placeholder:"Please input"})}),Object(S.jsx)(d.a.Item,{label:"Password",name:"password",children:Object(S.jsx)(p.a.Password,{placeholder:"Please input",autocomplete:"new-password"})})]}),Object(S.jsx)(d.a.Item,{label:"Last choice field",name:"last_choice_field",rules:[{required:!0,message:"Please select!"}],children:Object(S.jsx)(f.a,{placeholder:"Select Last choice field",options:L,optionFilterProp:"label",showSearch:!0})}),Object(S.jsx)(d.a.Item,{label:"Cif field",name:"cif_field",rules:[{required:!0,message:"Please select!"}],children:Object(S.jsx)(f.a,{placeholder:"Select Last choice field",options:L,optionFilterProp:"label",showSearch:!0})}),Object(S.jsx)(d.a.Item,{label:"API URL",name:"api_url",rules:[{required:!0,message:"Please input!"}],children:Object(S.jsx)(p.a,{placeholder:"Please input"})}),Object(S.jsx)(d.a.Item,{label:"Method",name:"method",children:Object(S.jsx)(g.a.Group,{defaultValue:"POST",optionType:"button",options:[{label:"POST",value:"POST"}]})})]}),Object(S.jsxs)(D,{children:[Object(S.jsx)("legend",{children:"Payload"}),T.length>0&&T.map(((e,t)=>Object(S.jsxs)(A,{wrapperCol:{span:24},children:[Object(S.jsx)(d.a.Item,{label:"Field ID",labelCol:{span:8},wrapperCol:{span:16},rules:[{required:!0,message:"Please input!"}],children:Object(S.jsx)(f.a,{value:e.field_id,placeholder:"Please select",options:L,onChange:e=>J(e,"field",t),optionFilterProp:"label",showSearch:!0})}),Object(S.jsx)(d.a.Item,{label:"Key",labelCol:{span:8},wrapperCol:{span:16},rules:[{required:!0,message:"Please input prefix!"}],children:Object(S.jsx)(p.a,{value:e.key,placeholder:"Please input",onChange:e=>J(e.target.value,"key",t)})}),Object(S.jsx)(d.a.Item,{label:"Format Date",labelCol:{span:16},wrapperCol:{span:8},labelAlign:"right",children:Object(S.jsx)(h.a,{checked:e.format_date,onChange:e=>J(e.target.checked,"format",t)})}),Object(S.jsx)(F,{children:Object(S.jsx)(y.a,{title:"Delete",children:Object(S.jsx)("img",{src:_.a,onClick:()=>(e=>{let t=[...T];t.splice(e,1),z(t)})(t),alt:"delete"})})})]},t))),Object(S.jsx)(R,{onClick:()=>{z([...T,{field_id:void 0,key:void 0,format_date:!1}])},children:Object(S.jsx)("span",{children:"+ Add payload"})})]}),Object(S.jsxs)(M,{children:[Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(O.a,{disabled:Object.keys(s).length>0&&!G("edit")||0===Object.keys(s).length&&!G("create"),type:"primary",htmlType:"submit",children:Object.keys(s).length>0?a("common.update"):a("common.save")})}),Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(O.a,{disabled:!G("delete"),onClick:()=>{U({object_id:b}),t(Object(P.setShowModalConfirmDelete)(!0))},children:a("common.delete")})})]})]})}),Object(S.jsx)(w.a,{title:"",decs:"After deleting data will not be undone",methodDelete:C.E,dataDelete:W,isLoading:!1})]})};const E=n.b.div.withConfig({displayName:"voiceBiometric__Wrapper",componentId:"sc-1cfgk6p-0"})(["padding:16px 24px;.ant-form{margin:0 auto;width:80%;@media screen and (min-width:1600px){width:50%;}}.ant-radio-button-wrapper-checked{color:",";border-color:"," !important;}.ant-radio-button-wrapper{width:73px;text-align:center;:hover{color:",";}}.ant-checkbox-checked .ant-checkbox-inner{background-color:",";border-color:",";}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main)),N=n.b.div.withConfig({displayName:"voiceBiometric__Wrap",componentId:"sc-1cfgk6p-1"})(["padding:24px;background:#fff;border-radius:10px;display:flex;height:fit-content;"]),B=n.b.fieldset.withConfig({displayName:"voiceBiometric__BasicInfo",componentId:"sc-1cfgk6p-2"})(["padding:24px 16px 0 16px;border:1px solid #ececec;border-radius:5px;margin-bottom:24px;legend{width:fit-content;color:#2c2c2c;font-size:16px;font-family:var(--roboto-500);padding:0 8px;margin-bottom:0;border-bottom:none;}.ant-form-item{margin-bottom:8px;}"]),D=Object(n.b)(B).withConfig({displayName:"voiceBiometric__Payload",componentId:"sc-1cfgk6p-3"})([""]),R=n.b.div.withConfig({displayName:"voiceBiometric__AddNew",componentId:"sc-1cfgk6p-4"})(["margin-bottom:8px;width:fit-content;display:flex;align-items:center;cursor:pointer;span{margin-left:8px;color:",";font-size:16px;}"],(e=>e.theme.main)),A=Object(n.b)(d.a.Item).withConfig({displayName:"voiceBiometric__FormPayload",componentId:"sc-1cfgk6p-5"})(["width:100%;.ant-form-item-control-input-content{display:flex;justify-content:space-between;align-items:center;width:100%;}> .ant-col{max-width:100% !important;}.ant-form-item{margin-bottom:0;width:30%;flex-wrap:nowrap;}.ant-form-item-label > label{margin-bottom:0;}"]),F=n.b.div.withConfig({displayName:"voiceBiometric__Delete",componentId:"sc-1cfgk6p-6"})(["background:#ffffff;img{width:22px;&:hover{cursor:pointer;background:#eeeeee;}}"]),M=n.b.div.withConfig({displayName:"voiceBiometric__WrapButton",componentId:"sc-1cfgk6p-7"})(["display:flex;justify-content:center;align-items:center;margin-top:24px;.ant-form-item{margin-bottom:0;}.ant-btn{font-size:16px;height:unset;width:160px;:hover{background:","!important;span{color:#fff !important;}}:active{background:#fff;border:1px solid #d9d9d9;span{color:#2c2c2c;}}:focus{background:#fff;border:1px solid #d9d9d9;span{color:#2c2c2c;}}}.ant-btn-primary{margin-right:16px;background:",";border:1px solid ",";span{color:#fff;}:active{background:",";border:1px solid ",";span{color:#fff;}}:focus{background:",";border:1px solid ",";span{color:#fff;}}}"],(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main))}}]);
//# sourceMappingURL=97.da3d8f6e.chunk.js.map