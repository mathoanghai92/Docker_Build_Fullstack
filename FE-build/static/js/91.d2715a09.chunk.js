(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[91],{1262:function(e,t,n){"use strict";t.a=n.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,t,n){"use strict";var r,a,o,c,i,s,l,d=n(21),p=n(102),f=n.n(p),m=n(320),u=n.n(m),b=n(1262),x=(n(0),n(39)),j=n(3),h=n(285),g=n(16),O=n(480),y=n(1229),v=n(2);const _=e=>{let{dataDelete:t,title:n,decs:r,methodDelete:a,setShowModalDelete:o,isLoading:c,mask:i,loadData:s,setPositionLogo:l,openConfirm:d,setOpenConfirm:p,type:f,onDelete:m}=e;const u=Object(x.c)(),{t:g}=Object(O.a)(),{showModalConfirmDelete:y}=Object(h.d)((e=>e.globalReducer)),_=()=>{"custom-view"===f&&p(!1),u(Object(j.setShowModalConfirmDelete)(!1)),o&&o(!0)};return Object(v.jsxs)(I,{title:g("common.confirmAction"),visible:"custom-view"===f?d:y,mask:i,onCancel:()=>{_()},width:400,footer:null,children:[Object(v.jsxs)(E,{children:[Object(v.jsx)("img",{alt:"",src:b.a}),Object(v.jsxs)(N,{children:[g("common.confirmDelete")," ",n,"?"]}),Object(v.jsx)(D,{children:r})]}),Object(v.jsxs)(C,{children:[Object(v.jsx)(k,{size:"large",htmlType:"submit",loading:c,onClick:()=>{a&&u(a({...t})),s(),u(Object(j.setShowModalConfirmDelete)(!1)),m&&m(),l&&l(t),"custom-view"===f&&p(!1)},children:g("common.delete")}),Object(v.jsx)(w,{size:"large",onClick:()=>{_()},children:g("common.cancel")})]})]})};t.a=Object(y.a)()(_),_.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const C=g.b.div(r||(r=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),k=Object(g.b)(f.a)(a||(a=Object(d.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),w=Object(g.b)(f.a)(o||(o=Object(d.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),E=g.b.div(c||(c=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),N=g.b.span(i||(i=Object(d.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),D=g.b.span(s||(s=Object(d.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),I=Object(g.b)(u.a)(l||(l=Object(d.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1264:function(e,t,n){"use strict";t.a=n.p+"static/media/delete.9999fdd9.svg"},1267:function(e,t,n){"use strict";var r=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1269));t.default=a.default},1269:function(e,t,n){"use strict";var r=n(24).default,a=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(44)),c=a(n(34)),i=a(n(108)),s=a(n(11)),l=a(n(236)),d=r(n(0)),p=n(61),f=a(n(251)),m=n(158),u=(a(n(93)),a(n(1270))),b=a(n(1271)),x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function j(e,t,n,r){var a=n.indexOf(e)===n.length-1,o=function(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}))}(e,t);return a?d.createElement("span",null,o):d.createElement("a",{href:"#/".concat(r.join("/"))},o)}var h=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},g=function(e,t,n){var r=(0,i.default)(e),a=h(t||"",n);return a&&r.push(a),r},O=function(e){var t,n=e.prefixCls,r=e.separator,a=void 0===r?"/":r,i=e.style,b=e.className,O=e.routes,y=e.children,v=e.itemRender,_=void 0===v?j:v,C=e.params,k=void 0===C?{}:C,w=x(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),E=d.useContext(p.ConfigContext),N=E.getPrefixCls,D=E.direction,I=N("breadcrumb",n);if(O&&O.length>0){var P=[];t=O.map((function(e){var t,n=h(e.path,k);n&&P.push(n),e.children&&e.children.length&&(t=d.createElement(f.default,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:_(e,k,O,g(P,e.path,k))}}))}));var r={separator:a};return t&&(r.overlay=t),d.createElement(u.default,(0,c.default)({},r,{key:n||e.breadcrumbName}),_(e,k,O,P))}))}else y&&(t=(0,l.default)(y).map((function(e,t){return e?(0,m.cloneElement)(e,{separator:a,key:t}):e})));var S=(0,s.default)(I,(0,o.default)({},"".concat(I,"-rtl"),"rtl"===D),b);return d.createElement("nav",(0,c.default)({className:S,style:i},w),d.createElement("ol",null,t))};O.Item=u.default,O.Separator=b.default;t.default=O},1270:function(e,t,n){"use strict";var r=n(24).default,a=n(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(34)),c=a(n(483)),i=r(n(0)),s=(a(n(93)),n(61)),l=a(n(485)),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},p=function(e){var t=e.prefixCls,n=e.separator,r=void 0===n?"/":n,a=e.children,p=e.menu,f=e.overlay,m=e.dropdownProps,u=d(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),b=(0,i.useContext(s.ConfigContext).getPrefixCls)("breadcrumb",t);var x;return x=function(t){if(p||f){var n=(0,o.default)({},m);return"overlay"in e&&(n.overlay=f),i.createElement(l.default,(0,o.default)({menu:p,placement:"bottom"},n),i.createElement("span",{className:"".concat(b,"-overlay-link")},t,i.createElement(c.default,null)))}return t}(x="href"in u?i.createElement("a",(0,o.default)({className:"".concat(b,"-link")},u),a):i.createElement("span",(0,o.default)({className:"".concat(b,"-link")},u),a)),void 0!==a&&null!==a?i.createElement("li",null,x,r&&i.createElement("span",{className:"".concat(b,"-separator")},r)):null};p.__ANT_BREADCRUMB_ITEM=!0;t.default=p},1271:function(e,t,n){"use strict";var r=n(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=n(61),c=function(e){var t=e.children,n=(0,a.useContext(o.ConfigContext).getPrefixCls)("breadcrumb");return a.createElement("span",{className:"".concat(n,"-separator")},t||"/")};c.__ANT_BREADCRUMB_SEPARATOR=!0;t.default=c},1635:function(e,t,n){"use strict";t.a=n.p+"static/media/empty-folder.582f47fc.webp"},1739:function(e,t,n){"use strict";t.a=n.p+"static/media/XLSX.575a4371.svg"},2095:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(0),o=n(26),c=n(39),i=n(499),s=n.n(i),l=n(251),d=n.n(l),p=n(1267),f=n.n(p),m=n(165),u=n.n(m),b=n(123),x=n.n(b),j=n(1635),h=n.p+"static/media/Refresh.0bca7f6c.svg",g=n(1264),O=n.p+"static/media/CSV.1b608128.svg",y=n.p+"static/media/PDF.fe0aa838.svg",v=n(1739),_=n(183),C=n(1263),k=n(3),w=n(5),E=n(2);t.default=function(e){const t=Object(o.o)(),n=Object(c.c)(),{allExportHistory:r,loading:i,defaultActive:l}=Object(c.d)((e=>e.exportHistoryReducer)),[p,m]=Object(a.useState)({}),[b,T]=Object(a.useState)(""),[B,L]=Object(a.useState)("");Object(a.useEffect)((()=>{r.length>0&&m(r[parseInt(l)])}),[r,l]);const F=()=>{const e=new Date,t=e.getHours()+":"+e.getMinutes();T(t)};return Object(a.useEffect)((()=>{F()}),[]),Object(a.useEffect)((()=>{n(Object(_.d)())}),[n]),Object(E.jsxs)(N,{children:[Object(E.jsxs)(f.a,{children:[Object(E.jsx)(f.a.Item,{onClick:()=>t("/report#my_folders"),children:"Report"}),Object(E.jsx)(D,{children:"Export history"})]}),0===r.length?Object(E.jsx)(s.a,{image:j.a,description:Object(E.jsxs)("p",{children:["Hi\u1ec7n ch\u01b0a c\xf3 ",Object(E.jsx)("span",{children:"Export history"})]})}):Object(E.jsxs)(I,{children:[Object(E.jsx)(P,{onClick:e=>{n(Object(_.i)(e.key))},selectedKeys:l,children:r.map(((e,t)=>Object(E.jsx)(d.a.Item,{children:Object(E.jsx)("span",{children:e.name})},t)))}),Object.keys(p).length>0&&Object(E.jsxs)(S,{children:[Object(E.jsxs)(H,{children:["xlsx"===p.file_type?Object(E.jsx)("img",{src:v.a,alt:"xlsx"}):"csv"===p.file_type?Object(E.jsx)("img",{src:O,alt:"csv"}):Object(E.jsx)("img",{src:y,alt:"pdf"}),Object(E.jsxs)(M,{children:[Object(E.jsx)("span",{children:p.name}),Object(E.jsxs)(R,{children:[Object(E.jsxs)("span",{children:["Refreshed at ",b]}),p.is_running&&Object(E.jsx)(E.Fragment,{children:i?Object(E.jsx)(u.a,{}):Object(E.jsx)("img",{onClick:()=>{F(),n(Object(_.f)({export_history_id:p._id}))},src:h,alt:"refresh"})}),Object(E.jsx)("p",{children:"\u2022"}),p.is_running?Object(E.jsxs)("p",{children:["Exporting ",p.filenames.length,"/",p.total_files]}):Object(E.jsx)("p",{children:"Completed"})]})]}),Object(E.jsx)(A,{children:Object(E.jsx)("img",{onClick:()=>{L({export_history_id:p._id}),n(Object(k.setShowModalConfirmDelete)(!0))},src:g.a,alt:"delete"})})]}),p.filenames.length>0&&Object(E.jsx)(z,{children:p.filenames.map(((e,t)=>Object(E.jsx)("a",{href:"".concat(w.c).concat(e),children:Object(E.jsxs)(x.a,{title:"Download now",children:[p.name,".",p.file_type,"_",t+1]})})))})]})]}),Object(E.jsx)(C.a,{title:"",decs:"Sau khi x\xf3a d\u1eef li\u1ec7u s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",methodDelete:_.b,dataDelete:B,isLoading:!1})]})};const N=r.b.div.withConfig({displayName:"exportHistory__Wrapper",componentId:"sc-1skst45-0"})(["padding:24px;.ant-breadcrumb-link{cursor:pointer;}.ant-empty-description{span{color:",";font-size:16px;}}.ant-empty-footer{display:flex;justify-content:center;}.ant-empty{margin-top:16px;}.ant-spin{margin:0 16px;}.ant-spin-dot-item{background-color:",";}img{cursor:pointer;}"],(e=>e.theme.main),(e=>e.theme.main)),D=Object(r.b)(f.a.Item).withConfig({displayName:"exportHistory__BreadcrumbItem",componentId:"sc-1skst45-1"})(["font-family:var(--roboto-500);font-size:18px !important;color:#2c2c2c;cursor:default;"]),I=r.b.div.withConfig({displayName:"exportHistory__Wrap",componentId:"sc-1skst45-2"})(["display:flex;margin-top:8px;"]),P=Object(r.b)(d.a).withConfig({displayName:"exportHistory__MenuCustom",componentId:"sc-1skst45-3"})(["width:42.5rem;box-shadow:inset 0px -1px 0px #f0f0f0;border-radius:0px 0px 0px 10px;height:fit-content;.ant-menu-item{height:46px !important;line-height:46px !important;border-bottom:1px solid #f0f0f0;margin:0 !important;transition:border-color 0.5s ease;}.ant-menu-item-selected{background:#f0f0f0 !important;color:#2c2c2c;}.ant-menu-item{:hover{color:#2c2c2c;box-shadow:0px 2px 0px rgba(0,0,0,0.016);border:1px solid #d9d9d9;}}.ant-menu-title-content{display:flex;justify-content:space-between;align-items:center;}"]),S=r.b.div.withConfig({displayName:"exportHistory__DetailsExport",componentId:"sc-1skst45-4"})(["padding:24px;background:#f5f5f5;border:1px solid #ececec;flex:1;"]),H=r.b.div.withConfig({displayName:"exportHistory__WrapTitle",componentId:"sc-1skst45-5"})(["border-bottom:1px solid #ececec;padding-bottom:16px;display:flex;"]),M=r.b.div.withConfig({displayName:"exportHistory__Title",componentId:"sc-1skst45-6"})(["padding-left:24px;span{font-family:var(--roboto-500);font-size:22px;color:#2c2c2c;}"]),R=r.b.div.withConfig({displayName:"exportHistory__SubTitle",componentId:"sc-1skst45-7"})(["display:flex;align-items:center;img{margin-left:16px;}span{font-family:var(--roboto-400);font-size:16px;}p{font-size:14px;color:#6b6b6b;margin-bottom:0;margin-left:16px;}"]),z=r.b.div.withConfig({displayName:"exportHistory__ListFile",componentId:"sc-1skst45-8"})(["display:flex;flex-direction:column;margin-top:24px;padding-left:66px;a{color:#1267fb;:hover{text-decoration-line:underline;}}"]),A=r.b.div.withConfig({displayName:"exportHistory__DeleteHistory",componentId:"sc-1skst45-9"})(["margin-left:auto;"])}}]);
//# sourceMappingURL=91.d2715a09.chunk.js.map