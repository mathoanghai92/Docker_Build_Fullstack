(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[69],{1262:function(e,t,n){"use strict";t.a=n.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,t,n){"use strict";var a,i,l,o,c,r,s,d=n(21),u=n(102),b=n.n(u),p=n(320),h=n.n(p),m=n(1262),j=(n(0),n(39)),f=n(3),x=n(285),g=n(16),v=n(480),O=n(1229),y=n(2);const k=e=>{let{dataDelete:t,title:n,decs:a,methodDelete:i,setShowModalDelete:l,isLoading:o,mask:c,loadData:r,setPositionLogo:s,openConfirm:d,setOpenConfirm:u,type:b,onDelete:p}=e;const h=Object(j.c)(),{t:g}=Object(v.a)(),{showModalConfirmDelete:O}=Object(x.d)((e=>e.globalReducer)),k=()=>{"custom-view"===b&&u(!1),h(Object(f.setShowModalConfirmDelete)(!1)),l&&l(!0)};return Object(y.jsxs)(D,{title:g("common.confirmAction"),visible:"custom-view"===b?d:O,mask:c,onCancel:()=>{k()},width:400,footer:null,children:[Object(y.jsxs)(I,{children:[Object(y.jsx)("img",{alt:"",src:m.a}),Object(y.jsxs)(_,{children:[g("common.confirmDelete")," ",n,"?"]}),Object(y.jsx)(E,{children:a})]}),Object(y.jsxs)(w,{children:[Object(y.jsx)(C,{size:"large",htmlType:"submit",loading:o,onClick:()=>{i&&h(i({...t})),r(),h(Object(f.setShowModalConfirmDelete)(!1)),p&&p(),s&&s(t),"custom-view"===b&&u(!1)},children:g("common.delete")}),Object(y.jsx)(A,{size:"large",onClick:()=>{k()},children:g("common.cancel")})]})]})};t.a=Object(O.a)()(k),k.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const w=g.b.div(a||(a=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),C=Object(g.b)(b.a)(i||(i=Object(d.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),A=Object(g.b)(b.a)(l||(l=Object(d.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),I=g.b.div(o||(o=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),_=g.b.span(c||(c=Object(d.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),E=g.b.span(r||(r=Object(d.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),D=Object(g.b)(h.a)(s||(s=Object(d.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1264:function(e,t,n){"use strict";t.a=n.p+"static/media/delete.9999fdd9.svg"},1265:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbgSURBVHgB7Z1LUhtJEIaT9wQbiw3bae94u2c3uxG72RlOMPgE5gYwJ/BwgvGcAN2A9gmsQeKxo71lMzhCLEAIJpNoORo5S1JXK+vRri9CISJbElL/nVlZWVVdAIFAIBAIBAKBQCDwYzEFnrO2thbPzs7+9vT0FD0+PtbINj09fTM1NZU+PDx8Oj8/b4LHeClQHMc1PPn7KMJ7FKY27LUkFD41ZmZmjprNZgqeMQOesb6+vo9Px/j4HR8/jfEWEvBXFHJneXl56fr6OgGP8MaDMq8hYepQjgRD4jtfvMkLgVCcqNfrnVA7AxOAwh6GvG0fRJoGDyDPGVOcm+wxFPqszBudx3mBNjY2DvEpHvKSBD2i3ul0ltrt9vOD/kbbDgrxccj74s3NzQ/gOE6HOApteKVfccfw5KeYTu+1Wq1Pwz4DBa7ja/9GwSLuOKbmv7icijvtQdjuHHB2EgePbY8Sh0CPSui19B7uOIrstBc560HDvAftry8vL1MoAHVoUYzP3DHM6pYwYRjZdtnAWQ/Cq77O2aldKSoOkYWxQ+4YCv4HOIrLIe4tZ0Th/gRN0FOOODuKHoOjOCsQl1ajranjPX0ojGWln0GCQEXBE1ljbCmUJ2FsNXCU0klC1k95A5P/kfVBAwmkysbGBT8jZgqslCBMPNXGpOTj6enpP1CCUgKhOH/h03sIKKGk5uzs7B1ooi1QVrz8DwIjKZPGl2mDnI3bVUJboKwSnEBgFI0yneBZKAG67m632/1ADW8+68oaYakszDqKyjql8C+EwDpf4/b2VrvfRoiUerBKvEcFykG764XJcaDiKz6dDNrx9+5hMlAqY+OQ6gepXPpnqCiYUqcggIhAOFqZcnau8+kbqmELKYx6UBUEwlDGRgHscqQggGmBIqgoCwsLX0EAEYFUaWV/YqHPqC4yqfEksWIpl1JXJMRFjC0FIcQEwi99w9giqCCS/TvJ4QbO5UMWV5AQ4grCzQX3MsRBRT0ImN9AqylACKNtELG6uuptNYFmGnF21W+dBJIh7ovCvgT+wkYAyRBXqpqtA5aBXoEGNEB4f38fzc/Pp7p9jmyQMabJjKABvlclkJchLuXs2FmNoCB4YuNer3dFEw9pFDebB1EIek82AnyC1fYrmsgIBVFlcHjR+ScQjhWlnF0nk0Nxjgeyp4Os7D8WWdvxbRox9cdQ7BMoCL7vleL7iZR5CNNZHFFIIDq5it772MmGYpZqTSNhYb87hV0QQkwgVTvhczXBdB2OEJ24WJUh7hycB4mJQxifWerzkIPpKgIhKhD35T0vmHITYfz1oAqGuIixhRDnEFyI81cgVXz2sR5HVQjOLh0lpD1I9OoyTKSwe90GsT1srDJE4BmqOhyWrlIQxEqI06nH2UZVopKswxGiAqGnVCnEsQJJ1uEIK22Qj5mcqvaHdtE1UqICqW5W5OPcBNV3vri4+AKCmOgHfedFnk5gNF6HI8QF4kohnoa4iLH5L5BiAmMlPMhEKcuEB6WMuTJtkDRW2qAKhbgUhDER4lLOrqptuYitOhxhxYOIu7s7relXlrB2MZlog74q7N5MYMQ6XMTZKxHioMILiqUWDr/4HyBMFRYU20xqrHmQTwKZXjicx6ZAEXiO1MLhPOICVWFBsY0Ji32MTBrxfbWdrU4qYUSgii4oNjIYaWraldfLIbkQJz1hsU8IcWNgY8pvH+c9iEZluZPR6/VGbgvQp9vtJoM2+swCo6FGFw6/+D9ggLILigf2Xrihe7MVuX82vRY9djf3Gc/7OYzzXhsLh/MYWaNKC4rxB3F2qseNvIozMV5HUVRL01TrxLRarQY+NTQ+w/jC4TxWb2xedEGxrjhlPsPGwuE8pkJcytl9mMBoY+FwHiMCTXJBsWlsLBzOYzOLI3xItY0vHM5jRCCfFxTbrMMRxpIEj1fbWZmw2MeYQIqspw6OY7NQSpj0oCZji1xebZd1UuNBu8loYNKDmpwdM7x9cJQhu1A2wBDGBEIh2Nvm44/d17mxkTTZLWj2uGNF6oBlMSYQZT2qnYGx03esqnnZoL93OHdMdxdKXYyWelQ7OFJDTCdka2vL+naZdBct/C6fVV2AMrtQ6mB8o1s8ARTXD4e8JKG937AG9q+pnVJWVlboRoFvsfS0A8Mzy8N2u11tgQgUicJHHfwiQXHGGqKYJFaq2bQxFAjsuigFZaCdTmcXLGBFIEoYUKRtVdLgGLSL1vYkhjp0sL7ZOqbYe9jxO3BwIiMJQm3OEVjEukAEjXIuLi7uYHJAe7La7hMl9MCQdmTLa/I4IVAeyqjm5ube0Aboqs0KJ8zz5oC0UoEml0gvqw8EAoFAIBAIBALW+R/zPXQ8L7qaFQAAAABJRU5ErkJggg=="},1272:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAmCAYAAADEO7urAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgBrZY7UgJBEIa7dwkM8QbeQNAqy0cylBfQGyiWsfjIXTX1gbFYmhppaMaaqBFwBELNCE12xm5lqa199rD8CfOAb3um/6YXYMZCmJF2Wt4CfYxKAxnkuvhAQ8XzCpRUpYLPxkAtnDtQQs2j85sorBSweXJximha8fWp7nDv+OIAQLfj6xTt0BpISahREvoJGGVYB6ZudeRxRp/T9hDM7mPbG4qBY1iXhgsJmDFn91feC4/FQLZHFqxz7XnhXARMs8cY9xKF/T0YimBsD6MT9uCMaq13E4/Ig+XZQ2vT4CSIgUX2SIOxnAxYoT0gQ04GrNAeYqDUHiKgjT2yNLENHbWa9u+RZQ9RhGlCB0ZgoQmQMkc/NLeJb9AVuK5zA0K50Un/w39dWm8oSCalVl/bpP3uG0gjDBUEZpvvLb6OqL3m0WkLCpRaKexFx8EuYop9AtPotD0fbICsfSo9/W/wamxrFNiWHuuu7Q2MMYcpW1WupHFjT8iFHFGSBssbik6BKg51XFSLK+pp8On/iCIM1bnkCpHbKTfCSKRiO4l7itROVn1ZYifrRl9kJ9EdRtX79L/qa+obEbdiW3MU/ZY1kJVnp6mArN677y+tq3mCrkbXS7/B7h2f8X2qcF7qhZMVtRO32F8vNPH/SVCwugAAAABJRU5ErkJggg=="},1273:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAmCAYAAADEO7urAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIZSURBVHgBtZZBctMwFIbfk3MAHyHcgLSb0m4cuAA5ASVhj9t0yUxkyg5S3DUNlBN0zcrupu2q8Q3IEXKB+PEU7I4ry7GUab8ZTxxJ/uf3e79lAzw3h6H0+ejClmD1z2h8+hEgl3zq87FYrah3GcslOCCqzlgsLsQUXc/DK3BEVM59w3zw4eTzd3DAK0+yu3S5s98PlDNtzV7v1RuY3ybX4OgQuGbviWChL0LM5Wj85R1YgPqA6jDXbg71EiyFoP6PrzIDW4cK7uoCkQaGtX6e41VbpIRp8OKbTInyI8OUcp/8T4SDoOLnWRSz06hBtDFOHmzg/iZNd/aDF1zql7ro7sFr//4m+QO2DktWKwj5p9YIIgqHx6cTfRzBAtUIITBBrGWU8Q5n00+/nQRLUZs4td5yiW2crB2WDI8nIaIwPd/r3ckDR+a313e7BwEbwUCb8rnOe86Cik1xsq6hTlOcthYs8J9M0PPEL6jvndsJDk/UE0JvDVOZe2xYDGn9InuE2pjznPpOgqOxZFf1naYUW4cfLNnw6EHxul13vOMglpjE+H1zdBlHD/Fpdah258JZtyZGFF2cSVkda+1yUzy4cue6WKvDpo4y2Ww66Zmu6biKFR0dNF1ndGgTD7AVtI1HEx2DmFU8rAQLsW5NTMVjGsVgAWru/taX0PlsKkOwpJrDZXFUyVzEHgmqT1/+nql8elDKTRiAI/8AoTHxlA83fhAAAAAASUVORK5CYII="},1274:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAuCAYAAABTTPsKAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARWSURBVHgB1VlbUttYEO2+9gK8g2hWMJ4VYFYAWQEOzFTNnz2Q+ZyxnPwGCv5SlQScFQArwFlBnBXES3D+I3VO25Ksx5VkWSYip4qirty6OurbbxH9YmD6RdAfuh386+yUMDZ1qEVdI8Yxxn8mvtGHEBt/4fv0zWeakUfzyaU7q7Lv8cvXIxbfXe5FNQGSvXabDkS4j2Vnw9vmePTUI/9+cu7elezvtFr8NVxvRViPx5jWgNnvY+lQPczxsuPri/8nth9PztxD0LwN14YqQjWKN/4Msi7VJ6twmOXm5Gz89fj0VT/9owh14+s2bQjVaqtlbrDFIT0OAuKv9jzPH8PO53pRGNdjQhuZRGBHD1SqUVFn+gStzIxRO10DTgdCqi3+Hcte8T409zzZV9LQ/ENcvpQwyHZB9jaPrBAtDMvV9+90iQcsaAOoAvBCPTx+hJdwcsQWxsi+5/Mtx57NZRurvZLF+7chasPx6WgIVxrkEF+kn80lZPPMYIYjex7aWV0Ez9JT7JbJ5kYJbAAHs5GVj6F90fYEu/oXrnWvD+ejP7D3Vdm9Vg2fnL0ewE0uyUL2w7nbp+2JdgJN9mKX9djhrLwQ8b8w8wEVaLpt2dQB2aFFdlaHrAKOdkjZCNFZXRMC2dKQmSHcatGIUqaAMDX3fXlO9eFQTSRseKXdZU2QAo934WCIxRNamcDWSBBexcYkVLt5eb4q9KXhsIFz8Z0mGqn2ArOESbDhgQbYJHhMO0RwUgkfUWdExdeFcjpaOzCZZ8TiCAnSMjsqE5jlC47dlCjjQqHri9Fv1DD+Bre3gUlGJgFny4QSeO2UngDexvwnIgyH6GVF/Xt6YogIG7OsohLwvGTF1TTUbNdOxwjgKYer2ns9FuJ1TaRh9dCU3JyeCOJ1TeUWqQlILEMWEd60A350cIxLRBgFdDrjdILhRaMIByjheh3WRL5Y5B1qGu1kflhrWCQTEdBT9ahhGF/shBGHM4SZzQE1jDSHiDCaSSWctuNek3a8KneTGTgiHHS+FrOgITUE024dZa7FF5i8ZEpJFECDJrSs2sXEsp++niD8/o071ZIyJYNa1YzoJyOvVbMkjqyWRWS4miL+HByfarNrb9Vy2vzkPCvAQtubXQ1P8pA3bQqbCWtqNp78Y7msM4WHwHMfBbGqLOMzaI/2l9xsN75DWYmhho30csO//nVLR0pVEc6dyZJdkdSirr1wGAi7nUDkyPabiHGvL/6r3aDGpvmuXUKuMMCJQmvpuLWINJWM+8ugzoWwmYkGa2RHYxsNtEtIK+aI4XfIlvc4ummB3PLoodE9aFS1VhDf7XO8jT/K/PnSdaHNTeJxNNxD5b1O9QZFjCw1WZqE1GbfX7iu9TeqAJDu+T7fFEzNa2GZGIy80ASWJ7PVZy/VNogf7Yp4lWn+1h8WN/xOUQiMouaG6WOVzw47+XS7MhXqweP3oK0u59ipapIxAMQLfsJyWnT0efgBj+HWwezHMikAAAAASUVORK5CYII="},1283:function(e,t,n){"use strict";t.a=n.p+"static/media/edit.688907bc.svg"},1284:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT4SURBVHgB7Z0/bhNBFMaf7RSUbpJIaXAZJbEwHR1xRwc3SHICQoWoMBV0kBMQTgA5QTYnIP+VLksXJU2UCkWOzfvkDTh4Z3dmdmzv7ryfFK3lmTXS9+3MvPeWnSUSBEEQBEEQBEEQBJ+okBBLq9Wq393drfLHer/ff1ypVH7xMZyZmdlnrskRYsB/NJvNdRZ6jT+uJnQLqtXq9uHh4TfKiBgQsbKysspX+VcWv6F7DvcPa7Vam0dESJZUSaDl5eVNPuyaiA/Qv9vtnkfnW1Ejz+Erv8NX8kfKAJ//YnZ2Nry6ujogQ7yegiA+H96TG657vV779PR03+Qkb6cgTfER7fzgqWabj0FK3zovzJ/JEC9HgIb41yz65snJyYMoZ3FxscFhKCKkTsK57ePj44A08c6ANPER63P83z47OwtVfaJQ9auiOWAD2qSJV4uwC/HB5eXl/tzcHD6uxjQ3FhYWti4uLn6TBt6sAa7Ev4enoi0arBEj3N7ePidNvDDAtfggKkfERjwcltZJk9IboBPtsGAbJuIPnRcqvm+QJqU2QDfORwmCi28NMif2SseIIk1Ka4BJkoWSAk9BuxYmtOK+5HwgJE1KaYBNhmtqQhSKxvblAp12SaJ0BugkWaoGXROidtW/EZjcLyiVATrRDlcvn1JCJptmAr5Hu+rqj8oW2pQmETMJNTmR2ktIpADugr3ihGqHE6q/V7OG+CGXLzbIgFKMAJs4n8sFH8hgJKSJD3jxXSdDCj8CsiRZuiOB+xzw8XvKDZsOm2p8i7LQxThXGS7/Dn6jQ/Z0ohFlTGFHgMvygsZISMJafFBIA8ZR27E0IZP4oHAGjEP8ewxNyCw+KFQUNE7x7+EyMxbStETKifigMAZMQvz7UJMURbYIZ+KDQkRBkxRfI9R0Jj7IvQFlFh/k2oCyiw9ya4AP4oNcGuCL+CB3BvgkPsiVAb6JD3JjgI/ig1wY4Kv4YOoG+Cw+mKoBvosPpmaAiD9gKgaI+P+YuAEi/kMmaoCIP8rEDBDx45mIASK+mrEbIOInM1YDRPx0xmaAiK/HWAwQ8fVxboCIb4ZTA7BrSKVSUT6uL+KP4syASJifLIzywTURf5QZckS328WVL+Ib4mQEYLcpPuzGtYn4yTj5r4k8779WtYn4yWQ2ALsL4ikSRXNHxE8m8xoQbe04Qn/wwJq1MD6ID1xMQS8V3wdkiS/ig8wGsEgtRVNAFvgkPshkQPQIZ6wBLOIeWfyeT+KDTAawWLHiY/43XXx9FB9knYKczP++ig8yGeBi/vdZfGAdhkI4Lj9Yz//IH/j8Te77WlU/iiit+MDaAJv5P9oSHknbEz6u02ArAEqg1OKDLIlY6vw/LDj/veIrvkH6lF58YG2Aav6vVqv1ZrOJyqip4MN4IT6wqoZG8/85uQcPSEP8LfIEqxGgmv8zErCpG1mKd0XEdgp6Se4IuJzdOTo6Ms6cy4CVAX3DN00Mg81Oe73ej1qttn9zc7MThqGzF+IUESsDWMTrlPBxuK8InoDtCMAiGXsTRgQ3w/qe8NLS0jqHnGs0SKYCEVwQBEEQzLBahKOXn6WVkb0H4ToftjnJfKPqY7xrIov/hQ9v+e8RCWlAo2fYiRE7MsZ1sLkjtkaCKcp3TcrLPKeMjQFfSDCC14JtVZvxGoC5bH5+HovvIsk6kAYW4U98f+MdCYIg5I8/W9Rqkk/fQVMAAAAASUVORK5CYII="},1287:function(e,t,n){"use strict";n.r(t);var a=n(10),i=n(12),l=n(0),o=n(487),c=n(62),r=n(8),s=n(9),d=n(11),u=n.n(d),b=n(103),p=n(35),h=n(147),m=l.createContext(null);var j=function(e){var t=e.prefixCls,n=e.className,i=e.style,o=e.children,c=e.containerRef,r=e.id,d={onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp};return l.createElement(l.Fragment,null,l.createElement("div",Object(s.a)({id:r,className:u()("".concat(t,"-content"),n),style:Object(a.a)({},i),"aria-modal":"true",role:"dialog",ref:c},d),o))},f=n(43);n(88);function x(e){return"string"===typeof e&&String(Number(e))===e?(Object(f.a)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var g={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function v(e,t){var n,o,c,d,f=e.prefixCls,v=e.open,O=e.placement,y=e.inline,k=e.push,w=e.forceRender,C=e.autoFocus,A=e.keyboard,I=e.rootClassName,_=e.rootStyle,E=e.zIndex,D=e.className,S=e.id,R=e.style,N=e.motion,M=e.width,V=e.height,$=e.children,q=e.contentWrapperStyle,T=e.mask,B=e.maskClosable,W=e.maskMotion,F=e.maskClassName,z=e.maskStyle,U=e.afterOpenChange,Q=e.onClose,L=e.onMouseEnter,K=e.onMouseOver,Y=e.onMouseLeave,P=e.onClick,G=e.onKeyDown,H=e.onKeyUp,J=l.useRef(),Z=l.useRef(),X=l.useRef();l.useImperativeHandle(t,(function(){return J.current}));l.useEffect((function(){var e;v&&C&&(null===(e=J.current)||void 0===e||e.focus({preventScroll:!0}))}),[v]);var ee=l.useState(!1),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],ie=l.useContext(m),le=null!==(n=null!==(o=null===(c=!1===k?{distance:0}:!0===k?{}:k||{})||void 0===c?void 0:c.distance)&&void 0!==o?o:null===ie||void 0===ie?void 0:ie.pushDistance)&&void 0!==n?n:180,oe=l.useMemo((function(){return{pushDistance:le,push:function(){ae(!0)},pull:function(){ae(!1)}}}),[le]);l.useEffect((function(){var e,t;v?null===ie||void 0===ie||null===(e=ie.push)||void 0===e||e.call(ie):null===ie||void 0===ie||null===(t=ie.pull)||void 0===t||t.call(ie)}),[v]),l.useEffect((function(){return function(){var e;null===ie||void 0===ie||null===(e=ie.pull)||void 0===e||e.call(ie)}}),[]);var ce=T&&l.createElement(b.default,Object(s.a)({key:"mask"},W,{visible:v}),(function(e,t){var n=e.className,i=e.style;return l.createElement("div",{className:u()("".concat(f,"-mask"),n,F),style:Object(a.a)(Object(a.a)({},i),z),onClick:B&&v?Q:void 0,ref:t})})),re="function"===typeof N?N(O):N,se={};if(ne&&le)switch(O){case"top":se.transform="translateY(".concat(le,"px)");break;case"bottom":se.transform="translateY(".concat(-le,"px)");break;case"left":se.transform="translateX(".concat(le,"px)");break;default:se.transform="translateX(".concat(-le,"px)")}"left"===O||"right"===O?se.width=x(M):se.height=x(V);var de={onMouseEnter:L,onMouseOver:K,onMouseLeave:Y,onClick:P,onKeyDown:G,onKeyUp:H},ue=l.createElement(b.default,Object(s.a)({key:"panel"},re,{visible:v,forceRender:w,onVisibleChanged:function(e){null===U||void 0===U||U(e)},removeOnLeave:!1,leavedClassName:"".concat(f,"-content-wrapper-hidden")}),(function(t,n){var i=t.className,o=t.style;return l.createElement("div",Object(s.a)({className:u()("".concat(f,"-content-wrapper"),i),style:Object(a.a)(Object(a.a)(Object(a.a)({},se),o),q)},Object(h.a)(e,{data:!0})),l.createElement(j,Object(s.a)({id:S,containerRef:n,prefixCls:f,className:D,style:R},de),$))})),be=Object(a.a)({},_);return E&&(be.zIndex=E),l.createElement(m.Provider,{value:oe},l.createElement("div",{className:u()(f,"".concat(f,"-").concat(O),I,(d={},Object(r.a)(d,"".concat(f,"-open"),v),Object(r.a)(d,"".concat(f,"-inline"),y),d)),style:be,tabIndex:-1,ref:J,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case p.a.TAB:var a;if(t===p.a.TAB)if(n||document.activeElement!==X.current){if(n&&document.activeElement===Z.current){var i;null===(i=X.current)||void 0===i||i.focus({preventScroll:!0})}}else null===(a=Z.current)||void 0===a||a.focus({preventScroll:!0});break;case p.a.ESC:Q&&A&&(e.stopPropagation(),Q(e))}}},ce,l.createElement("div",{tabIndex:0,ref:Z,style:g,"aria-hidden":"true","data-sentinel":"start"}),ue,l.createElement("div",{tabIndex:0,ref:X,style:g,"aria-hidden":"true","data-sentinel":"end"})))}var O=l.forwardRef(v);var y=function(e){var t=e.open,n=void 0!==t&&t,r=e.prefixCls,s=void 0===r?"rc-drawer":r,d=e.placement,u=void 0===d?"right":d,b=e.autoFocus,p=void 0===b||b,h=e.keyboard,m=void 0===h||h,j=e.width,f=void 0===j?378:j,x=e.mask,g=void 0===x||x,v=e.maskClosable,y=void 0===v||v,k=e.getContainer,w=e.forceRender,C=e.afterOpenChange,A=e.destroyOnClose,I=e.onMouseEnter,_=e.onMouseOver,E=e.onMouseLeave,D=e.onClick,S=e.onKeyDown,R=e.onKeyUp,N=l.useState(!1),M=Object(i.a)(N,2),V=M[0],$=M[1];var q=l.useState(!1),T=Object(i.a)(q,2),B=T[0],W=T[1];Object(c.a)((function(){W(!0)}),[]);var F=!!B&&n,z=l.useRef(),U=l.useRef();Object(c.a)((function(){F&&(U.current=document.activeElement)}),[F]);if(!w&&!V&&!F&&A)return null;var Q={onMouseEnter:I,onMouseOver:_,onMouseLeave:E,onClick:D,onKeyDown:S,onKeyUp:R},L=Object(a.a)(Object(a.a)({},e),{},{open:F,prefixCls:s,placement:u,autoFocus:p,keyboard:m,width:f,mask:g,maskClosable:y,inline:!1===k,afterOpenChange:function(e){var t,n;($(e),null===C||void 0===C||C(e),e||!U.current||(null===(t=z.current)||void 0===t?void 0:t.contains(U.current)))||(null===(n=U.current)||void 0===n||n.focus({preventScroll:!0}))},ref:z},Q);return l.createElement(o.a,{open:F||w||V,autoDestroy:!1,getContainer:k,autoLock:g&&(F||V)},l.createElement(O,L))};t.default=y},1291:function(e,t,n){"use strict";var a=n(21),i=n(0),l=n(39),o=n(16),c=n(317),r=n(708),s=n(1244),d=n(1245),u=n(148),b=n(1265),p=n(484),h=n.n(p),m=n(2);var j,f,x,g,v,O,y=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:l,setValue:o,value:c,index:s,dataDetails:d}=e;return Object(i.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),c.map(((t,n)=>{e.push(t)})),t){case"empty":n[s].value={$eq:null},e[s]="",o(e),l(n);break;case"not-empty":n[s].value={$ne:null},e[s]="",o(e),l(n);break;case"not-today":n[s].value={$ne:"today"},e[s]="",o(e),l(n);break;case"today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":n[s].value={$eq:t},e[s]="",o(e),l(n);break;case"$inWorkingTimeUCRM":n[s].value={$inWorkingTimeUCRM:""},e[s]="",o(e),l(n);break;case"$ninWorkingTimeUCRM":n[s].value={$ninWorkingTimeUCRM:""},e[s]="",o(e),l(n);break;case"$inWorkingDayUCRM":n[s].value={$inWorkingDayUCRM:""},e[s]="",o(e),l(n);break;case"$ninWorkingDayUCRM":n[s].value={$ninWorkingDayUCRM:""},e[s]="",o(e),l(n)}}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(r.a,{disabled:n||"empty"===t||"not-empty"===t,value:"today"===c[s]?"":c[s],maxLength:1e3,onChange:e=>{let n=[];a.map(((e,t)=>{n.push({...e})})),n[s].value="$regex"===t?{[t]:e.target.value,$options:"i"}:"$not"===t?{$not:{$regex:e.target.value,$options:"i"}}:{[t]:e.target.value};let i=[...c];i[s]=e.target.value,o(i),l(n)}})})},k=n(281),w=n(1361),C=n(1618),A=n(6),I=n.n(A),_=n(5),E=n(14),D=n(711),S=n(1348),R=n(284),N=n(389),M=n(546),V=n(1278),$=n.n(V);var q=e=>{const{visible:t,setVisible:n,selectedRowKeys:a,setSelectedRowKeys:l,searchData:o,selectedRows:c,setSelectedRows:s,setSearchData:d,reloadData:u,handleSelect:b,users:p,conditions:h,index:j,ID:f,operatorValue:x}=e,[g,v]=Object(i.useState)([]),[O,y]=Object(i.useState)(10),[w,C]=Object(i.useState)(1);Object(i.useEffect)((()=>{let e=[];p&&p.records&&p.records.map(((t,n)=>{let a={...t};a.key=t._id,e.push(a)})),v(e)}),[p]);const A=(e,t)=>({filterDropdown:n=>{let{setSelectedKeys:a,selectedKeys:i,confirm:l,clearFilters:o}=n;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(r.a,{placeholder:"Search ".concat(e),value:i[0],onChange:e=>a(e.target.value?[e.target.value]:[]),onPressEnter:()=>q(i,l,e,t),style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(D.b,{children:[Object(m.jsx)(z,{type:"primary",onClick:()=>q(i,l,e,t),icon:Object(m.jsx)(k.a,{}),size:"small",style:{width:90},children:"Search"}),Object(m.jsx)(U,{onClick:()=>Q(o),size:"small",style:{width:90},children:"Reset"}),Object(m.jsx)(U,{type:"link",size:"small",onClick:()=>{l({closeDropdown:!1})},children:"Filter"})]})]})},filterIcon:e=>Object(m.jsx)(k.a,{style:{color:e?"#1890ff":void 0}}),render:t=>M===e?Object(m.jsx)($.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[_],autoEscape:!0,textToHighlight:t?t.toString():""}):t}),I=[{title:"First name",dataIndex:"First_Name",key:"First_Name",width:"maxContent",editable:!0,...A("First_Name",o)},{title:"Middle name",dataIndex:"Middle_Name",key:"Middle_Name",width:"maxContent",editable:!0,...A("Middle_Name",o)},{title:"Last name",dataIndex:"Last_Name",key:"Last_Name",width:"maxContent",editable:!0,...A("Last_Name",o)},{title:"Email",dataIndex:"Email",key:"Email",width:"maxContent",editable:!0,...A("Email",o)},{title:"Report to",dataIndex:"Report_To_Name",key:"Report_To_Name",width:"maxContent",editable:!0,...A("Report_To_Name",o)},{title:"User role",dataIndex:"User_Role_Name",key:"Report_To_Name",width:"maxContent",editable:!0,...A("User_Role_Name",o)},{title:"Is admin",dataIndex:"Is_Admin",key:"Is_Admin",width:"maxContent",editable:!0,...A("Is_Admin",o),render:e=>Object(m.jsx)("div",{children:e?"Yes":"No"})},{title:"Created by",dataIndex:"Created_By_Name",key:"Created_By_Name",width:"maxContent",editable:!0,...A("Created_By_Name",o)},{title:"Created date",dataIndex:"Created_Date",key:"Created_Date",width:"maxContent",editable:!0,...A("Created_Date",o)},{title:"Modified by",dataIndex:"Modify_By_Name",key:"Modify_By_Name",width:"maxContent",editable:!0,...A("Modify_By_Name",o)},{title:"Modify time",dataIndex:"Modify_Time",key:"Modify_Time",width:"maxContent",editable:!0,...A("Modify_Time",o)}],[_,E]=Object(i.useState)(""),[M,V]=Object(i.useState)(""),q=(e,t,n,a)=>{t();let i={...a};i[n]=e[0],d(i),u(w,O,i),E(e[0]),V(n)},Q=e=>{e(),E("")};return Object(i.useEffect)((()=>{f&&l((e=>h[j].key?[h[j].key]:e))}),[f,h,j,l]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(S.a,{title:"User list",placement:"right",onClose:()=>{n(!1)},visible:t,width:1e3,children:Object(m.jsxs)(W,{children:[Object(m.jsx)(F,{children:Object(m.jsxs)("table",{children:[Object(m.jsxs)("thead",{className:"table-header",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),I.map(((e,t)=>Object(m.jsx)("th",{children:e.title})))]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),I.map(((e,t)=>Object(m.jsx)("th",{children:Object(m.jsx)(r.a,{onChange:t=>{let n={...o};n[e.dataIndex]=t.target.value,d(n)},value:o[e.dataIndex]||null,onPressEnter:()=>{u(w,O,o)}})})))]})]}),Object(m.jsx)("tbody",{className:"table-body",children:g.map(((e,t)=>Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"$nin"===x||"$in"===x?Object(m.jsx)(R.a,{checked:a.findIndex((t=>t===e._id))>=0,onChange:t=>{if((null===a||void 0===a?void 0:a.findIndex((t=>t===e._id)))>=0){let t=[...a];t=t.filter((t=>t!==e._id)),l(t);let n=[...c];n=n.filter((t=>t._id!==e._id)),s(n)}else{let t=[...a];t.push(e._id),l(t);let n=[...c];n.push(e),s(n)}}}):Object(m.jsx)(N.a,{checked:a[0]===e._id,onChange:()=>{l([e._id]),s([e])}})}),I.map(((t,n)=>Object(m.jsx)("td",{children:e[t.dataIndex]})))]})))})]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(B,{showQuickJumper:!0,current:w,total:p.total_record,showSizeChanger:!0,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," records"),pageSize:O,onChange:(e,t)=>{u(e,t,o),C(e),y(t)}}),Object(m.jsxs)(T,{children:[Object(m.jsx)(z,{onClick:()=>{b(a,c)},disabled:!a[0],children:"Save"}),Object(m.jsxs)(U,{onClick:()=>n(!1),children:[" ","Cancel"]})]})]})]})})})};const T=o.b.div(j||(j=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 826px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n"]))),B=Object(o.b)(M.a)(f||(f=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 16px;\n  width: 976px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n  .ant-pagination-item-active {\n    border-color: #0ab2ab;\n    a {\n      color: #0ab2ab;\n    }\n  }\n  .ant-pagination-item:hover {\n    border-color: #0ab2ab;\n    a {\n      color: #0ab2ab;\n    }\n  }\n"]))),W=o.b.div(x||(x=Object(a.a)(["\n  table {\n    width: max-content;\n    th {\n      width: max-content;\n      .ant-table-column-title {\n        margin-right: 30px;\n      }\n    }\n  }\n  padding-bottom: 100px;\n"]))),F=o.b.div(g||(g=Object(a.a)(["\n  width: 100%;\n  /* height: calc(100% - 187px); */\n  height: 100%;\n\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  background: #fff;\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: calc(100vh - 180px);\n  &::-webkit-scrollbar {\n    height: 8px !important;\n  }\n\n  table {\n    /* width: 100%; */\n    min-width: 100%;\n    width: max-content;\n    table-layout: auto;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 3;\n    }\n    .table-header th {\n      text-align: left;\n\n      box-shadow: inset 1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n        inset 0px -1px 0px #d9d9d9;\n\n      overflow: hidden;\n      resize: horizontal;\n      background: #f0f0f0;\n      min-width: 32px;\n      white-space: nowrap;\n      padding: 8px;\n      font-size: 16px;\n      &:first-child {\n        border-left: none;\n        /* text-align: center; */\n        width: 32px;\n        max-width: 32px;\n        resize: none;\n        position: sticky;\n        z-index: 4;\n        left: 0;\n        box-shadow: inset -1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n\n      &:nth-child(2) {\n        box-shadow: inset 0px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n      /* \n      &:last-child {\n        position: sticky;\n        z-index: 4;\n        right: 0;\n        border-right: none;\n        resize: none;\n        width: 122px;\n        max-width: 122px;\n\n        .hidden__component {\n          display: none;\n        }\n      } */\n    }\n\n    .table-body td {\n      border-bottom: 1px solid #ddd;\n      padding: 16px;\n\n      max-width: 200px;\n\n      &:first-child {\n        /* border-left: 1px solid #ddd; */\n        width: 32px;\n        max-width: 32px;\n        padding: 0;\n        text-align: center;\n        position: sticky;\n        z-index: 2;\n        left: 0;\n\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n        .ant-radio-wrapper {\n          margin-right: 0px;\n        }\n\n        .ant-radio-checked::after,\n        .ant-radio-checked .ant-radio-inner {\n          border-color: ",";\n        }\n      }\n\n      /* &:last-child {\n        border-right: 1px solid #ddd;\n        position: sticky;\n        z-index: 2;\n        right: 0;\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n      } */\n    }\n  }\n"])),(e=>e.theme.main)),z=Object(o.b)(u.a)(v||(v=Object(a.a)(["\n  /* width: 80px; */\n  background-color: ",";\n  color: #fff;\n  /* font-size: 16px; */\n  background-color: ",";\n  color: #fff;\n  border-color: ",";\n  margin-right: 16px;\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: #fff;\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),U=Object(o.b)(u.a)(O||(O=Object(a.a)(["\n  /* font-size: 16px; */\n  background-color: #fff;\n  /* width: 80px; */\n  color: #000;\n\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    color: ",";\n    border-color: ",";\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.darker));var Q,L=n(7);var K=e=>{var t;let{operatorValue:n,field:a,conditions:o,setConditions:c,setValue:s,value:d,disabled:u,index:b,ID:p,init:h}=e;const[j,f]=Object(i.useState)(!1),[x,g]=Object(i.useState)([]),[v,O]=Object(i.useState)([]),[y,C]=Object(i.useState)(""),[A,D]=Object(i.useState)({}),S=Object(l.c)(),{users:R}=Object(l.d)((e=>e.objectsReducer));Object(i.useEffect)((()=>{!0===j&&S(Object(E.Tb)({current_page:1,record_per_page:10}))}),[j]),Object(i.useEffect)((()=>{C(""),g([])}),[n]),Object(i.useEffect)((()=>{Object(L.a)()&&(o[b].key&&"$nin"!==n&&"$in"!==n?I.a.post(_.b+"user/get-user-details",{_id:o[b].key},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{let t=e.data.data.Full_Name;C(t),f(!1);let n=[...d];n[b]=t,s(n)})).catch((e=>console.log(e))):"user"!==o[b].type||"$nin"!==n&&"$in"!==n||I.a.post(_.b+"user/load-list-user",{user_ids:o[b].key},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{g(o[b].key),O(e.data.data),f(!1);let t=[];e.data.data.map(((e,n)=>(t.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null)));let n=[...d];n[b]=t,s(n)})).catch((e=>console.log(e))))}),[p,o,L.a,h]);return Object(i.useEffect)((()=>{let e=[],t=[];switch(o.map(((e,n)=>{t.push({...e})})),d.map(((t,n)=>{e.push(t)})),n){case"empty":t[b].value={$eq:null},e[b]="",s(e),c(t);break;case"not-empty":t[b].value={$ne:null},e[b]="",s(e),c(t);break;case"mine":t[b].value={$eq:"mine"},e[b]="",s(e),c(t);break;case"not-mine":t[b].value={$ne:"mine"},e[b]="",s(e),c(t)}}),[n]),console.log("hihii","$nin"===n||"$in"===n?"object"===typeof d[b]&&d[b]:""),console.log("value",d[b],b),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(r.a,{disabled:u||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n,addonAfter:Object(m.jsx)(m.Fragment,{children:u||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n?Object(m.jsx)(k.a,{style:{pointerEvents:"none"}}):Object(m.jsx)(k.a,{onClick:()=>{f(!0)}})}),addonBefore:u||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n?"":y?Object(m.jsx)(w.a,{onClick:()=>{C("");let e=[...o],t=[];e.forEach(((e,n)=>{t[n]={...e}})),t[b].value={[n]:""},t[b].key="",c(t);let a=[...d];a[b]="",s(a)}}):"",value:y}),"$nin"===n||"$in"===n?"object"===typeof d[b]&&(null===(t=d[b])||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Y,{closable:!0,onClose:()=>{let t,a=[...o],i=[...d];a[b]={...a[b],value:{...a[b].value,[n]:d[b].filter(((n,a)=>(n===e&&(t=e),n!==e)))}};let l="object"===typeof a[b].key?a[b].key:[],r=[],u=[];l.forEach(((e,n)=>{v.forEach(((n,a)=>{n._id===e&&t!=="".concat(n.First_Name," ").concat(n.Middle_Name," ").concat(n.Last_Name)&&(r.push(e),u.push(n))}))})),a[b]={...a[b],key:r,value:{[n]:r}},O(u),g(r),c(a),i[b]=d[b].filter((t=>t!==e)),s(i)},children:e})))):"",Object(m.jsx)(q,{visible:j,setVisible:f,users:R,selectedRowKeys:x,setSelectedRowKeys:g,reloadData:(e,t,n)=>{S(Object(E.Tb)({current_page:e,record_per_page:t,search_data:n}))},handleSelect:(e,t)=>{if("$nin"!==n&&"$in"!==n){let a="".concat(t[0].First_Name," ").concat(t[0].Middle_Name," ").concat(t[0].Last_Name);C(a),f(!1);let i=[...o],l=[];i.forEach(((e,t)=>{l[t]={...e}})),l[b].value={[n]:e[0]},l[b].key=e[0],c(l);let r=[...d];r[b]=a,s(r)}else{f(!1);let a=[...o],i=[];t.map(((e,t)=>(i.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null))),a[b]={...a[b],value:{...a[b].value,[n]:e}},a[b]={...a[b],key:e},c(a);let l=[...d];l[b]=[...new Set([...i])],s(l)}},selectedRows:v,setSelectedRows:O,searchData:A,setSearchData:D,conditions:o,index:b,ID:p,operatorValue:n})]})};const Y=Object(o.b)(C.a)(Q||(Q=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100% !important;\n  height: fit-content !important;\n  margin-bottom: 0px !important;\n  font-size: 12px !important;\n  padding: 0 !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var P,G,H,J,Z,X,ee,te,ne,ae,ie,le,oe,ce=n(717),re=n(718),se=n(1253),de=n(545),ue=n(1284),be=n(1272),pe=n(1273),he=n(1274),me=n(480);const{Text:je}=se.a,{Option:fe}=c.a;var xe=e=>{const{visible:t,setVisible:n,field:a,selectedRowKeys:o,setSelectedRowKeys:c,handleSelect:s,setSelectedRows:d,selectedRows:u,operatorValue:p,ID:h}=e,{t:j}=Object(me.a)(),[f]=Object(i.useState)(50),[x,g]=Object(i.useState)(1),[v,O]=Object(i.useState)({}),[y,w]=Object(i.useState)(""),[C,A]=Object(i.useState)(""),[,I]=Object(i.useState)(null),[,_]=Object(i.useState)(null),[M,V]=Object(i.useState)(1),[q,T]=Object(i.useState)(1),B=Object(l.c)(),{headerLinking:W,dataLinking:F,isLoadingDataLinking:z,isLoadingPagi:U,totalRecord:Q}=Object(l.d)((e=>e.objectsReducer)),[,L]=Object(i.useState)([]),[,K]=Object(i.useState)([]),[Y,P]=Object(i.useState)([]),[G,H]=Object(i.useState)([]),[J,Z]=Object(i.useState)({}),[X,ee]=Object(i.useState)([]),{defaultBrandName:te}=Object(l.d)((e=>e.brandNameReducer));Object(i.useEffect)((()=>{let e=[...W];P(e)}),[W]),Object(i.useEffect)((()=>{c([]),d([])}),[p]),Object(i.useEffect)((()=>{let e=[];F.forEach((t=>{let n={};n._id=t._id,Y.forEach((e=>{let a=0;Object.entries(t).forEach((t=>{let[i,l]=t;e.ID===i&&(a=1,n[i]="object"===typeof l&&null!==l?l.value:l)})),0===a&&(n[e.ID]=null)})),e.push(n)})),ee(e)}),[F,Y]),Object(i.useEffect)((()=>{let e=[];F.map(((t,n)=>{let a={};a.key=t._id,Object.entries(t).forEach(((e,t)=>{let[n,i]=e;a[n]="object"===typeof i&&null!==i?i.value:i})),e.push(a)})),L(e)}),[F]),Object(i.useEffect)((()=>{let e=[];W.map(((t,n)=>{let a={title:t.name,dataIndex:t.ID,key:t.ID,width:"maxContent",editable:!0,type:t.type,...ae(t.ID,n,t.name,v,t.type)};e.push(a)})),e.push({title:"Action",key:"action",fixed:"right",render:()=>Object(m.jsxs)(D.b,{size:"middle",children:[Object(m.jsx)("a",{href:!0,children:Object(m.jsx)("img",{alt:"",src:ue.a,style:{width:"20px"}})}),Object(m.jsx)("a",{className:"ant-dropdown-link",href:!0,children:Object(m.jsx)("img",{alt:"",src:b.a,style:{width:"20px"}})})]})}),K(e)}),[W,v]);const ne=e=>{let t={};return F.forEach((n=>{n._id===e&&Object.entries(n).forEach((e=>{let[n,a]=e;t[n]=null!==a&&"object"===typeof a?a.value:a}))})),t},ae=(e,t,n,a,i)=>({filterDropdown:t=>{let{setSelectedKeys:a,selectedKeys:i,confirm:l,clearFilters:o}=t;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(r.a,{placeholder:"Search ".concat(n),value:i[0],onChange:e=>{a(e.target.value?[e.target.value]:[])},onPressEnter:()=>{ie(i,l,e)},style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(D.b,{children:[Object(m.jsx)(Oe,{type:"primary",onClick:()=>{ie(i,l,e)},icon:Object(m.jsx)(k.a,{}),size:"small",style:{width:90},children:"Search"}),Object(m.jsx)(ye,{onClick:()=>le(o),size:"small",style:{width:90},children:"Reset"}),Object(m.jsx)(ye,{type:"link",size:"small",onClick:()=>{l({closeDropdown:!1}),w(i[0]),A(e)},children:"Filter"})]})]})},filterIcon:e=>Object(m.jsx)(k.a,{style:{color:e?"#1890ff":void 0}}),render:function(t){const n=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]+)?/gi);return t&&"object"===typeof t?t.map(((a,i)=>{if(null!==a&&a.match(n)){let e=a.split("/");return Object(m.jsx)("a",{style:{display:"block"},href:!0,children:e[e.length-1]})}return C===e?Object(m.jsx)($.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t})):C===e?Object(m.jsx)($.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}),ie=(e,t,n)=>{t();let a={...v};a[n]=e[0],O(a);let i=[];Object.entries(a).forEach(((e,t)=>{let[n,a]=e;if(a){let e={id_field:n,value:a};i.push(e)}})),oe(i,x,f),w(e[0]),A(n)},le=e=>{e(),w("")},oe=(e,t,n,i)=>{B(Object(E.Q)({object_id:a.objectname,first_record_id:t,last_record_id:n,search_with:{meta:[],data:e}})),B(Object(E.Ab)({total_page:null,total_record:null}))},se=e=>{oe(G,x,f,e)},xe=(e,t)=>{let n=[...G];if(t){let a=0;n.forEach(((i,l)=>{i.id_field===e&&(a=1,n[l].value=t)})),0===a&&n.push({id_field:e,value:t})}else n.forEach(((t,a)=>{t.id_field===e&&n.splice(a,1)}));H(n),oe(n,x,f,J)},Re=e=>{const t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]+)?/gi);if(e)return e.map(((e,n)=>{if(null!==e&&e.match(t)){let t=e.split("/");return Object(m.jsx)("a",{style:{display:"block"},href:e,target:"_blank",rel:"noreferrer",children:t[t.length-1]},n)}}))};function Ne(e,t){return 0===e?"0":(e=e.toFixed(0===(null===t||void 0===t?void 0:t.decimal_separator)?0:(null===t||void 0===t?void 0:t.decimal_separator)||3)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return Object(i.useEffect)((()=>{V(X.length===f?x*f:(x-1)*f+X.length)}),[X]),Object(i.useEffect)((()=>{T(x*f-f+1)}),[x]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(S.a,{title:"Linking list",placement:"right",onClose:()=>{n(!1),c([])},visible:t,width:1e3,children:Object(m.jsxs)(ve,{children:[Object(m.jsxs)(Se,{children:[Object(m.jsx)(m.Fragment,{children:z?Object(m.jsx)(de.a,{}):Object(m.jsxs)("div",{className:"total-record",children:[0===M?0:q," - ",M," ",U?Object(m.jsx)(de.a,{style:{marginLeft:"10px"}}):null===Q?Object(m.jsx)("div",{className:"reload-pagi",onClick:()=>{let e=[...G],t=[],n=[];e.forEach((e=>{"created_date"===e.id_field||"created_by"===e.id_field||"modify_time"===e.id_field||"owner"===e.id_field||"modify_by"===e.id_field?t.push(e):n.push(e)})),B(Object(E.wb)({current_page:1,record_per_page:50,object_id:a.objectname,search_with:{meta:t,data:n}}))},children:Object(m.jsx)("img",{alt:"",src:he.a})}):"of ".concat(Q||0," records")]})}),Object(m.jsx)("div",{className:"left-pagi",style:{pointerEvents:"".concat(1===x?"none":""),cursor:"".concat(1===x?"not-allowed":"pointer"),opacity:"".concat(1===x?.5:1)},onClick:()=>{_(X.length>0?X[X.length-1]._id:null);let e=x;e-=1,g(e),I(X.length>0?X[0]._id:null),oe(G,X.length>0?X[0]._id:null,null,J)},children:Object(m.jsx)("img",{alt:"",src:be.a})}),Object(m.jsx)("div",{className:"right-pagi",style:{pointerEvents:"".concat(X.length<f?"none":""),cursor:"".concat(X.length<f?"not-allowed":"pointer"),opacity:"".concat(X.length<f?.5:1)},onClick:()=>{_(X.length>0?X[X.length-1]._id:null);let e=x;e+=1,g(e),I(X.length>0?X[0]._id:null),oe(G,null,X.length>0?X[X.length-1]._id:null,J)},children:Object(m.jsx)("img",{alt:"",src:pe.a})})]}),Object(m.jsx)(ke,{children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{className:"table-header",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Y.map(((e,t)=>{var n,a;return Object(m.jsx)("th",{children:Object(m.jsxs)(we,{children:[Object(m.jsxs)(Ie,{children:[Object(m.jsx)("span",{children:e.name}),Object(m.jsxs)(Ee,{className:"hidden__component",children:[Object(m.jsx)(ce.a,{style:{color:"".concat(1===J[e.ID]?te.theme_color:"rgba(0, 0, 0, 0.25)")},onClick:()=>{let t={...J};1===t[e.ID]?delete t[e.ID]:t[e.ID]=1,se(t),Z(t)}}),Object(m.jsx)(re.a,{style:{color:"".concat(-1===J[e.ID]?te.theme_color:"rgba(0, 0, 0, 0.25)")},onClick:()=>{let t={...J};-1===t[e.ID]?delete t[e.ID]:t[e.ID]=-1,se(t),Z(t)}})]})]}),Object(m.jsx)(_e,{className:"hidden__component",children:"select"!==e.type?Object(m.jsx)(Ce,{value:(null===(n=G.find((t=>t.id_field===e.ID)))||void 0===n?void 0:n.value)||"",onChange:t=>{((e,t)=>{let n=[...G];if(t){let a=0;n.forEach(((i,l)=>{i.id_field===e&&(a=1,n[l].value=t)})),0===a&&n.push({id_field:e,value:t})}else n.forEach(((t,a)=>{t.id_field===e&&n.splice(a,1)}));t||oe(n,x,f,J),B(Object(E.Ab)({total_page:null,total_record:null})),H(n)})(e.ID,t.target.value)},allowClear:!0,onPressEnter:t=>{xe(e.ID,t.target.value)},placeholder:"".concat(j("common.search")," ").concat(e.name)}):Object(m.jsx)(Ae,{value:(null===(a=G.find((t=>t.id_field===e.ID)))||void 0===a?void 0:a.value)||void 0,showSearch:!0,allowClear:!0,placeholder:"Search ".concat(e.name),onChange:t=>{xe(e.ID,t)},style:{marginBottom:8,display:"block"},children:e&&e.option&&e.option.map(((e,t)=>Object(m.jsx)(fe,{value:e.label,children:e.label},t)))})})]})},t)}))]})}),Object(m.jsx)("tbody",{className:"table-body",children:X.map(((e,t)=>Object(m.jsxs)("tr",{children:[Object(m.jsx)(De,{check:o[0]===e._id,children:"$nin"===p||"$in"===p?Object(m.jsx)(R.a,{checked:o.findIndex((t=>t===e._id))>=0,disabled:""===e[a.field]||null===e[a.field],onChange:t=>{if((null===o||void 0===o?void 0:o.findIndex((t=>t===e._id)))>=0){let t=[...o];if(t=t.filter((t=>t!==e._id)),c(t),h){let t=[...u];t=t.filter((t=>t!==ne(e._id)[a.field])),console.log("Delete",t),d(t)}else{let t=[...u];t=t.filter((t=>t._id!==ne(e._id)._id)),console.log("Delete",t),d(t)}}else{let t=[...o];t.push(e._id),c(t);let n=[...u];n.push(ne(e._id)),d(n)}}}):Object(m.jsx)(N.a,{checked:o[0]===e._id,onChange:()=>{c([e._id]),d([ne(e._id)])}})}),Y.map((n=>Object.entries(e).map((a=>{let[i,l]=a;if(n.ID===i)return Object(m.jsx)(De,{style:{textAlign:"".concat("number"===n.type||"formula"===n.type&&"advanceExpression"===n.formula_type?"right":"left")},check:o[0]===e._id,children:"object"===typeof l?Object(m.jsx)(je,{ellipsis:{tooltip:l},children:Re(l)}):Object(m.jsx)(je,{ellipsis:{tooltip:l},children:"number"===n.type||"formula"===n.type&&"advanceExpression"===n.formula_type?Ne(l,n):l})},t)}))))]},t)))})]})}),Object(m.jsx)("div",{children:o.length>0?Object(m.jsxs)(ge,{children:[Object(m.jsx)(Oe,{onClick:()=>{s(o,u)},children:"Save"}),Object(m.jsx)(ye,{onClick:()=>{n(!1)},children:"Cancel"})]}):""})]})})})};const ge=o.b.div(P||(P=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 826px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n  z-index: 3;\n"]))),ve=o.b.div(G||(G=Object(a.a)(["\n  table {\n    width: max-content;\n    th {\n      width: max-content;\n      .ant-table-column-title {\n        margin-right: 30px;\n      }\n    }\n  }\n  padding-bottom: 100px;\n"]))),Oe=Object(o.b)(u.a)(H||(H=Object(a.a)(["\n  /* width: 80px; */\n  background-color: ",";\n  color: #fff;\n  /* font-size: 16px; */\n  background-color: ",";\n  color: #fff;\n  border-color: ",";\n  margin-right: 16px;\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: #fff;\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),ye=Object(o.b)(u.a)(J||(J=Object(a.a)(["\n  /* font-size: 16px; */\n  background-color: #fff;\n  /* width: 80px; */\n  color: #000;\n\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    color: ",";\n    border-color: ",";\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.darker)),ke=o.b.div(Z||(Z=Object(a.a)(["\n  width: 100%;\n  /* height: calc(100% - 187px); */\n  height: 100%;\n\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  background: #fff;\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: calc(100vh - 180px);\n  &::-webkit-scrollbar {\n    height: 8px !important;\n  }\n\n  table {\n    /* width: 100%; */\n    min-width: 100%;\n    width: max-content;\n    table-layout: auto;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 3;\n    }\n    .table-header th {\n      text-align: left;\n\n      box-shadow: inset 1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n        inset 0px -1px 0px #d9d9d9;\n\n      overflow: hidden;\n      resize: horizontal;\n      background: #f0f0f0;\n      min-width: 32px;\n      white-space: nowrap;\n\n      &:first-child {\n        border-left: none;\n        /* text-align: center; */\n        width: 32px;\n        max-width: 32px;\n        resize: none;\n        position: sticky;\n        z-index: 4;\n        left: 0;\n        box-shadow: inset -1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n\n      &:nth-child(2) {\n        box-shadow: inset 0px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n      /* \n      &:last-child {\n        position: sticky;\n        z-index: 4;\n        right: 0;\n        border-right: none;\n        resize: none;\n        width: 122px;\n        max-width: 122px;\n\n        .hidden__component {\n          display: none;\n        }\n      } */\n    }\n\n    .table-body td {\n      border-bottom: 1px solid #ddd;\n      padding: 16px;\n\n      max-width: 200px;\n\n      &:first-child {\n        /* border-left: 1px solid #ddd; */\n        width: 32px;\n        max-width: 32px;\n        padding: 0;\n        text-align: center;\n        position: sticky;\n        z-index: 2;\n        left: 0;\n\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n        .ant-radio-wrapper {\n          margin-right: 0px;\n        }\n\n        .ant-radio-checked::after,\n        .ant-radio-checked .ant-radio-inner {\n          border-color: ",";\n        }\n      }\n\n      /* &:last-child {\n        border-right: 1px solid #ddd;\n        position: sticky;\n        z-index: 2;\n        right: 0;\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n      } */\n    }\n  }\n"])),(e=>e.theme.main)),we=o.b.div(X||(X=Object(a.a)(["\n  /* border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd; */\n"]))),Ce=Object(o.b)(r.a)(ee||(ee=Object(a.a)(["\n  border-radius: 5px;\n  &:hover,\n  &:focus {\n    border-color: ",";\n    box-shadow: none;\n  }\n"])),(e=>e.theme.main)),Ae=Object(o.b)(c.a)(te||(te=Object(a.a)(["\n  margin-bottom: 0px !important;\n\n  .ant-select-selection-placeholder {\n    font-weight: normal;\n  }\n\n  .ant-select-selector {\n    border-radius: 5px !important;\n  }\n"]))),Ie=o.b.div(ne||(ne=Object(a.a)(["\n  padding: 8px;\n  display: flex;\n\n  span {\n    font-family: var(--roboto-500);\n    font-size: 16px;\n    color: #252424;\n    font-weight: normal;\n  }\n"]))),_e=o.b.div(ae||(ae=Object(a.a)(["\n  border-top: 1px solid #ddd;\n  padding: 8px;\n"]))),Ee=o.b.div(ie||(ie=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 6px;\n\n  .anticon svg {\n    font-size: 12px;\n    /* color: rgba(0, 0, 0, 0.25); */\n    cursor: pointer;\n    transition: all 0.5s;\n  }\n"]))),De=o.b.td(le||(le=Object(a.a)(["\n  background: ",";\n"])),(e=>e.check?"#e6f7ff":"#fff")),Se=o.b.div(oe||(oe=Object(a.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  background-color: white;\n  padding: 10px;\n  position: absolute;\n  top: 0;\n  right: 7px;\n  .ant-spin-dot-item {\n    background-color: ",";\n  }\n  .total-record {\n    font-family: var(--roboto-400);\n    font-size: 16px;\n    line-height: 16px;\n    letter-spacing: 0.01em;\n    color: #637381;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .reload-pagi {\n    img {\n      width: 15px;\n    }\n    margin-right: 8px;\n    margin-left: 8px;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n  .left-pagi {\n    img {\n      width: 7px;\n    }\n    margin-right: 8px;\n    margin-left: 8px;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n  .right-pagi {\n    img {\n      width: 7px;\n    }\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n"])),(e=>e.theme.main));var Re;var Ne=e=>{var t;let{field:n,operatorValue:a,disabled:o,conditions:c,setConditions:s,setValue:d,value:u,index:b,ID:p}=e;const[h,j]=Object(i.useState)(!1),[f,x]=Object(i.useState)([]),g=Object(l.c)(),[v,O]=Object(i.useState)([]);Object(i.useEffect)((()=>{c[b].key&&"$nin"!==a&&"$in"!==a?x([c[b].key]):"object"===typeof c[b].key&&p&&(x(c[b].key),O(u[b]))}),[c,b]),Object(i.useEffect)((()=>{!0===h&&(g(Object(E.lb)({object_id:n.objectname})),g(Object(E.Q)({object_id:n.objectname,first_record_id:null,last_record_id:null,search_with:{meta:[],data:[]},filter:[]})),g(Object(E.zb)({object_id:n.objectname,current_page:1,record_per_page:10,search_with:{meta:[],data:[]},filter:[]})))}),[g,h]);return Object(i.useEffect)((()=>{let e=[],t=[];switch(c.map(((e,n)=>{t.push({...e})})),u.map(((t,n)=>{e.push(t)})),a){case"empty":t[b].value={$eq:null},e[b]="",d(e),s(t);break;case"not-empty":t[b].value={$ne:null},e[b]="",d(e),s(t)}}),[a]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(r.a,{disabled:o||"empty"===a||"not-empty"===a,addonAfter:Object(m.jsx)(m.Fragment,{children:o||"empty"===a||"not-empty"===a||"mine"===a||"not-mine"===a?Object(m.jsx)(k.a,{style:{pointerEvents:"none"}}):Object(m.jsx)(k.a,{onClick:()=>{j(!0)}})}),addonBefore:o||"empty"===a||"not-empty"===a||"mine"===a||"not-mine"===a||"$nin"===a||"$in"===a?"":u[b]?Object(m.jsx)(w.a,{onClick:()=>{let e=[...c],t=[];e.forEach(((e,n)=>{t[n]={...e}})),t[b].value={[a]:""},t[b].key="",s(t);let n=[...u];n[b]=null,d(n)}}):"",value:"$nin"===a||"$in"===a?"":u[b]}),"$nin"===a||"$in"===a?"object"===typeof u[b]&&(null===(t=u[b])||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Me,{closable:!0,onClose:()=>{let t,n=[...c],i=[...u];n[b]={...n[b],value:{[a]:u[b].filter(((n,a)=>(n===e&&(t=a),n!==e)))}};let l="object"===typeof n[b].key?n[b].key:[];l=l.filter(((e,n)=>n!==t)),n[b]={...n[b],key:l},s(n),i[b]=u[b].filter((t=>t!==e)),d(i)},children:e})))):"",Object(m.jsx)(xe,{visible:h,setVisible:j,field:n,selectedRowKeys:f,setSelectedRowKeys:x,handleSelect:(e,t)=>{if("$nin"!==a&&"$in"!==a){j(!1);let i=[...c];i[b]={...i[b],value:{[a]:t[0][n.field]}},i[b]={...i[b],key:e[0]},s(i);let l=[...u];l[b]=t[0][n.field],d(l)}else{console.log("selectedRows",t),console.log("selectedRowKeys",e),j(!1);let i=[...c],l=[];t.map(((e,t)=>{"object"===typeof e?l.push(e[n.field]):l.push(e)})),i[b]={...i[b],value:{[a]:[...new Set([...l])]}},i[b]={...i[b],key:e},s(i);let o=[...u];o[b]=[...new Set([...l])],d(o)}},setSelectedRows:O,selectedRows:v,conditions:c,index:b,operatorValue:a,ID:p})]})};const Me=Object(o.b)(C.a)(Re||(Re=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100% !important;\n  height: fit-content !important;\n  font-size: 12px !important;\n  overflow: auto;\n  padding: 0 !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ve=n(1247);var $e,qe=e=>{let{operatorValue:t,conditions:n,setConditions:a,setValue:i,value:l,index:o}=e;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ve.a,{style:{width:"100%"},value:l[o],onChange:e=>{let c=[];n.map(((e,t)=>{c.push({...e})})),c[o].value={[t]:e};let r=[...l];r[o]=e,i(r),a(c)}})})},Te=n(2074),Be=n(164),We=n.n(Be);const{RangePicker:Fe}=Te.a;var ze=e=>{var t,n;let{operatorValue:a,disabled:l,conditions:o,setConditions:c,setValue:r,value:s,index:d}=e;return Object(i.useEffect)((()=>{let e=[],t=[];switch(o.map(((e,n)=>{t.push({...e})})),s.map(((t,n)=>{e.push(t)})),a){case"empty":t[d].value={$eq:null},e[d]="",r(e),c(t);break;case"not-empty":t[d].value={$ne:null},e[d]="",r(e),c(t);break;case"not-today":t[d].value={$ne:"today"},e[d]="",r(e),c(t)}}),[a]),"$between"===a?Object(m.jsx)(Fe,{value:s[d]?[We()(s[d][0]),We()(s[d][1])]:null,onChange:(e,t)=>{let n=[];o.map(((e,t)=>{n.push({...e})})),n[d].value={$gte:t[0],$lte:t[1]};let a=[...s];a[d]=t,r(a),c(n)}}):"$in"===a||"$nin"===a?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(Te.a,{onChange:(e,t)=>{let n=[];if(o.map(((e,t)=>{n.push({...e})})),"$between"!==a){let e=[...s];e[d]=[...new Set([...e[d],t])];let i=[...new Set([...e[d],t])];n[d].value={[a]:i},r(e),c(n)}},value:null}),Object(m.jsx)("div",{children:null===(t=o[d])||void 0===t||null===(n=t.value[a])||void 0===n?void 0:n.map(((e,t)=>Object(m.jsx)(Ue,{style:{display:"block"},closable:!0,onClose:()=>{let t=[];if(o.map(((e,n)=>{t.push({...e})})),"$between"!==a){let n=[...s],i=[...new Set([...n[d]])].filter((t=>t!==e));n[d]=i,t[d].value={[a]:i},r(n),c(t)}},children:e})))})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Te.a,{disabled:l||"empty"===a||"not-empty"===a||["$inWorkingTimeUCRM","$ninWorkingTimeUCRM","$inWorkingDayUCRM","$ninWorkingDayUCRM"].includes(a),value:s[d]?We()(s[d]):null,onChange:(e,t)=>{let n=[];if(o.map(((e,t)=>{n.push({...e})})),"$between"!==a){n[d].value={[a]:t};let e=[...s];e[d]=t,r(e),c(n)}}})})};const Ue=Object(o.b)(C.a)($e||($e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Qe;const{RangePicker:Le}=Te.a;var Ke=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:l,setValue:o,value:c,index:r,ID:s,init:d}=e;const u=["$inWorkingTimeUCRM","$ninWorkingTimeUCRM","$inWorkingDayUCRM","$ninWorkingDayUCRM"];return Object(i.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),c.map(((t,n)=>{e.push(t)})),t){case"empty":n[r].value={$eq:null},e[r]="",o(e),l(n);break;case"not-empty":n[r].value={$ne:null},e[r]="",o(e),l(n);break;case"not-today":n[r].value={$ne:"today"},e[r]="",o(e),l(n)}}),[t]),"$between"===t?Object(m.jsx)(Le,{showTime:!0,allowClear:!1,value:c[r]?[We()(c[r][0]),We()(c[r][1])]:null,onChange:(e,t)=>{let n=[];a.map(((e,t)=>{n.push({...e})})),n[r].value={$gte:t[0],$lte:t[1]};let i=[...c];i[r]=t,o(i),l(n)}}):"$in"===t||"$nin"===t?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(Te.a,{showTime:!0,value:null,onChange:(e,n)=>{let i=[];if(a.map(((e,t)=>{i.push({...e})})),"$between"!==t){let e=[...c];e[r]=[...new Set([...e[r],n])];let a=[...new Set([...e[r],n])];i[r].value={[t]:a},o(e),l(i)}}}),Object(m.jsx)("div",{children:null===(b=a[r])||void 0===b||null===(p=b.value[t])||void 0===p?void 0:p.map(((e,n)=>Object(m.jsx)(Ye,{style:{display:"block"},closable:!0,onClose:()=>{let n=[];if(a.map(((e,t)=>{n.push({...e})})),"$between"!==t){let a=[...c],i=[...new Set([...a[r]])].filter((t=>t!==e));a[r]=i,n[r].value={[t]:i},o(a),l(n)}},children:e})))})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Te.a,{showTime:!0,allowClear:!1,disabled:n||"empty"===t||"not-empty"===t||u.includes(t),value:"$nin"===t||"$in"===t?null:s&&c[r]&&"string"!==typeof c[r]?c[r]:c[r]&&"object"!==typeof c[r]?We()(c[r]):null,onChange:(e,n)=>{let i=[];if(a.map(((e,t)=>{i.push({...e})})),"$between"!==t){i[r].value={[t]:n};let e=[...c];e[r]=n,o(e),l(i)}}})});var b,p};const Ye=Object(o.b)(C.a)(Qe||(Qe=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center !important;\n  width: 100% !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Pe;var Ge=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:l,setValue:o,value:s,index:d}=e;return Object(i.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),s.map(((t,n)=>{e.push(t)})),t){case"empty":n[d].value={$eq:null},e[d]="",o(e),l(n);break;case"not-empty":n[d].value={$ne:null},e[d]="",o(e),l(n)}}),[t]),"$in"===t||"$nin"===t?Object(m.jsx)(He,{children:Object(m.jsx)(c.a,{mode:"tags",style:{width:"100%"},value:""===s[d]?[]:s[d],onChange:e=>{let n=[...a],i=[];"$regex"===t?n[d].value={[t]:e.target.value,$options:"i"}:"$not"===t?n[d].value={$not:{$regex:e.target.value,$options:"i"}}:(n.forEach(((e,t)=>{i[t]={...e}})),i[d].value={[t]:e});let c=[...s];c[d]=e,o(c),l(i)},options:[]})}):Object(m.jsx)(He,{children:Object(m.jsx)(r.a,{disabled:n||"empty"===t||"not-empty"===t,type:"email",value:s[d],maxLength:1e3,onChange:e=>{let n=[...a];n[d].value="$regex"===t?{[t]:e.target.value,$options:"i"}:"$not"===t?{$not:{$regex:e.target.value,$options:"i"}}:{[t]:e.target.value};let i=[...s];i[d]=e.target.value,o(i),l(n)}})})};const He=o.b.div(Pe||(Pe=Object(a.a)(["\n  .ant-form-item {\n    margin-bottom: 0px;\n  }\n"]))),{Option:Je}=c.a;var Ze=e=>{var t;let{operatorValue:n,disabled:a,conditions:l,setConditions:o,setValue:r,value:s,index:d,field:u,dataDetails:b}=e;return Object(i.useEffect)((()=>{let e=[],t=[];switch(l.map(((e,n)=>{t.push({...e})})),s.map(((t,n)=>{e.push(t)})),n){case"empty":t[d].value={$eq:null},e[d]="",r(e),o(t);break;case"not-empty":t[d].value={$ne:null},e[d]="",r(e),o(t)}}),[n]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(c.a,{showSearch:!0,style:{width:"100%"},mode:"$in"===n||"$nin"===n?"multiple":"",onChange:e=>{let t=[...s];t[d]=e,r(t);let a=[];l.map(((e,t)=>{a.push({...e})})),a[d].value={[n]:e},o(a)},disabled:a||"empty"===n||"not-empty"===n||void 0===n,value:("$in"===n||"$nin"===n)&&""===s[d]?[]:s[d],allowClear:!0,onClear:()=>{let e=[...s];e[d]=null,r(e);let t=[];l.map(((e,n)=>{t.push({...e})})),t[d].value={[n]:null},o(t)},children:null===u||void 0===u||null===(t=u.option)||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Je,{value:e.value,children:e.label})))})})};const{Option:Xe}=c.a;var et,tt,nt=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:l,setValue:o,value:r,index:s,field:d,dataDetails:u}=e;return Object(i.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),r.map(((t,n)=>{e.push(t)})),t){case"empty":n[s].value={$eq:null},e[s]="",o(e),l(n);break;case"not-empty":n[s].value={$ne:null},e[s]="",o(e),l(n)}}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(c.a,{showSearch:!0,style:{width:"100%"},onChange:e=>{let n=[...r];n[s]=e,o(n);let i=[];a.map(((e,t)=>{i.push({...e})})),i[s].value={[t]:e},l(i)},disabled:n||"empty"===t||"not-empty"===t,value:r[s],allowClear:!0,onClear:()=>{let e=[...r];e[s]=null,o(e);let n=[];a.map(((e,t)=>{n.push({...e})})),n[s].value={[t]:null},l(n)},children:d&&d.option&&d.option.map(((e,t)=>Object(m.jsx)(Xe,{value:e.value,children:e.label})))})})};const{Text:at}=h.a,{Option:it,OptGroup:lt}=c.a,ot=[{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Less than",value:"$lt"},{label:"Less than or equal",value:"$lte"},{label:"Greater than",value:"$gt"},{label:"Greater than or equal",value:"$gte"}],ct=[{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Contains",value:"$regex"},{label:"Not contains",value:"$not"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],rt=[{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],st=[{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],dt=[{label:"Before",value:"$lt"},{label:"After",value:"$gt"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Between",value:"$between"},{label:"Today",value:"today"},{label:"Not today",value:"not-today"},{label:"Yesterday",value:"yesterday"},{label:"This week",value:"this-week"},{label:"Last week",value:"last-week"},{label:"This month",value:"this-month"},{label:"Last month",value:"last-month"},{label:"This year",value:"this-year"},{label:"In Working Time",value:"$inWorkingTimeUCRM"},{label:"Not In Working Time",value:"$ninWorkingTimeUCRM"},{label:"In Working Day",value:"$inWorkingDayUCRM"},{label:"Not In Working Day",value:"$ninWorkingDayUCRM"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],ut=[{label:"Mine",value:"mine"},{label:"Not mine",value:"not-mine"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}];var bt=e=>{let{condition:t,fields:n,object_name:a,conditions:l,setConditions:o,index:p,operatorValue:h,setOperatorValue:j,setValue:f,value:x,ID:g,dataDetails:v,init:O}=e;const k={padding:"8px 0"},[w,C]=Object(i.useState)(""),[A,I]=Object(i.useState)({});Object(i.useEffect)((()=>{C(t.type),Object.entries(n).forEach(((e,n)=>{let[a,i]=e;i.forEach(((e,n)=>{e.type,t.id_field!==e.ID&&t.id_field!==e.full_field_id||I(e)}))}))}),[g,t,n]);const _=["year","month","date","hour","minute","second","millisecond"];return Object(m.jsx)(pt,{children:Object(m.jsxs)(s.a,{gutter:8,children:[Object(m.jsx)(d.a,{className:"gutter-row",span:7,children:Object(m.jsx)("div",{style:k,children:Object(m.jsx)(c.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{if(t.field){var n,a;if(t.field.related_name)return(null===t||void 0===t||null===(n=t.field)||void 0===n?void 0:n.related_name.toLowerCase().indexOf(e.toLowerCase()))>=0;if(t.field.name)return(null===t||void 0===t||null===(a=t.field)||void 0===a?void 0:a.name.toLowerCase().indexOf(e.toLowerCase()))>=0}},style:{width:"100%"},placeholder:"Please select",onChange:(e,t)=>{var n,a;if(C(t&&t.field.type),t&&"formula"!==t.field.type){C(t.field.type),I(t.field);let n=[...l],a={id_field:e,value:{},type:t.field.type};n[p]={...a};let i=[...h];i[p]=void 0,j(i),o(n);let c=[...x];c[p]="",f(c)}else if(t&&"formula"===t.field.type){let i="";switch(t.field.formula_type){case"dateAdd":case"dateSub":i="datetime-local",C("datetime-local");break;case"add":case"subtract":case"multiply":case"divide":case"mod":case"min":case"max":i="number",C("number");break;case"dateDiff":if(null!==(n=t.field)&&void 0!==n&&n.in_words){i="text",C("text");break}i="number",C("number");break;case"dateToParts":4===t.field.format_weekday||_.includes(null===(a=t.field)||void 0===a?void 0:a.unit)?(i="number",C("number")):(i="select",C("select"));break;default:i="text",C("text")}I(t.field);let c=[...l],r={id_field:e,value:{},type:i};c[p]={...r};let s=[...h];s[p]=void 0,j(s),o(c);let d=[...x];d[p]="",f(d)}},value:l[p].id_field,allowClear:!0,onClear:()=>{C(""),I({});let e=[...l];e[p]={id_field:"",value:{},type:""};let t=[...h];t[p]=void 0,j(t),o(e);let n=[...x];n[p]="",f(n)},children:Object.entries(n).map(((e,t)=>{let[n,i]=e;return"main_object"===n||window.location.pathname.includes("duplicate-rules")?"main_object"===n?Object(m.jsx)(lt,{label:"".concat(a," (Main)"),children:i.map(((e,t)=>{if(window.location.pathname.includes("duplicate-rules")){if(("text"===e.type||"number"===e.type||"email"===e.type||"select"===e.type&&!1===e.multiple)&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsxs)(it,{value:e.ID,field:e,type:e.type,children:[" ",Object(m.jsx)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:e.name})]},e.full_field_id+Math.random()+n+"")}else if(!1===e.hidden&&!1===e.permission_hidden&&"file"!==e.type&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsxs)(it,{value:e.ID,field:e,type:e.type,children:[" ",Object(m.jsx)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:e.name})]},e.full_field_id+Math.random()+n+"")}))}):null:Object(m.jsx)(lt,{label:n,children:i.map(((e,t)=>{if(!1===e.hidden&&!1===e.permission_hidden&&"file"!==e.type&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsx)(it,{value:e.full_field_id,field:e,type:e.type,children:Object(m.jsxs)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:[n,".",e.name]})},e.full_field_id+Math.random()+"")}))})}))})})}),Object(m.jsx)(d.a,{className:"gutter-row",span:7,children:Object(m.jsx)("div",{style:k,children:Object(m.jsx)(c.a,{showSearch:!0,style:{width:"100%"},placeholder:"Please select",onChange:e=>{let t=[...h];t[p]=e,console.log(t),j(t);let n=[...x];n[p]="",console.log(n),f(n);let a=[...l];a[p]={id_field:a[p].id_field,value:{[e]:""},type:a[p].type},console.log(a),o(a)},onClear:()=>{j("")},disabled:!l[p].id_field,value:h[p],children:(e=>{switch(e){case"number":return ot;case"text":case"id":default:return ct;case"linkingobject":case"lookup":return st;case"date":case"datetime-local":return dt;case"user":return ut;case"select":case"dynamic-field":return rt}})(w).map(((e,t)=>Object(m.jsx)(it,{value:e.value,disabled:"date"===w&&"In Working Time"===e.label||"date"===w&&"Not In Working Time"===e.label||"text"===w&&"Is one of"===e.label||"text"===w&&"Is not one of"===e.label||"textarea"===w&&"Is one of"===e.label||"textarea"===w&&"Is not one of"===e.label||"id"===w&&"Is one of"===e.label||"id"===w&&"Is not one of"===e.label,children:Object(m.jsx)(at,{ellipsis:{tooltip:e.label},style:{width:"100%"},children:e.label})},t)))})})}),Object(m.jsx)(d.a,{className:"gutter-row",span:7,children:Object(m.jsx)(ht,{style:k,children:h[p]?((e,t)=>{switch(e){case"text":case"id":case"textarea":return Object(m.jsx)(y,{operatorValue:t[p],disabled:!1,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});case"number":return"formula"===A.type&&null!==A&&void 0!==A&&A.format_weekday?Object(m.jsx)(Ze,{operatorValue:t[p],field:{...A,option:[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6}]},conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g}):Object(m.jsx)(qe,{operatorValue:t[p],conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});case"lookup":case"linkingobject":return Object(m.jsx)(Ne,{operatorValue:t[p],field:A,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});case"date":switch(t[p]){case"today":case"not-today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":case"$inWorkingTimeUCRM":case"$ninWorkingTimeUCRM":case"$inWorkingDayUCRM":case"$ninWorkingDayUCRM":return Object(m.jsx)(y,{operatorValue:t[p],disabled:!0,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});case"$between":return Object(m.jsx)(ze,{operatorValue:t[p],disabled:!0,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,init:O,ID:g})}return Object(m.jsx)(ze,{operatorValue:t[p],conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g,init:O,style:{width:"100%"}});case"datetime-local":switch(t[p]){case"today":case"not-today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":case"$inWorkingTimeUCRM":case"$ninWorkingTimeUCRM":case"$inWorkingDayUCRM":case"$ninWorkingDayUCRM":return Object(m.jsx)(y,{operatorValue:t[p],disabled:!0,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});case"$between":return Object(m.jsx)(Ke,{operatorValue:t[p],disabled:!0,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g,init:O})}return Object(m.jsx)(Ke,{operatorValue:t[p],conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g,init:O});case"user":return Object(m.jsx)(K,{operatorValue:t[p],field:A,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g,init:O});case"email":return Object(m.jsx)(Ge,{operatorValue:t[p],conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v});case"select":return"formula"===A.type&&1===A.format_weekday?Object(m.jsx)(Ze,{operatorValue:t[p],field:{...A,option:[{label:"Monday",value:"Monday"},{label:"Tuesday",value:"Tuesday"},{label:"Wednesday",value:"Wednesday"},{label:"Thursday",value:"Thursday"},{label:"Friday",value:"Friday"},{label:"Saturday",value:"Saturday"},{label:"Sunday",value:"Sunday"}]},conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g}):"formula"===A.type&&2===A.format_weekday?Object(m.jsx)(Ze,{operatorValue:t[p],field:{...A,option:[{label:"Th\u1ee9 2",value:"Th\u1ee9 2"},{label:"Th\u1ee9 3",value:"Th\u1ee9 3"},{label:"Th\u1ee9 4",value:"Th\u1ee9 4"},{label:"Th\u1ee9 5",value:"Th\u1ee9 5"},{label:"Th\u1ee9 6",value:"Th\u1ee9 6"},{label:"Th\u1ee9 7",value:"Th\u1ee9 7"},{label:"Ch\u1ee7 Nh\u1eadt",value:"Ch\u1ee7 Nh\u1eadt"}]},conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g}):"formula"===A.type&&3===A.format_weekday?Object(m.jsx)(Ze,{operatorValue:t[p],field:{...A,option:[{label:"Mon",value:"Mon"},{label:"Tue",value:"Tue"},{label:"Wed",value:"Wed"},{label:"Thu",value:"Thu"},{label:"Fri",value:"Fri"},{label:"Sat",value:"Sat"},{label:"Sun",value:"Sun"}]},conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g}):Object(m.jsx)(Ze,{operatorValue:t[p],field:A,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});case"dynamic-field":return Object(m.jsx)(nt,{operatorValue:t[p],field:A,conditions:l,setConditions:o,setValue:f,value:x,index:p,dataDetails:v,ID:g});default:return Object(m.jsx)(r.a,{disabled:!0})}})(w,h):Object(m.jsx)(r.a,{disabled:!0})})}),Object(m.jsx)(d.a,{className:"gutter-row",span:3,children:Object(m.jsx)("div",{style:k,children:Object(m.jsx)(u.a,{className:"delete-btn",style:{display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>{let e=[...l];e.splice(p,1);let t=[...h];t.splice(p,1);let n=[...x];n.splice(p,1),j(t),o(e),f(n)},children:Object(m.jsx)("img",{alt:"",src:b.a,style:{width:"20px"}})})})})]})})};const pt=o.b.div(et||(et=Object(a.a)(["\n  padding-left: 19px;\n  padding-right: 19px;\n  .delete-btn {\n    :hover {\n      border-color: ",";\n    }\n  }\n"])),(e=>e.theme.main)),ht=o.b.div(tt||(tt=Object(a.a)(["\n  .ant-picker {\n    width: 100%;\n  }\n\n  .ant-select {\n    width: 100%;\n  }\n\n  .ant-input {\n    width: 100%;\n  }\n\n  .ant-input-number {\n    width: 100%;\n  }\n"])));var mt,jt,ft;n(13);const xt=e=>{let{title:t,decs:n,conditions:a,setConditions:o,ID:c,dataDetails:r,operatorValue:s,setOperatorValue:d,value:u,setValue:b,background:p,conditionData:h}=e;const{listObjectField:j}=Object(l.d)((e=>e.objectsReducer)),[f,x]=Object(i.useState)({}),[g,v]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{0===a.length&&(d([]),b([]))}),[a]),Object(i.useEffect)((()=>{let e=[],t=[];c&&void 0!==h&&(h.map(((n,a)=>{if(Object.keys(n).length>0)if(1===Object.keys(n&&n.value).length){let i=Object.keys(n.value);"$eq"!==i[0]&&"$ne"!==i[0]?e[a]=i[0]:"$eq"!==i[0]&&"$ne"!==i[0]||(null===n.value.$eq?e[a]="empty":null===n.value.$ne?e[a]="not-empty":"mine"===n.value.$eq?e[a]="mine":"mine"===n.value.$ne?e[a]="not-mine":"today"===n.value.$ne?e[a]="not-today":"today"===n.value[i[0]]||"yesterday"===n.value[i[0]]||"this-week"===n.value[i[0]]||"last-week"===n.value[i[0]]||"this-month"===n.value[i[0]]||"last-month"===n.value[i[0]]||"this-year"===n.value[i[0]]?e[a]=n.value[i[0]]:e[a]=void 0===i[0]?"":i[0]),"datetime"!==n.type&&"datetime-local"!==n.type||("today"===n.value[i[0]]||"yesterday"===n.value[i[0]]||"this-week"===n.value[i[0]]||"last-week"===n.value[i[0]]||"this-month"===n.value[i[0]]||"last-month"===n.value[i[0]]||"this-year"===n.value[i[0]]?t[a]=null:n.value[i[0]]?t[a]=We()(n.value[i[0]]):t[a]=null),"user"===n.type?"$not"===i[0]?t[a]=n.value[i[0]].$regex:"$nin"!==i[0]&&"$in"!==i[0]?t[a]=n.value[i[0]]:I.a.post(_.b+"user/load-list-user",{user_ids:n.value[i[0]]},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{let n=[];e.data.data.map(((e,t)=>(n.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null))),t[a]=[...n]})).catch((e=>console.log(e))):"$not"===i[0]?t[a]=n.value[i[0]].$regex:"mine"===e[a]||"not-mine"===e[a]?t[a]=null:t[a]=n.value[i[0]]}else if(Object.keys(n&&n.value).length>1){let i=Object.keys(n.value);"$gte"===i[0]&&"$lte"===i[1]?e[a]="$between":e[a]=i[0],"$gte"===i[0]&&"$lte"===i[1]?t[a]=[We()(n.value[i[0]]),We()(n.value[i[1]])]:t[a]=n.value[i[0]]}})),b(t),d(e),v(!0))}),[c,h]),Object(i.useEffect)((()=>{if(j.length>0){let e={};j.map(((t,n)=>{j.length-1===n?(e.main_object=[],t.main_object.sections.map(((t,n)=>{t.fields.map(((t,n)=>{e.main_object.push(t)}))}))):Object.entries(t).forEach(((n,a)=>{let[i,l]=n;return e[t[i].object_name]=[],t[i].sections.forEach(((n,a)=>n.fields.forEach(((n,a)=>{(!1===n.hidden&&!1===n.permission_hidden||void 0===n.permission_hidden)&&e[t[i].object_name].push(n)}))))}))})),x(e)}else x({})}),[j]),Object(m.jsxs)(vt,{style:{background:p},children:[Object(m.jsxs)(Ot,{className:"conditions__title",children:[t," ",Object(m.jsx)("span",{children:n})]}),Object.keys(f).length>0&&Object(m.jsx)(m.Fragment,{children:a.map(((e,t)=>Object(m.jsx)(bt,{condition:e,conditions:a,setConditions:o,fields:f,index:t,object_name:j.length>0&&j[j.length-1].main_object.object_name,operatorValue:s,setOperatorValue:d,value:u,setValue:b,ID:c,dataDetails:r,init:g},t)))}),a.length<20?Object(m.jsx)(yt,{onClick:()=>{let e=[...a];e.push({}),o(e)},type:"button",children:"+ Add condition"}):""]})};var gt=xt;xt.defaultProps={background:"transparent"};const vt=o.b.div(mt||(mt=Object(a.a)(["\n  min-height: 50px;\n  border: 1px solid #d9d9d9;\n  box-sizing: border-box;\n  border-radius: 5px;\n  /* .ant-select:not(.ant-select-customize-input)  */\n  .ant-select-selector {\n    border: 1px solid #d9d9d9 !important;\n    box-sizing: border-box;\n    border-radius: 2px !important;\n  }\n"]))),Ot=o.b.div(jt||(jt=Object(a.a)(["\n  font-style: normal;\n  font-family: var(--roboto-700);\n  font-size: 16px;\n  line-height: 22px;\n  /* identical to box height, or 137% */\n\n  display: flex;\n  align-items: center;\n\n  color: #2c2c2c;\n  margin-top: -13px;\n  background-color: #fff;\n  width: fit-content;\n  margin-left: 22px;\n  padding-left: 8px;\n  padding-right: 8px;\n  span {\n    font-family: var(--roboto-400);\n    margin-left: 10px;\n  }\n"]))),yt=o.b.button(ft||(ft=Object(a.a)(["\n  border: none;\n  background-color: #fff;\n  font-family: var(--roboto-400);\n  font-size: 16px;\n  line-height: 22px;\n  /* identical to box height, or 137% */\n\n  text-align: center;\n  text-decoration-line: underline;\n\n  /* Primary/6 */\n\n  color: ",";\n  margin-left: 30px;\n  margin-top: 8px;\n  margin-bottom: 16px;\n  :hover {\n    cursor: pointer;\n    color: ","!important;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker));var kt;const wt=e=>{let{title:t,decs:n,conditions:a,setConditions:i,ID:l,dataDetails:o,operatorValue:c,setOperatorValue:r,value:s,setValue:d,background:u,conditionData:b}=e;return Object(m.jsx)(Ct,{className:"required",children:Object(m.jsx)(gt,{dataDetails:o,title:t,decs:n,conditions:a,setConditions:i,ID:l,operatorValue:c,setOperatorValue:r,value:s,setValue:d,background:u,conditionData:b})})};t.a=wt;wt.defaultProps={background:"transparent",conditionData:[]};const Ct=o.b.div(kt||(kt=Object(a.a)(["\n  margin-bottom: 16px;\n  position: relative;\n"])))},1292:function(e,t,n){"use strict";t.a=n.p+"static/media/EmptyObject.65d3750d.webp"},1348:function(e,t,n){"use strict";var a=n(9),i=n(8),l=n(12),o=n(212),c=n(11),r=n.n(c),s=n(1287),d=n(0),u=n(101),b=n(56),p=n(116),h=n(90),m=n(110),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n},f=(Object(h.a)("default","large"),{distance:180});t.a=function(e){var t=e.width,n=e.height,c=e.size,h=void 0===c?"default":c,x=e.closable,g=void 0===x||x,v=e.mask,O=void 0===v||v,y=e.push,k=void 0===y?f:y,w=e.closeIcon,C=void 0===w?d.createElement(o.a,null):w,A=e.bodyStyle,I=e.drawerStyle,_=e.className,E=e.visible,D=e.open,S=e.children,R=e.style,N=e.title,M=e.headerStyle,V=e.onClose,$=e.footer,q=e.footerStyle,T=e.prefixCls,B=e.getContainer,W=e.extra,F=e.afterVisibleChange,z=e.afterOpenChange,U=j(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),Q=d.useContext(u.b),L=Q.getPopupContainer,K=Q.getPrefixCls,Y=Q.direction,P=K("drawer",T),G=void 0===B&&L?function(){return L(document.body)}:B,H=g&&d.createElement("button",{type:"button",onClick:V,"aria-label":"Close",className:"".concat(P,"-close")},C);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach((function(e){var t=Object(l.a)(e,2);t[0],t[1]}));var J=r()(Object(i.a)({"no-mask":!O},"".concat(P,"-rtl"),"rtl"===Y),_),Z=d.useMemo((function(){return null!==t&&void 0!==t?t:"large"===h?736:378}),[t,h]),X=d.useMemo((function(){return null!==n&&void 0!==n?n:"large"===h?736:378}),[n,h]),ee={motionName:Object(p.c)(P,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return d.createElement(m.a,null,d.createElement(b.e,{status:!0,override:!0},d.createElement(s.default,Object(a.a)({prefixCls:P,onClose:V},U,{open:null!==D&&void 0!==D?D:E,mask:O,push:k,width:Z,height:X,rootClassName:J,getContainer:G,afterOpenChange:function(e){null===z||void 0===z||z(e),null===F||void 0===F||F(e)},maskMotion:ee,motion:function(e){return{motionName:Object(p.c)(P,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}},rootStyle:R}),d.createElement("div",{className:"".concat(P,"-wrapper-body"),style:Object(a.a)({},I)},N||g?d.createElement("div",{className:r()("".concat(P,"-header"),Object(i.a)({},"".concat(P,"-header-close-only"),g&&!N&&!W)),style:M},d.createElement("div",{className:"".concat(P,"-header-title")},H,N&&d.createElement("div",{className:"".concat(P,"-title")},N)),W&&d.createElement("div",{className:"".concat(P,"-extra")},W)):null,d.createElement("div",{className:"".concat(P,"-body"),style:A},S),function(){if(!$)return null;var e="".concat(P,"-footer");return d.createElement("div",{className:e,style:q},$)}()))))}},1361:function(e,t,n){"use strict";var a=n(10),i=n(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},o=n(40),c=function(e,t){return i.createElement(o.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:l}))};c.displayName="ClearOutlined";t.a=i.forwardRef(c)},2121:function(e,t,n){"use strict";n.r(t);var a,i,l=n(16),o=n(0),c=n(26),r=n(39),s=n(480),d=n(1229),u=n(13),b=n.n(u),p=n(1267),h=n.n(p),m=n(1379),j=n.n(m),f=n(102),x=n.n(f),g=n(399),v=n.n(g),O=n(123),y=n.n(O),k=n(484),w=n.n(k),C=n(2134),A=n(1292),I=n(1283),_=n(1264),E=n(3),D=n(28),S=n(143),R=n(1263),N=n(21),M=n(320),V=n.n(M),$=n(250),q=n.n($),T=n(719),B=n.n(T),W=n(488),F=n.n(W),z=n(500),U=n.n(z),Q=n(4),L=n(1291),K=n(2);var Y=Object(d.a)()((function(e){let{showModalRule:t,onHideModalRule:n,listAllGroups:a,objectID:i,isEdit:l,setIsEdit:c,IDRule:d,setActiveKey:u}=e;const[b]=q.a.useForm(),{t:p}=Object(s.a)(),h=Object(r.c)(),{loading:m,status:j,allRules:f}=Object(r.d)((e=>e.criteriaSharingReducer)),[g,v]=Object(o.useState)([]),[O,y]=Object(o.useState)([]),[k,w]=Object(o.useState)([]),[C,A]=Object(o.useState)([]),[I,_]=Object(o.useState)([]),[E,D]=Object(o.useState)({}),[R,N]=Object(o.useState)([]),[M,V]=Object(o.useState)([]),[$,T]=Object(o.useState)([]),[W,z]=Object(o.useState)([]),Y=()=>{n(),b.resetFields(),c(!1),y([]),w([])};return Object(o.useEffect)((()=>{let e=[];a.length>0&&a.map((t=>e.push({label:t.name,value:t._id}))),v(e)}),[a]),Object(o.useEffect)((()=>{if(l){let e=f.filter((e=>e._id===d));D(e[0]);let t=[];e[0].shared_to.map((e=>t.push(e._id))),b.setFieldsValue({share_to:t,status:e[0].access_level}),A(e[0].filter_condition.and_filter),_(e[0].filter_condition.or_filter),y(e[0].filter_condition.and_filter),w(e[0].filter_condition.or_filter)}}),[l,d,f,b]),Object(o.useEffect)((()=>{m.modalRule||("success"!==j.createRule&&"success"!==j.updateRule||(n(),b.resetFields(),c(!1),y([]),w([]),Object(Q.a)("success",l?"Update successfully!":"Create successfully!"),h(Object(S.l)()),u(i),h(Object(S.i)({object_id:i}))),null!==j.createRule&&"success"!==j.createRule&&(Object(Q.a)("error",j.createRule),h(Object(S.l)())),null!==j.updateRule&&"success"!==j.updateRule&&(Object(Q.a)("error",j.updateRule),h(Object(S.l)())))}),[h,b,l,m,i,n,c,j,u]),Object(K.jsx)(P,{title:p(l?"sharing.editRule":"sharing.addRule"),visible:t,footer:null,width:800,onCancel:Y,children:Object(K.jsxs)(q.a,{form:b,onFinish:e=>{let t=!1;if(R.length===O.length?R.forEach((e=>{void 0===e&&(t=!0)})):t=!0,M.length===k.length?M.forEach((e=>{void 0===e&&(t=!0)})):t=!0,$.forEach(((e,n)=>{""===e&&"empty"!==R[n]&&"not-empty"!==R[n]&&"mine"!==R[n]&&"not-mine"!==R[n]&&"today"!==R[n]&&"not-today"!==R[n]&&"yesterday"!==R[n]&&"this-week"!==R[n]&&"last-week"!==R[n]&&"this-month"!==R[n]&&"last-month"!==R[n]&&"this-year"!==R[n]&&"$inWorkingTimeUCRM"!==R[n]&&"$ninWorkingTimeUCRM"!==R[n]&&"$inWorkingDayUCRM"!==R[n]&&"$ninWorkingDayUCRM"!==R[n]&&(t=!0),("$nin"===R[n]&&0===(null===e||void 0===e?void 0:e.length)||"$in"===R[n]&&0===(null===e||void 0===e?void 0:e.length))&&(t=!0),void 0===e&&(t=!0)})),W.forEach(((e,n)=>{""===e&&"empty"!==M[n]&&"not-empty"!==M[n]&&"mine"!==M[n]&&"not-mine"!==M[n]&&"today"!==M[n]&&"not-today"!==M[n]&&"yesterday"!==M[n]&&"this-week"!==M[n]&&"last-week"!==M[n]&&"this-month"!==M[n]&&"last-month"!==M[n]&&"this-year"!==M[n]&&"$inWorkingTimeUCRM"!==M[n]&&"$ninWorkingTimeUCRM"!==M[n]&&"$inWorkingDayUCRM"!==M[n]&&"$ninWorkingDayUCRM"!==M[n]&&(t=!0),("$nin"===M[n]&&0===(null===e||void 0===e?void 0:e.length)||"$in"===M[n]&&0===(null===e||void 0===e?void 0:e.length))&&(t=!0),void 0===e&&(t=!0)})),t)Object(Q.a)("warning","Please fullfill conditions!");else{let t={access_level:e.status,group_id:e.object_of,main_object:i,shared_to:e.share_to,filter_condition:{and_filter:O,or_filter:k}};h(l?Object(S.m)({...t,id:d}):Object(S.a)({...t}))}},labelCol:{span:8},wrapperCol:{span:16},colon:!1,labelAlign:"left",children:[Object(K.jsx)(L.a,{title:p("common.allCondition"),decs:"(".concat(p("common.descAllCondition"),")"),conditions:O,setConditions:y,conditionData:C,ID:l?E._id:"",dataDetails:E||{},operatorValue:R,setOperatorValue:N,value:$,setValue:T}),Object(K.jsx)(L.a,{title:p("common.anyCondition"),decs:"(".concat(p("common.descAnyCondition"),")"),conditions:k,setConditions:w,conditionData:I,ID:l?E._id:"",dataDetails:E||{},operatorValue:M,setOperatorValue:V,value:W,setValue:z}),Object(K.jsx)(q.a.Item,{label:p("sharing.shareTo"),name:"share_to",rules:[{required:!0,message:p("common.placeholderSelect")}],children:Object(K.jsx)(B.a,{options:g,placeholder:p("common.placeholderSelect"),mode:"multiple",optionFilterProp:"label"})}),Object(K.jsx)(q.a.Item,{label:p("common.status"),name:"status",rules:[{required:!0,message:p("common.placeholderSelect")}],children:Object(K.jsx)(F.a.Group,{children:Object(K.jsxs)(U.a,{direction:"vertical",children:[Object(K.jsx)(F.a,{value:"read",children:p("common.read")}),Object(K.jsxs)(F.a,{value:"write",children:[p("common.read")," & ",p("common.write")]})]})})}),Object(K.jsxs)(G,{label:" ",children:[Object(K.jsx)(x.a,{type:"primary",htmlType:"submit",loading:m.modalRule,children:p("common.save")}),Object(K.jsx)(x.a,{onClick:Y,children:p("common.cancel")})]})]})})}));const P=Object(l.b)(V.a)(a||(a=Object(N.a)(["\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-form-item-label > label {\n    font-size: 16px;\n    color: #2c2c2c;\n  }\n\n  .ant-radio-checked .ant-radio-inner {\n    border-color: ",";\n  }\n\n  .ant-radio-inner::after {\n    background-color: ",";\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main)),G=Object(l.b)(q.a.Item)(i||(i=Object(N.a)(["\n  margin-bottom: 0;\n\n  .ant-btn {\n    font-size: 16px;\n    height: unset;\n\n    :hover {\n      background: ",";\n      color: #fff;\n    }\n  }\n\n  .ant-btn-primary {\n    margin-right: 16px;\n    background: ",";\n    border: 1px solid ",";\n    color: #fff;\n  }\n\n  .ant-form-item-control-input-content {\n    display: flex;\n    justify-content: flex-end;\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main));var H=n(63);t.default=Object(d.a)()((function(e){const{t:t}=Object(s.a)(),n=Object(r.c)(),a=Object(c.o)(),{Column:i}=v.a,{Text:l}=w.a,{userRuleGlobal:d}=Object(r.d)((e=>e.userReducer)),{loading:u,status:p,allRules:m}=Object(r.d)((e=>e.criteriaSharingReducer)),{category:f}=Object(r.d)((e=>e.objectsManagementReducer)),{listObjectField:x}=Object(r.d)((e=>e.objectsReducer)),{listAllGroups:g}=Object(r.d)((e=>e.groupReducer)),{listAllUser:O}=Object(r.d)((e=>e.userReducer)),[k,N]=Object(o.useState)(!1),[M,V]=Object(o.useState)([]),[$,q]=Object(o.useState)(""),[T,B]=Object(o.useState)(!1),[W,F]=Object(o.useState)({}),[z,U]=Object(o.useState)([]),[L,P]=Object(o.useState)({});Object(o.useEffect)((()=>{n(Object(H.b)(t("settings.criteriaSharing")))}),[t]);const G=e=>!!d.find((t=>"criteria_sharing"===b.a.get(t,"domain","")&&t.actions.includes(e))),J=(e,t)=>{let n=[];return e.forEach(((e,a)=>{Object.entries(e).forEach((e=>{let[i,l]=e;if("id_field"===i){let e=t.find((e=>e.value===l));e?n.push({name:e.label,decimal_separator:b.a.get(e,"decimal_separator",3)}):n.push({name:l})}if("type"===i){let e={type:l};if("user"===l&&Array.isArray(n[a].condition)){const t=b.a.map(n[a].condition,(e=>{const t=b.a.find(O,(t=>t._id===e));return t?t.Full_Name:e}));n[a]={...n[a],...e,condition:t}}else n[a]={...n[a],...e}}if("value"===i){let e={};e="$not"===Object.keys(l)[0]?{equal:"$not",condition:l.$not.$regex}:Object.keys(l).length>2?{equal:Object.keys(l),condition:Object.values(l)}:{equal:Object.keys(l)[0],condition:Object.values(l)[0]},n[a]={...n[a],...e}}}))})),n.forEach(((e,t)=>{if("owner"===e.status&&(n[t]={...n[t],status:"Assign to"}),null===e.condition)"$eq"===e.equal?n[t]={...n[t],equal:"Is Empty"}:n[t]={...n[t],equal:"Is not empty"};else if(Array.isArray(e.equal))n[t]={...n[t],equal:"Between",condition:e.condition[0]+" - "+e.condition[1]};else if("mine"===e.condition)n[t]={...n[t],equal:"$eq"===e.equal?"Mine":"Not mine",condition:null};else switch(e.equal){case"$eq":n[t]={...n[t],equal:"Equals"};break;case"$ne":n[t]={...n[t],equal:"Not Equals"};break;case"$lt":"date"===e.type||"datetime-local"===e.type?n[t]={...n[t],equal:"Before"}:n[t]={...n[t],equal:"Less than"};break;case"$lte":n[t]={...n[t],equal:"Less than or equal"};break;case"$gt":"date"===e.type||"datetime-local"===e.type?n[t]={...n[t],equal:"After"}:n[t]={...n[t],equal:"Greater than"};break;case"$gte":n[t]={...n[t],equal:"Greater than or equal"};break;case"$regex":n[t]={...n[t],equal:"Contains"};break;case"$not":n[t]={...n[t],equal:"Not Contains"};break;case"$in":n[t]={...n[t],equal:"Is one of",condition:n[t].condition.join(", ")};break;case"$nin":n[t]={...n[t],equal:"Is not one of",condition:n[t].condition.join(", ")}}})),n};function je(e,t){return 0===e?"0":e.toFixed(t).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")}return Object(o.useEffect)((()=>{n(Object(S.h)()),n(Object(D.I)({current_page:1,record_per_page:1e4}))}),[n]),Object(o.useEffect)((()=>{let e=[],n=[];x.forEach((e=>{if(null!==Object.values(e)[0]&&(Object.values(e)[0].readable||Object.values(e)[0].writeable)){let t=[];Object.values(e)[0].sections.forEach((e=>{e.fields.forEach((e=>{!1===e.hidden&&!1===e.permission_hidden&&t.push({label:e.related_name,value:e.full_field_id,type:e.type,decimal_separator:b.a.get(e,"decimal_separator",3)})}))})),t.length>0&&(n=[...n,...t])}})),m.map(((a,i)=>{let l=[],o=[];return a.shared_to.map((e=>l.push(e.name))),a.filter_condition.and_filter.length>0&&o.push({title:t("common.allCondition"),subTitle:t("common.descAllCondition"),list:J(a.filter_condition.and_filter,n)}),a.filter_condition.or_filter.length>0&&o.push({title:t("common.anyCondition"),subTitle:t("common.descAnyCondition"),list:J(a.filter_condition.or_filter,n)}),e.push({key:a._id,rule_number:i+1,conditions:o,share_to:l,privileges:"read"===a.access_level?t("common.read"):"".concat(t("common.read")," & ").concat(t("common.write"))})})),U(e)}),[m,x]),Object(o.useEffect)((()=>{u.modalDelete||("success"===p.deleteRule&&(n(Object(E.setShowModalConfirmDelete)(!1)),Object(Q.a)("success","Delete successfully!"),n(Object(S.l)()),n(Object(S.i)({object_id:$}))),null!==p.deleteRule&&"success"!==p.deleteRule&&(Object(Q.a)("error",p.deleteRule),n(Object(S.l)())))}),[n,u.modalDelete,$,p.deleteRule]),Object(K.jsxs)(Z,{children:[Object(K.jsxs)(h.a,{children:[Object(K.jsx)(h.a.Item,{onClick:()=>a("/settings"),children:t("settings.settings")}),Object(K.jsx)(X,{children:t("settings.criteriaSharing")})]}),Object(K.jsx)(ee,{children:Object.keys(f).length>0?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(te,{children:Object(K.jsx)("span",{children:t("object.objectName")})}),Object(K.jsx)(j.a,{accordion:!0,expandIcon:e=>{let{isActive:t}=e;return Object(K.jsx)(C.a,{rotate:t?-90:90})},activeKey:M,onChange:e=>{V(e),e&&n(Object(S.i)({object_id:e}))},children:Object.entries(f).map((e=>{let[a,o]=e;return o.map((e=>e.Status&&e.active&&Object(K.jsx)(ne,{header:e.Name,$active:M===e._id,extra:M===e._id&&G("create")&&Object(K.jsxs)(ae,{$active:M===e._id,onClick:t=>((e,t)=>{e.stopPropagation(),q(t),N(!0)})(t,e._id),children:["+ ",t("sharing.addRule")]}),children:Object(K.jsxs)(v.a,{pagination:!1,dataSource:z,scroll:{y:350},children:[Object(K.jsx)(i,{title:t("sharing.ruleNumber"),dataIndex:"rule_number",width:"10%"},"rule_number"),Object(K.jsx)(i,{title:"".concat(e.Name," ").concat(t("criteriaSharing.of")),dataIndex:"conditions",width:"30%",render:e=>Object(K.jsx)(K.Fragment,{children:e.map(((e,t)=>Object(K.jsxs)(se,{children:[Object(K.jsx)(de,{children:e.title}),Object(K.jsx)(ue,{children:e.subTitle}),e.list.map(((e,t)=>Object(K.jsxs)(be,{children:[Object(K.jsx)(pe,{children:Object(K.jsx)(l,{ellipsis:{tooltip:e.name},children:e.name})}),Object(K.jsx)(he,{children:Object(K.jsx)(l,{ellipsis:{tooltip:e.equal},children:e.equal})}),null!=e.condition&&Object(K.jsx)(K.Fragment,{children:"string"===typeof e.condition?Object(K.jsx)(me,{children:Object(K.jsx)(l,{ellipsis:{tooltip:e.condition},children:e.condition})}):"number"===typeof e.condition?Object(K.jsx)(me,{children:Object(K.jsx)(l,{ellipsis:{tooltip:je(e.condition,e.decimal_separator)},children:je(e.condition,e.decimal_separator)})}):Object(K.jsx)(me,{children:Object(K.jsx)(l,{ellipsis:{tooltip:Object.values(e.condition)},children:Object.values(e.condition)})})})]},t)))]},t)))})},"conditions"),Object(K.jsx)(i,{title:t("sharing.shareTo"),dataIndex:"share_to",width:"40%",render:e=>Object(K.jsx)(ce,{children:e.map(((e,t)=>Object(K.jsx)(re,{children:Object(K.jsx)("span",{children:e})},t)))})},"share_to"),Object(K.jsx)(i,{title:t("role.privileges"),dataIndex:"privileges",width:"20%",render:(a,i)=>Object(K.jsxs)(le,{children:[Object(K.jsx)("span",{children:a}),(G("edit")||G("delete"))&&Object(K.jsxs)(oe,{children:[G("edit")&&Object(K.jsx)(y.a,{title:t("common.edit"),children:Object(K.jsx)("img",{onClick:()=>{return t=i,n=e._id,F(t.key),q(n),B(!0),void N(!0);var t,n},src:I.a,alt:"edit"})}),G("delete")&&Object(K.jsx)(y.a,{title:t("common.delete"),children:Object(K.jsx)("img",{onClick:()=>{return t=i.key,a=e._id,n(Object(E.setShowModalConfirmDelete)(!0)),P({id:t}),void q(a);var t,a},src:_.a,alt:"delete"})})]})]})},"privileges")]})},e._id)))}))})]}):Object(K.jsxs)(ie,{children:[Object(K.jsx)("img",{src:A.a,alt:"empty"}),Object(K.jsxs)("span",{children:[t("object.noObject")," ",t("object.object")]})]})}),Object(K.jsx)(Y,{showModalRule:k,onHideModalRule:()=>N(!1),listAllGroups:g,objectID:$,isEdit:T,setIsEdit:B,IDRule:W,setActiveKey:V}),Object(K.jsx)(R.a,{title:"",decs:t("common.descriptionDelete"),methodDelete:S.e,dataDelete:L,isLoading:u.modalDelete})]})}));const{Panel:J}=j.a,Z=l.b.div.withConfig({displayName:"criteriaSharing__Wrapper",componentId:"sc-1k1qcvb-0"})(["padding:16px 24px;.ant-breadcrumb-link{cursor:pointer;}.ant-space{width:100%;}.ant-collapse{border:none;background:#f2f8ff;}.ant-collapse-item{border-bottom:none;margin-bottom:10px;}.ant-collapse-content{border-top:none;}.ant-collapse-extra{display:none;}.ant-spin{display:flex;justify-content:center;}.ant-collapse-content > .ant-collapse-content-box{padding:0;}.ant-table-thead > tr > th{font-size:16px;color:#2c2c2c;background:#f0f0f0;border-right:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9;padding:8.5px 16px;:before{display:none;}:first-child{border-left:1px solid #d9d9d9;}}.ant-table-tbody > tr > td{font-size:16px;color:#2c2c2c;padding:8.5px 16px;border-bottom:1px solid #ededed;:first-child{border-left:1px solid #d9d9d9;}:last-child{border-right:1px solid #d9d9d9;}}.ant-table-body{::-webkit-scrollbar{width:8px;}}"]),X=Object(l.b)(h.a.Item).withConfig({displayName:"criteriaSharing__BreadcrumbItem",componentId:"sc-1k1qcvb-1"})(["font-family:var(--roboto-500);font-size:18px !important;color:#2c2c2c;cursor:default;"]),ee=l.b.div.withConfig({displayName:"criteriaSharing__WrapCollapse",componentId:"sc-1k1qcvb-2"})(["margin-top:16px;"]),te=l.b.div.withConfig({displayName:"criteriaSharing__Title",componentId:"sc-1k1qcvb-3"})(["background:#fff;border-radius:10px 10px 0px 0px;height:46px;padding:10px 0 10px 43px;margin-bottom:10px;span{font-family:var(--roboto-500);font-size:18px;color:#2c2c2c;}"]),ne=Object(l.b)(J).withConfig({displayName:"criteriaSharing__PanelCustom",componentId:"sc-1k1qcvb-4"})([".ant-collapse-header{background:",";font-size:16px;font-family:var(--roboto-500);color:","!important;border:1px solid #ececec;padding:9px 16px !important;.ant-collapse-extra{display:",";}:hover{.ant-collapse-extra{display:block;}box-shadow:0px 0px 16px rgba(0,0,0,0.16);}}"],(e=>e.$active?e.theme.main:"#fff"),(e=>e.$active?"#fff":"#2c2c2c"),(e=>e.$active?"block":"none")),ae=Object(l.b)(x.a).withConfig({displayName:"criteriaSharing__AddRule",componentId:"sc-1k1qcvb-5"})(["border:",";padding:0 15px;background:",";span{color:",";font-size:16px;}:hover{background:","!important;border-color:"," !important;span{color:","!important;}}&.ant-btn:active{background:",";border-color:"," span{color:",";}}&.ant-btn:focus{background:",";border-color:",";span{color:",";}}"],(e=>e.$active?"1px solid #fff":"1px solid #20a2a2"),(e=>e.$active?e.theme.main:"#fff"),(e=>e.$active?"#fff":e.theme.main),(e=>e.$active?"#fff":e.theme.darker),(e=>e.theme.darker),(e=>e.$active?e.theme.darker:"#fff"),(e=>e.$active?e.theme.main:"#fff"),(e=>e.theme.main),(e=>e.$active?"#fff":e.theme.main),(e=>e.$active?e.theme.main:"#fff"),(e=>e.$active?"#fff":e.theme.main),(e=>e.$active?"#fff":e.theme.main)),ie=l.b.div.withConfig({displayName:"criteriaSharing__Empty",componentId:"sc-1k1qcvb-6"})(["display:flex;flex-direction:column;align-items:center;margin-top:24px;span{font-size:16px;color:#2c2c2c;}"]),le=l.b.div.withConfig({displayName:"criteriaSharing__WrapPrivileges",componentId:"sc-1k1qcvb-7"})(["display:flex;justify-content:space-between;align-items:center;"]),oe=l.b.div.withConfig({displayName:"criteriaSharing__WrapAction",componentId:"sc-1k1qcvb-8"})(["img{cursor:pointer;margin-left:8px;:hover{background:#eeeeee;}}"]),ce=l.b.div.withConfig({displayName:"criteriaSharing__Wrap",componentId:"sc-1k1qcvb-9"})(["display:flex;align-items:center;"]),re=l.b.div.withConfig({displayName:"criteriaSharing__Shared",componentId:"sc-1k1qcvb-10"})(["background:#f2f4f5;border-radius:5px;padding:2px 8px;width:fit-content;margin-right:8px;"]),se=l.b.div.withConfig({displayName:"criteriaSharing__WrapCondition",componentId:"sc-1k1qcvb-11"})(["display:flex;flex-direction:column;"]),de=l.b.div.withConfig({displayName:"criteriaSharing__TitleCondition",componentId:"sc-1k1qcvb-12"})(["color:#2c2c2c;font-family:var(--roboto-500);font-size:16px;"]),ue=l.b.div.withConfig({displayName:"criteriaSharing__SubTitleCondition",componentId:"sc-1k1qcvb-13"})(["color:#ffa940;font-size:14px;margin-bottom:8px;"]),be=l.b.div.withConfig({displayName:"criteriaSharing__Condition",componentId:"sc-1k1qcvb-14"})(["display:flex;margin-bottom:8px;"]),pe=l.b.div.withConfig({displayName:"criteriaSharing__Name",componentId:"sc-1k1qcvb-15"})(["width:32%;text-align:center;border:1px solid #000;padding:10px;border-radius:5px;margin-right:10px;:last-child{margin-right:0;}"]),he=Object(l.b)(pe).withConfig({displayName:"criteriaSharing__Equal",componentId:"sc-1k1qcvb-16"})([""]),me=Object(l.b)(pe).withConfig({displayName:"criteriaSharing__Value",componentId:"sc-1k1qcvb-17"})([""])}}]);
//# sourceMappingURL=69.42c56c37.chunk.js.map