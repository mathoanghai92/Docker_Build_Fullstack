(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[110],{1419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},i=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&!(e instanceof Array)}))},c=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},s=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(o(e),o(t)))}),[]))},l=t.jsons2arrays=function(e,t){var n=t=t||s(e),r=t;i(t)&&(n=t.map((function(e){return e.label})),r=t.map((function(e){return e.key})));var a=e.map((function(e){return r.map((function(t){return u(t,e)}))}));return[n].concat(o(a))},u=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){var o=e[t];if(void 0!==o&&null!==o)return o;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},d=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return d(e)})).map((function(e){return""+n+e+n})).join(t)})).join("\n")},f=t.arrays2csv=function(e,t,n,r){return p(t?[t].concat(o(e)):e,n,r)},h=t.jsons2csv=function(e,t,n,r){return p(l(e,t),n,r)},b=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},j=t.toCSV=function(e,t,n,r){if(i(e))return h(e,t,n,r);if(c(e))return f(e,t,n,r);if("string"===typeof e)return b(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,o){var i=j(e,n,r,o),c=a()?"application/csv":"text/csv",s=new Blob([t?"\ufeff":"",i],{type:c}),l="data:"+c+";charset=utf-8,"+(t?"\ufeff":"")+i,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?l:u.createObjectURL(s)}},1420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,o=n(0),a=((r=o)&&r.__esModule,n(60));t.propTypes={data:(0,a.oneOfType)([a.string,a.array,a.func]).isRequired,headers:a.array,target:a.string,separator:a.string,filename:a.string,uFEFF:a.bool,onClick:a.func,asyncOnClick:a.bool,enclosingCharacter:a.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},1494:function(e,t,n){e.exports=n(1495)},1495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSVLink=t.CSVDownload=void 0;var r=a(n(1496)),o=a(n(1497));function a(e){return e&&e.__esModule?e:{default:e}}t.CSVDownload=r.default,t.CSVLink=o.default},1496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=(r=a)&&r.__esModule?r:{default:r},c=n(1419),s=n(1420);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,o=e.enclosingCharacter,a=e.uFEFF,i=e.target,c=e.specs,s=e.replace;this.state.page=window.open(this.buildURI(t,a,n,r,o),i,c,s)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(i.default.Component);l.defaultProps=Object.assign(s.defaultProps,{target:"_blank"}),l.propTypes=s.propTypes,t.default=l},1497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),c=(r=i)&&r.__esModule?r:{default:r},s=n(1419),l=n(1420);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return s.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,o=n.headers,a=n.separator,i=n.filename,c=n.enclosingCharacter,l=n.uFEFF,u=t&&"function"===typeof r?r():r,d=new Blob([l?"\ufeff":"",(0,s.toCSV)(u,o,a,c)]);return window.navigator.msSaveBlob(d,i),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,a=t.separator,i=t.filename,s=t.uFEFF,l=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"===typeof window?"":this.buildURI(n,s,r,a,u);return c.default.createElement("a",o({download:i},d,{ref:function(t){return e.link=t},target:"_self",href:p,onClick:this.handleClick()}),l)}}]),t}(c.default.Component);u.defaultProps=l.defaultProps,u.propTypes=l.propTypes,t.default=u},2051:function(e,t,n){"use strict";n.r(t);var r,o,a,i=n(21),c=n(317),s=n(708),l=n(546),u=n(0),d=n(39),p=n(31),f=n(16),h=n(5),b=n(6),j=n.n(b),y=n(1494),g=n(7),x=n(2);const{Option:m}=c.a;t.default=e=>{const{auditLog:t}=Object(d.d)((e=>e.tenantsReducer)),{userDetail:n}=Object(d.d)((e=>e.userReducer)),r=Object(d.c)(),[o,a]=Object(u.useState)(20),[i,l]=Object(u.useState)(1),[f,b]=Object(u.useState)([]),[w,k]=Object(u.useState)({email:"",type_of_action:"",action:"",modified_date:"",content:""});Object(u.useEffect)((()=>{n&&n.permission&&"normal"===n.permission.role&&window.open(h.d+"/tenants","_self")}),[n]),Object(u.useEffect)((()=>{r(Object(p.J)({page:i,limit:o,search_data:w}))}),[i,o,r]);const C=()=>{r(Object(p.J)({page:i,limit:o,search_data:w}))};return Object(u.useEffect)((()=>{(async()=>{const e=await Object(g.a)();j.a.post(h.b+"audit-log/get",{page:1,limit:1e4},{headers:{Authorization:e}}).then((e=>{b(e.data.data.results)})).catch((e=>{}))})()}),[]),Object(x.jsxs)(v,{children:[Object(x.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(x.jsx)(y.CSVLink,{data:f,filename:"tenants.csv",children:Object(x.jsxs)(O,{children:[Object(x.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(x.jsx)("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:"#20A2A2","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(x.jsx)("path",{d:"M7 10L12 15L17 10",stroke:"#20A2A2","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(x.jsx)("path",{d:"M12 15V3",stroke:"#20A2A2","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),"Export"]})})}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("table",{children:[Object(x.jsxs)("thead",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"th1",children:"Author"}),Object(x.jsx)("th",{className:"th1",children:"Type of action"}),Object(x.jsx)("th",{className:"th1",children:"Action"}),Object(x.jsx)("th",{className:"th1",children:"Date"}),Object(x.jsx)("th",{className:"th1",children:"Content"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"th2",children:Object(x.jsx)(s.a,{onChange:e=>{let t={...w};t.email=e.target.value,k(t)},onPressEnter:()=>{C()}})}),Object(x.jsx)("th",{className:"th2",children:Object(x.jsxs)(c.a,{style:{width:"100%"},onChange:e=>{let t={...w};t.type_of_action=e,k(t),r(Object(p.J)({page:i,limit:o,search_data:{...w,type_of_action:e}}))},allowClear:!0,onClear:()=>{let e={...w};e.type_of_action="",k(e)},children:[Object(x.jsx)(m,{value:"effect_tenant",children:"effect_tenant"}),Object(x.jsx)(m,{value:"effect_permission",children:"effect_permission"})]})}),Object(x.jsx)("th",{className:"th2",children:Object(x.jsxs)(c.a,{style:{width:"100%"},onChange:e=>{let t={...w};t.action=e,k(t),r(Object(p.J)({page:i,limit:o,search_data:{...w,action:e}}))},allowClear:!0,onClear:()=>{let e={...w};e.action="",k(e)},children:[Object(x.jsx)(m,{value:"login_root",children:"login_root"}),Object(x.jsx)(m,{value:"enable_tenant",children:"enable_tenant"}),Object(x.jsx)(m,{value:"create_tenant",children:"create_tenant"}),Object(x.jsx)(m,{value:"update_tenant",children:"update_tenant"}),Object(x.jsx)(m,{value:"delete_tenant",children:"delete_tenant"}),Object(x.jsx)(m,{value:"disable_tenant",children:"disable_tenant"}),Object(x.jsx)(m,{value:"clone_tenant",children:"clone_tenant"}),Object(x.jsx)(m,{value:"update_role",children:"update_role"}),Object(x.jsx)(m,{value:"update_permission",children:"update_permission"}),Object(x.jsx)(m,{value:"create_permission",children:"create_permission"}),Object(x.jsx)(m,{value:"delete_permission",children:"delete_permission"}),Object(x.jsx)(m,{value:"reset_root_password",children:"reset_root_password"})]})}),Object(x.jsx)("th",{className:"th2",children:Object(x.jsx)(s.a,{onChange:e=>{let t={...w};t.modified_date=e.target.value,k(t)},onPressEnter:()=>{C()}})}),Object(x.jsx)("th",{className:"th2",children:Object(x.jsx)(s.a,{onChange:e=>{let t={...w};t.content=e.target.value,k(t)},onPressEnter:()=>{C()}})})]})]}),Object(x.jsx)("tbody",{children:t&&t.results&&t.results.map(((e,t)=>Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.email}),Object(x.jsx)("td",{children:e.type_of_action}),Object(x.jsx)("td",{children:e.action}),Object(x.jsx)("td",{children:e.created_date}),Object(x.jsx)("td",{children:e.content})]})))})]}),Object(x.jsx)("div",{style:{width:"100%",background:"white",paddingBottom:"16px"},children:Object(x.jsx)(_,{showQuickJumper:!0,current:i,total:t&&t.total_records,showSizeChanger:!0,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," records"),pageSize:o,onChange:(e,t)=>{l(e),a(t)}})})]})]})};const v=f.b.div(r||(r=Object(i.a)(["\n  padding: 24px;\n  .container {\n    padding: 24px;\n    background-color: white;\n  }\n  table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n  td {\n    border-bottom: 1px solid #ededed;\n    box-shadow: -18px 0px 0px -17px rgba(0, 0, 0, 0.06);\n    text-align: left;\n    padding: 8px;\n    font-style: normal;\n    font-family: var(--roboto-400);\n    font-size: 16px;\n    line-height: 130%;\n    /* identical to box height, or 21px */\n\n    /* Character/Body text */\n\n    color: #2c2c2c;\n  }\n  th {\n    border-bottom: 1px solid #ededed;\n    box-shadow: -18px 0px 0px -17px rgba(0, 0, 0, 0.06);\n    text-align: left;\n    padding: 8px;\n    /* background-color: #fff; */\n    font-family: var(--roboto-500);\n    font-size: 16px;\n    line-height: 22px;\n    /* identical to box height, or 138% */\n\n    color: #2c2c2c;\n    background: #fafafa;\n    box-shadow: -18px 0px 0px -17px rgba(0, 0, 0, 0.06);\n    /* Character/Body text */\n  }\n  .ant-checkbox-checked {\n    background-color: ",";\n    .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n  }\n\n  table {\n    text-align: left;\n    position: relative;\n    border-collapse: collapse;\n  }\n  .th1 {\n    background: white;\n    position: sticky;\n    top: 0; /* Don't forget this, required for the stickiness */\n    box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4);\n  }\n  .th2 {\n    background: white;\n    position: sticky;\n    top: 36px; /* Don't forget this, required for the stickiness */\n    box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4);\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main)),O=f.b.button(o||(o=Object(i.a)(["\n  img {\n    width: 18px;\n    margin-right: 12px;\n  }\n  a {\n    text-decoration: none;\n    color: #20a2a2;\n  }\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #10827b;\n  border-radius: 5px;\n  padding: 8px 16px;\n  background-color: transparent;\n\n  font-style: normal;\n  font-family: var(--roboto-400);\n  font-size: 17px;\n  line-height: 20px;\n  /* identical to box height */\n  margin-bottom: 24px;\n  display: flex;\n  align-items: center;\n  color: #10827b;\n  cursor: pointer;\n  svg {\n    margin-right: 12px;\n  }\n  :hover {\n    img {\n      width: 18px;\n      margin-right: 12px;\n    }\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid #20a2a2;\n    border-radius: 5px;\n    padding: 8px 16px;\n    background-color: #20a2a2;\n\n    font-style: normal;\n    font-family: var(--roboto-400);\n    font-size: 17px;\n    line-height: 20px;\n    /* identical to box height */\n\n    display: flex;\n    align-items: center;\n\n    color: white;\n    svg {\n      filter: brightness(200);\n    }\n  }\n"]))),_=Object(f.b)(l.a)(a||(a=Object(i.a)(["\n  /* position: fixed; */\n  /* bottom: 50px; */\n  text-align: right;\n  background-color: #fff;\n  padding: 16px;\n  border: 1px solid #ececec;\n  margin: auto;\n  margin-top: 16px;\n  margin-left: 0;\n  margin-right: 0;\n  .ant-pagination-item-active {\n    border-color: ",";\n    a {\n      color: ",";\n    }\n  }\n  .ant-pagination-item:hover {\n    border-color: ",";\n    a {\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main))}}]);
//# sourceMappingURL=110.0a50b650.chunk.js.map