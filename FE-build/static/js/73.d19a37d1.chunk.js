(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[73],{1262:function(e,t,n){"use strict";t.a=n.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,t,n){"use strict";var a,l,i,o,s,d,r,c=n(21),p=n(102),b=n.n(p),u=n(320),h=n.n(u),m=n(1262),j=(n(0),n(39)),x=n(3),f=n(285),g=n(16),v=n(480),O=n(1229),y=n(2);const w=e=>{let{dataDelete:t,title:n,decs:a,methodDelete:l,setShowModalDelete:i,isLoading:o,mask:s,loadData:d,setPositionLogo:r,openConfirm:c,setOpenConfirm:p,type:b,onDelete:u}=e;const h=Object(j.c)(),{t:g}=Object(v.a)(),{showModalConfirmDelete:O}=Object(f.d)((e=>e.globalReducer)),w=()=>{"custom-view"===b&&p(!1),h(Object(x.setShowModalConfirmDelete)(!1)),i&&i(!0)};return Object(y.jsxs)(S,{title:g("common.confirmAction"),visible:"custom-view"===b?c:O,mask:s,onCancel:()=>{w()},width:400,footer:null,children:[Object(y.jsxs)(I,{children:[Object(y.jsx)("img",{alt:"",src:m.a}),Object(y.jsxs)(A,{children:[g("common.confirmDelete")," ",n,"?"]}),Object(y.jsx)(D,{children:a})]}),Object(y.jsxs)(k,{children:[Object(y.jsx)(_,{size:"large",htmlType:"submit",loading:o,onClick:()=>{l&&h(l({...t})),d(),h(Object(x.setShowModalConfirmDelete)(!1)),u&&u(),r&&r(t),"custom-view"===b&&p(!1)},children:g("common.delete")}),Object(y.jsx)(C,{size:"large",onClick:()=>{w()},children:g("common.cancel")})]})]})};t.a=Object(O.a)()(w),w.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const k=g.b.div(a||(a=Object(c.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),_=Object(g.b)(b.a)(l||(l=Object(c.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),C=Object(g.b)(b.a)(i||(i=Object(c.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),I=g.b.div(o||(o=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),A=g.b.span(s||(s=Object(c.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),D=g.b.span(d||(d=Object(c.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),S=Object(g.b)(h.a)(r||(r=Object(c.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1264:function(e,t,n){"use strict";t.a=n.p+"static/media/delete.9999fdd9.svg"},1265:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbgSURBVHgB7Z1LUhtJEIaT9wQbiw3bae94u2c3uxG72RlOMPgE5gYwJ/BwgvGcAN2A9gmsQeKxo71lMzhCLEAIJpNoORo5S1JXK+vRri9CISJbElL/nVlZWVVdAIFAIBAIBAKBQCDwYzEFnrO2thbPzs7+9vT0FD0+PtbINj09fTM1NZU+PDx8Oj8/b4LHeClQHMc1PPn7KMJ7FKY27LUkFD41ZmZmjprNZgqeMQOesb6+vo9Px/j4HR8/jfEWEvBXFHJneXl56fr6OgGP8MaDMq8hYepQjgRD4jtfvMkLgVCcqNfrnVA7AxOAwh6GvG0fRJoGDyDPGVOcm+wxFPqszBudx3mBNjY2DvEpHvKSBD2i3ul0ltrt9vOD/kbbDgrxccj74s3NzQ/gOE6HOApteKVfccfw5KeYTu+1Wq1Pwz4DBa7ja/9GwSLuOKbmv7icijvtQdjuHHB2EgePbY8Sh0CPSui19B7uOIrstBc560HDvAftry8vL1MoAHVoUYzP3DHM6pYwYRjZdtnAWQ/Cq77O2aldKSoOkYWxQ+4YCv4HOIrLIe4tZ0Th/gRN0FOOODuKHoOjOCsQl1ajranjPX0ojGWln0GCQEXBE1ljbCmUJ2FsNXCU0klC1k95A5P/kfVBAwmkysbGBT8jZgqslCBMPNXGpOTj6enpP1CCUgKhOH/h03sIKKGk5uzs7B1ooi1QVrz8DwIjKZPGl2mDnI3bVUJboKwSnEBgFI0yneBZKAG67m632/1ADW8+68oaYakszDqKyjql8C+EwDpf4/b2VrvfRoiUerBKvEcFykG764XJcaDiKz6dDNrx9+5hMlAqY+OQ6gepXPpnqCiYUqcggIhAOFqZcnau8+kbqmELKYx6UBUEwlDGRgHscqQggGmBIqgoCwsLX0EAEYFUaWV/YqHPqC4yqfEksWIpl1JXJMRFjC0FIcQEwi99w9giqCCS/TvJ4QbO5UMWV5AQ4grCzQX3MsRBRT0ImN9AqylACKNtELG6uuptNYFmGnF21W+dBJIh7ovCvgT+wkYAyRBXqpqtA5aBXoEGNEB4f38fzc/Pp7p9jmyQMabJjKABvlclkJchLuXs2FmNoCB4YuNer3dFEw9pFDebB1EIek82AnyC1fYrmsgIBVFlcHjR+ScQjhWlnF0nk0Nxjgeyp4Os7D8WWdvxbRox9cdQ7BMoCL7vleL7iZR5CNNZHFFIIDq5it772MmGYpZqTSNhYb87hV0QQkwgVTvhczXBdB2OEJ24WJUh7hycB4mJQxifWerzkIPpKgIhKhD35T0vmHITYfz1oAqGuIixhRDnEFyI81cgVXz2sR5HVQjOLh0lpD1I9OoyTKSwe90GsT1srDJE4BmqOhyWrlIQxEqI06nH2UZVopKswxGiAqGnVCnEsQJJ1uEIK22Qj5mcqvaHdtE1UqICqW5W5OPcBNV3vri4+AKCmOgHfedFnk5gNF6HI8QF4kohnoa4iLH5L5BiAmMlPMhEKcuEB6WMuTJtkDRW2qAKhbgUhDER4lLOrqptuYitOhxhxYOIu7s7relXlrB2MZlog74q7N5MYMQ6XMTZKxHioMILiqUWDr/4HyBMFRYU20xqrHmQTwKZXjicx6ZAEXiO1MLhPOICVWFBsY0Ji32MTBrxfbWdrU4qYUSgii4oNjIYaWraldfLIbkQJz1hsU8IcWNgY8pvH+c9iEZluZPR6/VGbgvQp9vtJoM2+swCo6FGFw6/+D9ggLILigf2Xrihe7MVuX82vRY9djf3Gc/7OYzzXhsLh/MYWaNKC4rxB3F2qseNvIozMV5HUVRL01TrxLRarQY+NTQ+w/jC4TxWb2xedEGxrjhlPsPGwuE8pkJcytl9mMBoY+FwHiMCTXJBsWlsLBzOYzOLI3xItY0vHM5jRCCfFxTbrMMRxpIEj1fbWZmw2MeYQIqspw6OY7NQSpj0oCZji1xebZd1UuNBu8loYNKDmpwdM7x9cJQhu1A2wBDGBEIh2Nvm44/d17mxkTTZLWj2uGNF6oBlMSYQZT2qnYGx03esqnnZoL93OHdMdxdKXYyWelQ7OFJDTCdka2vL+naZdBct/C6fVV2AMrtQ6mB8o1s8ARTXD4e8JKG937AG9q+pnVJWVlboRoFvsfS0A8Mzy8N2u11tgQgUicJHHfwiQXHGGqKYJFaq2bQxFAjsuigFZaCdTmcXLGBFIEoYUKRtVdLgGLSL1vYkhjp0sL7ZOqbYe9jxO3BwIiMJQm3OEVjEukAEjXIuLi7uYHJAe7La7hMl9MCQdmTLa/I4IVAeyqjm5ube0Aboqs0KJ8zz5oC0UoEml0gvqw8EAoFAIBAIBALW+R/zPXQ8L7qaFQAAAABJRU5ErkJggg=="},1272:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAmCAYAAADEO7urAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgBrZY7UgJBEIa7dwkM8QbeQNAqy0cylBfQGyiWsfjIXTX1gbFYmhppaMaaqBFwBELNCE12xm5lqa199rD8CfOAb3um/6YXYMZCmJF2Wt4CfYxKAxnkuvhAQ8XzCpRUpYLPxkAtnDtQQs2j85sorBSweXJximha8fWp7nDv+OIAQLfj6xTt0BpISahREvoJGGVYB6ZudeRxRp/T9hDM7mPbG4qBY1iXhgsJmDFn91feC4/FQLZHFqxz7XnhXARMs8cY9xKF/T0YimBsD6MT9uCMaq13E4/Ig+XZQ2vT4CSIgUX2SIOxnAxYoT0gQ04GrNAeYqDUHiKgjT2yNLENHbWa9u+RZQ9RhGlCB0ZgoQmQMkc/NLeJb9AVuK5zA0K50Un/w39dWm8oSCalVl/bpP3uG0gjDBUEZpvvLb6OqL3m0WkLCpRaKexFx8EuYop9AtPotD0fbICsfSo9/W/wamxrFNiWHuuu7Q2MMYcpW1WupHFjT8iFHFGSBssbik6BKg51XFSLK+pp8On/iCIM1bnkCpHbKTfCSKRiO4l7itROVn1ZYifrRl9kJ9EdRtX79L/qa+obEbdiW3MU/ZY1kJVnp6mArN677y+tq3mCrkbXS7/B7h2f8X2qcF7qhZMVtRO32F8vNPH/SVCwugAAAABJRU5ErkJggg=="},1273:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAmCAYAAADEO7urAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIZSURBVHgBtZZBctMwFIbfk3MAHyHcgLSb0m4cuAA5ASVhj9t0yUxkyg5S3DUNlBN0zcrupu2q8Q3IEXKB+PEU7I4ry7GUab8ZTxxJ/uf3e79lAzw3h6H0+ejClmD1z2h8+hEgl3zq87FYrah3GcslOCCqzlgsLsQUXc/DK3BEVM59w3zw4eTzd3DAK0+yu3S5s98PlDNtzV7v1RuY3ybX4OgQuGbviWChL0LM5Wj85R1YgPqA6jDXbg71EiyFoP6PrzIDW4cK7uoCkQaGtX6e41VbpIRp8OKbTInyI8OUcp/8T4SDoOLnWRSz06hBtDFOHmzg/iZNd/aDF1zql7ro7sFr//4m+QO2DktWKwj5p9YIIgqHx6cTfRzBAtUIITBBrGWU8Q5n00+/nQRLUZs4td5yiW2crB2WDI8nIaIwPd/r3ckDR+a313e7BwEbwUCb8rnOe86Cik1xsq6hTlOcthYs8J9M0PPEL6jvndsJDk/UE0JvDVOZe2xYDGn9InuE2pjznPpOgqOxZFf1naYUW4cfLNnw6EHxul13vOMglpjE+H1zdBlHD/Fpdah258JZtyZGFF2cSVkda+1yUzy4cue6WKvDpo4y2Ww66Zmu6biKFR0dNF1ndGgTD7AVtI1HEx2DmFU8rAQLsW5NTMVjGsVgAWru/taX0PlsKkOwpJrDZXFUyVzEHgmqT1/+nql8elDKTRiAI/8AoTHxlA83fhAAAAAASUVORK5CYII="},1274:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAuCAYAAABTTPsKAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARWSURBVHgB1VlbUttYEO2+9gK8g2hWMJ4VYFYAWQEOzFTNnz2Q+ZyxnPwGCv5SlQScFQArwFlBnBXES3D+I3VO25Ksx5VkWSYip4qirty6OurbbxH9YmD6RdAfuh386+yUMDZ1qEVdI8Yxxn8mvtGHEBt/4fv0zWeakUfzyaU7q7Lv8cvXIxbfXe5FNQGSvXabDkS4j2Vnw9vmePTUI/9+cu7elezvtFr8NVxvRViPx5jWgNnvY+lQPczxsuPri/8nth9PztxD0LwN14YqQjWKN/4Msi7VJ6twmOXm5Gz89fj0VT/9owh14+s2bQjVaqtlbrDFIT0OAuKv9jzPH8PO53pRGNdjQhuZRGBHD1SqUVFn+gStzIxRO10DTgdCqi3+Hcte8T409zzZV9LQ/ENcvpQwyHZB9jaPrBAtDMvV9+90iQcsaAOoAvBCPTx+hJdwcsQWxsi+5/Mtx57NZRurvZLF+7chasPx6WgIVxrkEF+kn80lZPPMYIYjex7aWV0Ez9JT7JbJ5kYJbAAHs5GVj6F90fYEu/oXrnWvD+ejP7D3Vdm9Vg2fnL0ewE0uyUL2w7nbp+2JdgJN9mKX9djhrLwQ8b8w8wEVaLpt2dQB2aFFdlaHrAKOdkjZCNFZXRMC2dKQmSHcatGIUqaAMDX3fXlO9eFQTSRseKXdZU2QAo934WCIxRNamcDWSBBexcYkVLt5eb4q9KXhsIFz8Z0mGqn2ArOESbDhgQbYJHhMO0RwUgkfUWdExdeFcjpaOzCZZ8TiCAnSMjsqE5jlC47dlCjjQqHri9Fv1DD+Bre3gUlGJgFny4QSeO2UngDexvwnIgyH6GVF/Xt6YogIG7OsohLwvGTF1TTUbNdOxwjgKYer2ns9FuJ1TaRh9dCU3JyeCOJ1TeUWqQlILEMWEd60A350cIxLRBgFdDrjdILhRaMIByjheh3WRL5Y5B1qGu1kflhrWCQTEdBT9ahhGF/shBGHM4SZzQE1jDSHiDCaSSWctuNek3a8KneTGTgiHHS+FrOgITUE024dZa7FF5i8ZEpJFECDJrSs2sXEsp++niD8/o071ZIyJYNa1YzoJyOvVbMkjqyWRWS4miL+HByfarNrb9Vy2vzkPCvAQtubXQ1P8pA3bQqbCWtqNp78Y7msM4WHwHMfBbGqLOMzaI/2l9xsN75DWYmhho30csO//nVLR0pVEc6dyZJdkdSirr1wGAi7nUDkyPabiHGvL/6r3aDGpvmuXUKuMMCJQmvpuLWINJWM+8ugzoWwmYkGa2RHYxsNtEtIK+aI4XfIlvc4ummB3PLoodE9aFS1VhDf7XO8jT/K/PnSdaHNTeJxNNxD5b1O9QZFjCw1WZqE1GbfX7iu9TeqAJDu+T7fFEzNa2GZGIy80ASWJ7PVZy/VNogf7Yp4lWn+1h8WN/xOUQiMouaG6WOVzw47+XS7MhXqweP3oK0u59ipapIxAMQLfsJyWnT0efgBj+HWwezHMikAAAAASUVORK5CYII="},1283:function(e,t,n){"use strict";t.a=n.p+"static/media/edit.688907bc.svg"},1284:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT4SURBVHgB7Z0/bhNBFMaf7RSUbpJIaXAZJbEwHR1xRwc3SHICQoWoMBV0kBMQTgA5QTYnIP+VLksXJU2UCkWOzfvkDTh4Z3dmdmzv7ryfFK3lmTXS9+3MvPeWnSUSBEEQBEEQBEEQBJ+okBBLq9Wq393drfLHer/ff1ypVH7xMZyZmdlnrskRYsB/NJvNdRZ6jT+uJnQLqtXq9uHh4TfKiBgQsbKysspX+VcWv6F7DvcPa7Vam0dESJZUSaDl5eVNPuyaiA/Qv9vtnkfnW1Ejz+Erv8NX8kfKAJ//YnZ2Nry6ujogQ7yegiA+H96TG657vV779PR03+Qkb6cgTfER7fzgqWabj0FK3zovzJ/JEC9HgIb41yz65snJyYMoZ3FxscFhKCKkTsK57ePj44A08c6ANPER63P83z47OwtVfaJQ9auiOWAD2qSJV4uwC/HB5eXl/tzcHD6uxjQ3FhYWti4uLn6TBt6sAa7Ev4enoi0arBEj3N7ePidNvDDAtfggKkfERjwcltZJk9IboBPtsGAbJuIPnRcqvm+QJqU2QDfORwmCi28NMif2SseIIk1Ka4BJkoWSAk9BuxYmtOK+5HwgJE1KaYBNhmtqQhSKxvblAp12SaJ0BugkWaoGXROidtW/EZjcLyiVATrRDlcvn1JCJptmAr5Hu+rqj8oW2pQmETMJNTmR2ktIpADugr3ihGqHE6q/V7OG+CGXLzbIgFKMAJs4n8sFH8hgJKSJD3jxXSdDCj8CsiRZuiOB+xzw8XvKDZsOm2p8i7LQxThXGS7/Dn6jQ/Z0ohFlTGFHgMvygsZISMJafFBIA8ZR27E0IZP4oHAGjEP8ewxNyCw+KFQUNE7x7+EyMxbStETKifigMAZMQvz7UJMURbYIZ+KDQkRBkxRfI9R0Jj7IvQFlFh/k2oCyiw9ya4AP4oNcGuCL+CB3BvgkPsiVAb6JD3JjgI/ig1wY4Kv4YOoG+Cw+mKoBvosPpmaAiD9gKgaI+P+YuAEi/kMmaoCIP8rEDBDx45mIASK+mrEbIOInM1YDRPx0xmaAiK/HWAwQ8fVxboCIb4ZTA7BrSKVSUT6uL+KP4syASJifLIzywTURf5QZckS328WVL+Ib4mQEYLcpPuzGtYn4yTj5r4k8779WtYn4yWQ2ALsL4ikSRXNHxE8m8xoQbe04Qn/wwJq1MD6ID1xMQS8V3wdkiS/ig8wGsEgtRVNAFvgkPshkQPQIZ6wBLOIeWfyeT+KDTAawWLHiY/43XXx9FB9knYKczP++ig8yGeBi/vdZfGAdhkI4Lj9Yz//IH/j8Te77WlU/iiit+MDaAJv5P9oSHknbEz6u02ArAEqg1OKDLIlY6vw/LDj/veIrvkH6lF58YG2Aav6vVqv1ZrOJyqip4MN4IT6wqoZG8/85uQcPSEP8LfIEqxGgmv8zErCpG1mKd0XEdgp6Se4IuJzdOTo6Ms6cy4CVAX3DN00Mg81Oe73ej1qttn9zc7MThqGzF+IUESsDWMTrlPBxuK8InoDtCMAiGXsTRgQ3w/qe8NLS0jqHnGs0SKYCEVwQBEEQzLBahKOXn6WVkb0H4ToftjnJfKPqY7xrIov/hQ9v+e8RCWlAo2fYiRE7MsZ1sLkjtkaCKcp3TcrLPKeMjQFfSDCC14JtVZvxGoC5bH5+HovvIsk6kAYW4U98f+MdCYIg5I8/W9Rqkk/fQVMAAAAASUVORK5CYII="},1291:function(e,t,n){"use strict";var a=n(21),l=n(0),i=n(39),o=n(16),s=n(317),d=n(708),r=n(1244),c=n(1245),p=n(148),b=n(1265),u=n(484),h=n.n(u),m=n(2);var j,x,f,g,v,O,y=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:s,index:r,dataDetails:c}=e;return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),s.map(((t,n)=>{e.push(t)})),t){case"empty":n[r].value={$eq:null},e[r]="",o(e),i(n);break;case"not-empty":n[r].value={$ne:null},e[r]="",o(e),i(n);break;case"not-today":n[r].value={$ne:"today"},e[r]="",o(e),i(n);break;case"today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":n[r].value={$eq:t},e[r]="",o(e),i(n);break;case"$inWorkingTimeUCRM":n[r].value={$inWorkingTimeUCRM:""},e[r]="",o(e),i(n);break;case"$ninWorkingTimeUCRM":n[r].value={$ninWorkingTimeUCRM:""},e[r]="",o(e),i(n);break;case"$inWorkingDayUCRM":n[r].value={$inWorkingDayUCRM:""},e[r]="",o(e),i(n);break;case"$ninWorkingDayUCRM":n[r].value={$ninWorkingDayUCRM:""},e[r]="",o(e),i(n)}}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.a,{disabled:n||"empty"===t||"not-empty"===t,value:"today"===s[r]?"":s[r],maxLength:1e3,onChange:e=>{let n=[];a.map(((e,t)=>{n.push({...e})})),n[r].value="$regex"===t?{[t]:e.target.value,$options:"i"}:"$not"===t?{$not:{$regex:e.target.value,$options:"i"}}:{[t]:e.target.value};let l=[...s];l[r]=e.target.value,o(l),i(n)}})})},w=n(281),k=n(1361),_=n(1618),C=n(6),I=n.n(C),A=n(5),D=n(14),S=n(711),$=n(1348),E=n(284),V=n(389),R=n(546),N=n(1278),M=n.n(N);var T=e=>{const{visible:t,setVisible:n,selectedRowKeys:a,setSelectedRowKeys:i,searchData:o,selectedRows:s,setSelectedRows:r,setSearchData:c,reloadData:p,handleSelect:b,users:u,conditions:h,index:j,ID:x,operatorValue:f}=e,[g,v]=Object(l.useState)([]),[O,y]=Object(l.useState)(10),[k,_]=Object(l.useState)(1);Object(l.useEffect)((()=>{let e=[];u&&u.records&&u.records.map(((t,n)=>{let a={...t};a.key=t._id,e.push(a)})),v(e)}),[u]);const C=(e,t)=>({filterDropdown:n=>{let{setSelectedKeys:a,selectedKeys:l,confirm:i,clearFilters:o}=n;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(d.a,{placeholder:"Search ".concat(e),value:l[0],onChange:e=>a(e.target.value?[e.target.value]:[]),onPressEnter:()=>T(l,i,e,t),style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(S.b,{children:[Object(m.jsx)(B,{type:"primary",onClick:()=>T(l,i,e,t),icon:Object(m.jsx)(w.a,{}),size:"small",style:{width:90},children:"Search"}),Object(m.jsx)(L,{onClick:()=>U(o),size:"small",style:{width:90},children:"Reset"}),Object(m.jsx)(L,{type:"link",size:"small",onClick:()=>{i({closeDropdown:!1})},children:"Filter"})]})]})},filterIcon:e=>Object(m.jsx)(w.a,{style:{color:e?"#1890ff":void 0}}),render:t=>R===e?Object(m.jsx)(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[A],autoEscape:!0,textToHighlight:t?t.toString():""}):t}),I=[{title:"First name",dataIndex:"First_Name",key:"First_Name",width:"maxContent",editable:!0,...C("First_Name",o)},{title:"Middle name",dataIndex:"Middle_Name",key:"Middle_Name",width:"maxContent",editable:!0,...C("Middle_Name",o)},{title:"Last name",dataIndex:"Last_Name",key:"Last_Name",width:"maxContent",editable:!0,...C("Last_Name",o)},{title:"Email",dataIndex:"Email",key:"Email",width:"maxContent",editable:!0,...C("Email",o)},{title:"Report to",dataIndex:"Report_To_Name",key:"Report_To_Name",width:"maxContent",editable:!0,...C("Report_To_Name",o)},{title:"User role",dataIndex:"User_Role_Name",key:"Report_To_Name",width:"maxContent",editable:!0,...C("User_Role_Name",o)},{title:"Is admin",dataIndex:"Is_Admin",key:"Is_Admin",width:"maxContent",editable:!0,...C("Is_Admin",o),render:e=>Object(m.jsx)("div",{children:e?"Yes":"No"})},{title:"Created by",dataIndex:"Created_By_Name",key:"Created_By_Name",width:"maxContent",editable:!0,...C("Created_By_Name",o)},{title:"Created date",dataIndex:"Created_Date",key:"Created_Date",width:"maxContent",editable:!0,...C("Created_Date",o)},{title:"Modified by",dataIndex:"Modify_By_Name",key:"Modify_By_Name",width:"maxContent",editable:!0,...C("Modify_By_Name",o)},{title:"Modify time",dataIndex:"Modify_Time",key:"Modify_Time",width:"maxContent",editable:!0,...C("Modify_Time",o)}],[A,D]=Object(l.useState)(""),[R,N]=Object(l.useState)(""),T=(e,t,n,a)=>{t();let l={...a};l[n]=e[0],c(l),p(k,O,l),D(e[0]),N(n)},U=e=>{e(),D("")};return Object(l.useEffect)((()=>{x&&i((e=>h[j].key?[h[j].key]:e))}),[x,h,j,i]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)($.a,{title:"User list",placement:"right",onClose:()=>{n(!1)},visible:t,width:1e3,children:Object(m.jsxs)(z,{children:[Object(m.jsx)(q,{children:Object(m.jsxs)("table",{children:[Object(m.jsxs)("thead",{className:"table-header",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),I.map(((e,t)=>Object(m.jsx)("th",{children:e.title})))]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),I.map(((e,t)=>Object(m.jsx)("th",{children:Object(m.jsx)(d.a,{onChange:t=>{let n={...o};n[e.dataIndex]=t.target.value,c(n)},value:o[e.dataIndex]||null,onPressEnter:()=>{p(k,O,o)}})})))]})]}),Object(m.jsx)("tbody",{className:"table-body",children:g.map(((e,t)=>Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"$nin"===f||"$in"===f?Object(m.jsx)(E.a,{checked:a.findIndex((t=>t===e._id))>=0,onChange:t=>{if((null===a||void 0===a?void 0:a.findIndex((t=>t===e._id)))>=0){let t=[...a];t=t.filter((t=>t!==e._id)),i(t);let n=[...s];n=n.filter((t=>t._id!==e._id)),r(n)}else{let t=[...a];t.push(e._id),i(t);let n=[...s];n.push(e),r(n)}}}):Object(m.jsx)(V.a,{checked:a[0]===e._id,onChange:()=>{i([e._id]),r([e])}})}),I.map(((t,n)=>Object(m.jsx)("td",{children:e[t.dataIndex]})))]})))})]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(W,{showQuickJumper:!0,current:k,total:u.total_record,showSizeChanger:!0,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," records"),pageSize:O,onChange:(e,t)=>{p(e,t,o),_(e),y(t)}}),Object(m.jsxs)(F,{children:[Object(m.jsx)(B,{onClick:()=>{b(a,s)},disabled:!a[0],children:"Save"}),Object(m.jsxs)(L,{onClick:()=>n(!1),children:[" ","Cancel"]})]})]})]})})})};const F=o.b.div(j||(j=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 826px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n"]))),W=Object(o.b)(R.a)(x||(x=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 16px;\n  width: 976px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n  .ant-pagination-item-active {\n    border-color: #0ab2ab;\n    a {\n      color: #0ab2ab;\n    }\n  }\n  .ant-pagination-item:hover {\n    border-color: #0ab2ab;\n    a {\n      color: #0ab2ab;\n    }\n  }\n"]))),z=o.b.div(f||(f=Object(a.a)(["\n  table {\n    width: max-content;\n    th {\n      width: max-content;\n      .ant-table-column-title {\n        margin-right: 30px;\n      }\n    }\n  }\n  padding-bottom: 100px;\n"]))),q=o.b.div(g||(g=Object(a.a)(["\n  width: 100%;\n  /* height: calc(100% - 187px); */\n  height: 100%;\n\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  background: #fff;\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: calc(100vh - 180px);\n  &::-webkit-scrollbar {\n    height: 8px !important;\n  }\n\n  table {\n    /* width: 100%; */\n    min-width: 100%;\n    width: max-content;\n    table-layout: auto;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 3;\n    }\n    .table-header th {\n      text-align: left;\n\n      box-shadow: inset 1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n        inset 0px -1px 0px #d9d9d9;\n\n      overflow: hidden;\n      resize: horizontal;\n      background: #f0f0f0;\n      min-width: 32px;\n      white-space: nowrap;\n      padding: 8px;\n      font-size: 16px;\n      &:first-child {\n        border-left: none;\n        /* text-align: center; */\n        width: 32px;\n        max-width: 32px;\n        resize: none;\n        position: sticky;\n        z-index: 4;\n        left: 0;\n        box-shadow: inset -1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n\n      &:nth-child(2) {\n        box-shadow: inset 0px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n      /* \n      &:last-child {\n        position: sticky;\n        z-index: 4;\n        right: 0;\n        border-right: none;\n        resize: none;\n        width: 122px;\n        max-width: 122px;\n\n        .hidden__component {\n          display: none;\n        }\n      } */\n    }\n\n    .table-body td {\n      border-bottom: 1px solid #ddd;\n      padding: 16px;\n\n      max-width: 200px;\n\n      &:first-child {\n        /* border-left: 1px solid #ddd; */\n        width: 32px;\n        max-width: 32px;\n        padding: 0;\n        text-align: center;\n        position: sticky;\n        z-index: 2;\n        left: 0;\n\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n        .ant-radio-wrapper {\n          margin-right: 0px;\n        }\n\n        .ant-radio-checked::after,\n        .ant-radio-checked .ant-radio-inner {\n          border-color: ",";\n        }\n      }\n\n      /* &:last-child {\n        border-right: 1px solid #ddd;\n        position: sticky;\n        z-index: 2;\n        right: 0;\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n      } */\n    }\n  }\n"])),(e=>e.theme.main)),B=Object(o.b)(p.a)(v||(v=Object(a.a)(["\n  /* width: 80px; */\n  background-color: ",";\n  color: #fff;\n  /* font-size: 16px; */\n  background-color: ",";\n  color: #fff;\n  border-color: ",";\n  margin-right: 16px;\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: #fff;\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),L=Object(o.b)(p.a)(O||(O=Object(a.a)(["\n  /* font-size: 16px; */\n  background-color: #fff;\n  /* width: 80px; */\n  color: #000;\n\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    color: ",";\n    border-color: ",";\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.darker));var U,Q=n(7);var P=e=>{var t;let{operatorValue:n,field:a,conditions:o,setConditions:s,setValue:r,value:c,disabled:p,index:b,ID:u,init:h}=e;const[j,x]=Object(l.useState)(!1),[f,g]=Object(l.useState)([]),[v,O]=Object(l.useState)([]),[y,_]=Object(l.useState)(""),[C,S]=Object(l.useState)({}),$=Object(i.c)(),{users:E}=Object(i.d)((e=>e.objectsReducer));Object(l.useEffect)((()=>{!0===j&&$(Object(D.Tb)({current_page:1,record_per_page:10}))}),[j]),Object(l.useEffect)((()=>{_(""),g([])}),[n]),Object(l.useEffect)((()=>{Object(Q.a)()&&(o[b].key&&"$nin"!==n&&"$in"!==n?I.a.post(A.b+"user/get-user-details",{_id:o[b].key},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{let t=e.data.data.Full_Name;_(t),x(!1);let n=[...c];n[b]=t,r(n)})).catch((e=>console.log(e))):"user"!==o[b].type||"$nin"!==n&&"$in"!==n||I.a.post(A.b+"user/load-list-user",{user_ids:o[b].key},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{g(o[b].key),O(e.data.data),x(!1);let t=[];e.data.data.map(((e,n)=>(t.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null)));let n=[...c];n[b]=t,r(n)})).catch((e=>console.log(e))))}),[u,o,Q.a,h]);return Object(l.useEffect)((()=>{let e=[],t=[];switch(o.map(((e,n)=>{t.push({...e})})),c.map(((t,n)=>{e.push(t)})),n){case"empty":t[b].value={$eq:null},e[b]="",r(e),s(t);break;case"not-empty":t[b].value={$ne:null},e[b]="",r(e),s(t);break;case"mine":t[b].value={$eq:"mine"},e[b]="",r(e),s(t);break;case"not-mine":t[b].value={$ne:"mine"},e[b]="",r(e),s(t)}}),[n]),console.log("hihii","$nin"===n||"$in"===n?"object"===typeof c[b]&&c[b]:""),console.log("value",c[b],b),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{disabled:p||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n,addonAfter:Object(m.jsx)(m.Fragment,{children:p||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n?Object(m.jsx)(w.a,{style:{pointerEvents:"none"}}):Object(m.jsx)(w.a,{onClick:()=>{x(!0)}})}),addonBefore:p||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n?"":y?Object(m.jsx)(k.a,{onClick:()=>{_("");let e=[...o],t=[];e.forEach(((e,n)=>{t[n]={...e}})),t[b].value={[n]:""},t[b].key="",s(t);let a=[...c];a[b]="",r(a)}}):"",value:y}),"$nin"===n||"$in"===n?"object"===typeof c[b]&&(null===(t=c[b])||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(K,{closable:!0,onClose:()=>{let t,a=[...o],l=[...c];a[b]={...a[b],value:{...a[b].value,[n]:c[b].filter(((n,a)=>(n===e&&(t=e),n!==e)))}};let i="object"===typeof a[b].key?a[b].key:[],d=[],p=[];i.forEach(((e,n)=>{v.forEach(((n,a)=>{n._id===e&&t!=="".concat(n.First_Name," ").concat(n.Middle_Name," ").concat(n.Last_Name)&&(d.push(e),p.push(n))}))})),a[b]={...a[b],key:d,value:{[n]:d}},O(p),g(d),s(a),l[b]=c[b].filter((t=>t!==e)),r(l)},children:e})))):"",Object(m.jsx)(T,{visible:j,setVisible:x,users:E,selectedRowKeys:f,setSelectedRowKeys:g,reloadData:(e,t,n)=>{$(Object(D.Tb)({current_page:e,record_per_page:t,search_data:n}))},handleSelect:(e,t)=>{if("$nin"!==n&&"$in"!==n){let a="".concat(t[0].First_Name," ").concat(t[0].Middle_Name," ").concat(t[0].Last_Name);_(a),x(!1);let l=[...o],i=[];l.forEach(((e,t)=>{i[t]={...e}})),i[b].value={[n]:e[0]},i[b].key=e[0],s(i);let d=[...c];d[b]=a,r(d)}else{x(!1);let a=[...o],l=[];t.map(((e,t)=>(l.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null))),a[b]={...a[b],value:{...a[b].value,[n]:e}},a[b]={...a[b],key:e},s(a);let i=[...c];i[b]=[...new Set([...l])],r(i)}},selectedRows:v,setSelectedRows:O,searchData:C,setSearchData:S,conditions:o,index:b,ID:u,operatorValue:n})]})};const K=Object(o.b)(_.a)(U||(U=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100% !important;\n  height: fit-content !important;\n  margin-bottom: 0px !important;\n  font-size: 12px !important;\n  padding: 0 !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Y,G,J,Z,H,X,ee,te,ne,ae,le,ie,oe,se=n(717),de=n(718),re=n(1253),ce=n(545),pe=n(1284),be=n(1272),ue=n(1273),he=n(1274),me=n(480);const{Text:je}=re.a,{Option:xe}=s.a;var fe=e=>{const{visible:t,setVisible:n,field:a,selectedRowKeys:o,setSelectedRowKeys:s,handleSelect:r,setSelectedRows:c,selectedRows:p,operatorValue:u,ID:h}=e,{t:j}=Object(me.a)(),[x]=Object(l.useState)(50),[f,g]=Object(l.useState)(1),[v,O]=Object(l.useState)({}),[y,k]=Object(l.useState)(""),[_,C]=Object(l.useState)(""),[,I]=Object(l.useState)(null),[,A]=Object(l.useState)(null),[R,N]=Object(l.useState)(1),[T,F]=Object(l.useState)(1),W=Object(i.c)(),{headerLinking:z,dataLinking:q,isLoadingDataLinking:B,isLoadingPagi:L,totalRecord:U}=Object(i.d)((e=>e.objectsReducer)),[,Q]=Object(l.useState)([]),[,P]=Object(l.useState)([]),[K,Y]=Object(l.useState)([]),[G,J]=Object(l.useState)([]),[Z,H]=Object(l.useState)({}),[X,ee]=Object(l.useState)([]),{defaultBrandName:te}=Object(i.d)((e=>e.brandNameReducer));Object(l.useEffect)((()=>{let e=[...z];Y(e)}),[z]),Object(l.useEffect)((()=>{s([]),c([])}),[u]),Object(l.useEffect)((()=>{let e=[];q.forEach((t=>{let n={};n._id=t._id,K.forEach((e=>{let a=0;Object.entries(t).forEach((t=>{let[l,i]=t;e.ID===l&&(a=1,n[l]="object"===typeof i&&null!==i?i.value:i)})),0===a&&(n[e.ID]=null)})),e.push(n)})),ee(e)}),[q,K]),Object(l.useEffect)((()=>{let e=[];q.map(((t,n)=>{let a={};a.key=t._id,Object.entries(t).forEach(((e,t)=>{let[n,l]=e;a[n]="object"===typeof l&&null!==l?l.value:l})),e.push(a)})),Q(e)}),[q]),Object(l.useEffect)((()=>{let e=[];z.map(((t,n)=>{let a={title:t.name,dataIndex:t.ID,key:t.ID,width:"maxContent",editable:!0,type:t.type,...ae(t.ID,n,t.name,v,t.type)};e.push(a)})),e.push({title:"Action",key:"action",fixed:"right",render:()=>Object(m.jsxs)(S.b,{size:"middle",children:[Object(m.jsx)("a",{href:!0,children:Object(m.jsx)("img",{alt:"",src:pe.a,style:{width:"20px"}})}),Object(m.jsx)("a",{className:"ant-dropdown-link",href:!0,children:Object(m.jsx)("img",{alt:"",src:b.a,style:{width:"20px"}})})]})}),P(e)}),[z,v]);const ne=e=>{let t={};return q.forEach((n=>{n._id===e&&Object.entries(n).forEach((e=>{let[n,a]=e;t[n]=null!==a&&"object"===typeof a?a.value:a}))})),t},ae=(e,t,n,a,l)=>({filterDropdown:t=>{let{setSelectedKeys:a,selectedKeys:l,confirm:i,clearFilters:o}=t;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(d.a,{placeholder:"Search ".concat(n),value:l[0],onChange:e=>{a(e.target.value?[e.target.value]:[])},onPressEnter:()=>{le(l,i,e)},style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(S.b,{children:[Object(m.jsx)(Oe,{type:"primary",onClick:()=>{le(l,i,e)},icon:Object(m.jsx)(w.a,{}),size:"small",style:{width:90},children:"Search"}),Object(m.jsx)(ye,{onClick:()=>ie(o),size:"small",style:{width:90},children:"Reset"}),Object(m.jsx)(ye,{type:"link",size:"small",onClick:()=>{i({closeDropdown:!1}),k(l[0]),C(e)},children:"Filter"})]})]})},filterIcon:e=>Object(m.jsx)(w.a,{style:{color:e?"#1890ff":void 0}}),render:function(t){const n=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]+)?/gi);return t&&"object"===typeof t?t.map(((a,l)=>{if(null!==a&&a.match(n)){let e=a.split("/");return Object(m.jsx)("a",{style:{display:"block"},href:!0,children:e[e.length-1]})}return _===e?Object(m.jsx)(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t})):_===e?Object(m.jsx)(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}),le=(e,t,n)=>{t();let a={...v};a[n]=e[0],O(a);let l=[];Object.entries(a).forEach(((e,t)=>{let[n,a]=e;if(a){let e={id_field:n,value:a};l.push(e)}})),oe(l,f,x),k(e[0]),C(n)},ie=e=>{e(),k("")},oe=(e,t,n,l)=>{W(Object(D.Q)({object_id:a.objectname,first_record_id:t,last_record_id:n,search_with:{meta:[],data:e}})),W(Object(D.Ab)({total_page:null,total_record:null}))},re=e=>{oe(G,f,x,e)},fe=(e,t)=>{let n=[...G];if(t){let a=0;n.forEach(((l,i)=>{l.id_field===e&&(a=1,n[i].value=t)})),0===a&&n.push({id_field:e,value:t})}else n.forEach(((t,a)=>{t.id_field===e&&n.splice(a,1)}));J(n),oe(n,f,x,Z)},Ee=e=>{const t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]+)?/gi);if(e)return e.map(((e,n)=>{if(null!==e&&e.match(t)){let t=e.split("/");return Object(m.jsx)("a",{style:{display:"block"},href:e,target:"_blank",rel:"noreferrer",children:t[t.length-1]},n)}}))};function Ve(e,t){return 0===e?"0":(e=e.toFixed(0===(null===t||void 0===t?void 0:t.decimal_separator)?0:(null===t||void 0===t?void 0:t.decimal_separator)||3)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return Object(l.useEffect)((()=>{N(X.length===x?f*x:(f-1)*x+X.length)}),[X]),Object(l.useEffect)((()=>{F(f*x-x+1)}),[f]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)($.a,{title:"Linking list",placement:"right",onClose:()=>{n(!1),s([])},visible:t,width:1e3,children:Object(m.jsxs)(ve,{children:[Object(m.jsxs)($e,{children:[Object(m.jsx)(m.Fragment,{children:B?Object(m.jsx)(ce.a,{}):Object(m.jsxs)("div",{className:"total-record",children:[0===R?0:T," - ",R," ",L?Object(m.jsx)(ce.a,{style:{marginLeft:"10px"}}):null===U?Object(m.jsx)("div",{className:"reload-pagi",onClick:()=>{let e=[...G],t=[],n=[];e.forEach((e=>{"created_date"===e.id_field||"created_by"===e.id_field||"modify_time"===e.id_field||"owner"===e.id_field||"modify_by"===e.id_field?t.push(e):n.push(e)})),W(Object(D.wb)({current_page:1,record_per_page:50,object_id:a.objectname,search_with:{meta:t,data:n}}))},children:Object(m.jsx)("img",{alt:"",src:he.a})}):"of ".concat(U||0," records")]})}),Object(m.jsx)("div",{className:"left-pagi",style:{pointerEvents:"".concat(1===f?"none":""),cursor:"".concat(1===f?"not-allowed":"pointer"),opacity:"".concat(1===f?.5:1)},onClick:()=>{A(X.length>0?X[X.length-1]._id:null);let e=f;e-=1,g(e),I(X.length>0?X[0]._id:null),oe(G,X.length>0?X[0]._id:null,null,Z)},children:Object(m.jsx)("img",{alt:"",src:be.a})}),Object(m.jsx)("div",{className:"right-pagi",style:{pointerEvents:"".concat(X.length<x?"none":""),cursor:"".concat(X.length<x?"not-allowed":"pointer"),opacity:"".concat(X.length<x?.5:1)},onClick:()=>{A(X.length>0?X[X.length-1]._id:null);let e=f;e+=1,g(e),I(X.length>0?X[0]._id:null),oe(G,null,X.length>0?X[X.length-1]._id:null,Z)},children:Object(m.jsx)("img",{alt:"",src:ue.a})})]}),Object(m.jsx)(we,{children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{className:"table-header",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),K.map(((e,t)=>{var n,a;return Object(m.jsx)("th",{children:Object(m.jsxs)(ke,{children:[Object(m.jsxs)(Ie,{children:[Object(m.jsx)("span",{children:e.name}),Object(m.jsxs)(De,{className:"hidden__component",children:[Object(m.jsx)(se.a,{style:{color:"".concat(1===Z[e.ID]?te.theme_color:"rgba(0, 0, 0, 0.25)")},onClick:()=>{let t={...Z};1===t[e.ID]?delete t[e.ID]:t[e.ID]=1,re(t),H(t)}}),Object(m.jsx)(de.a,{style:{color:"".concat(-1===Z[e.ID]?te.theme_color:"rgba(0, 0, 0, 0.25)")},onClick:()=>{let t={...Z};-1===t[e.ID]?delete t[e.ID]:t[e.ID]=-1,re(t),H(t)}})]})]}),Object(m.jsx)(Ae,{className:"hidden__component",children:"select"!==e.type?Object(m.jsx)(_e,{value:(null===(n=G.find((t=>t.id_field===e.ID)))||void 0===n?void 0:n.value)||"",onChange:t=>{((e,t)=>{let n=[...G];if(t){let a=0;n.forEach(((l,i)=>{l.id_field===e&&(a=1,n[i].value=t)})),0===a&&n.push({id_field:e,value:t})}else n.forEach(((t,a)=>{t.id_field===e&&n.splice(a,1)}));t||oe(n,f,x,Z),W(Object(D.Ab)({total_page:null,total_record:null})),J(n)})(e.ID,t.target.value)},allowClear:!0,onPressEnter:t=>{fe(e.ID,t.target.value)},placeholder:"".concat(j("common.search")," ").concat(e.name)}):Object(m.jsx)(Ce,{value:(null===(a=G.find((t=>t.id_field===e.ID)))||void 0===a?void 0:a.value)||void 0,showSearch:!0,allowClear:!0,placeholder:"Search ".concat(e.name),onChange:t=>{fe(e.ID,t)},style:{marginBottom:8,display:"block"},children:e&&e.option&&e.option.map(((e,t)=>Object(m.jsx)(xe,{value:e.label,children:e.label},t)))})})]})},t)}))]})}),Object(m.jsx)("tbody",{className:"table-body",children:X.map(((e,t)=>Object(m.jsxs)("tr",{children:[Object(m.jsx)(Se,{check:o[0]===e._id,children:"$nin"===u||"$in"===u?Object(m.jsx)(E.a,{checked:o.findIndex((t=>t===e._id))>=0,disabled:""===e[a.field]||null===e[a.field],onChange:t=>{if((null===o||void 0===o?void 0:o.findIndex((t=>t===e._id)))>=0){let t=[...o];if(t=t.filter((t=>t!==e._id)),s(t),h){let t=[...p];t=t.filter((t=>t!==ne(e._id)[a.field])),console.log("Delete",t),c(t)}else{let t=[...p];t=t.filter((t=>t._id!==ne(e._id)._id)),console.log("Delete",t),c(t)}}else{let t=[...o];t.push(e._id),s(t);let n=[...p];n.push(ne(e._id)),c(n)}}}):Object(m.jsx)(V.a,{checked:o[0]===e._id,onChange:()=>{s([e._id]),c([ne(e._id)])}})}),K.map((n=>Object.entries(e).map((a=>{let[l,i]=a;if(n.ID===l)return Object(m.jsx)(Se,{style:{textAlign:"".concat("number"===n.type||"formula"===n.type&&"advanceExpression"===n.formula_type?"right":"left")},check:o[0]===e._id,children:"object"===typeof i?Object(m.jsx)(je,{ellipsis:{tooltip:i},children:Ee(i)}):Object(m.jsx)(je,{ellipsis:{tooltip:i},children:"number"===n.type||"formula"===n.type&&"advanceExpression"===n.formula_type?Ve(i,n):i})},t)}))))]},t)))})]})}),Object(m.jsx)("div",{children:o.length>0?Object(m.jsxs)(ge,{children:[Object(m.jsx)(Oe,{onClick:()=>{r(o,p)},children:"Save"}),Object(m.jsx)(ye,{onClick:()=>{n(!1)},children:"Cancel"})]}):""})]})})})};const ge=o.b.div(Y||(Y=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 826px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n  z-index: 3;\n"]))),ve=o.b.div(G||(G=Object(a.a)(["\n  table {\n    width: max-content;\n    th {\n      width: max-content;\n      .ant-table-column-title {\n        margin-right: 30px;\n      }\n    }\n  }\n  padding-bottom: 100px;\n"]))),Oe=Object(o.b)(p.a)(J||(J=Object(a.a)(["\n  /* width: 80px; */\n  background-color: ",";\n  color: #fff;\n  /* font-size: 16px; */\n  background-color: ",";\n  color: #fff;\n  border-color: ",";\n  margin-right: 16px;\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: #fff;\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),ye=Object(o.b)(p.a)(Z||(Z=Object(a.a)(["\n  /* font-size: 16px; */\n  background-color: #fff;\n  /* width: 80px; */\n  color: #000;\n\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    color: ",";\n    border-color: ",";\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.darker)),we=o.b.div(H||(H=Object(a.a)(["\n  width: 100%;\n  /* height: calc(100% - 187px); */\n  height: 100%;\n\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  background: #fff;\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: calc(100vh - 180px);\n  &::-webkit-scrollbar {\n    height: 8px !important;\n  }\n\n  table {\n    /* width: 100%; */\n    min-width: 100%;\n    width: max-content;\n    table-layout: auto;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 3;\n    }\n    .table-header th {\n      text-align: left;\n\n      box-shadow: inset 1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n        inset 0px -1px 0px #d9d9d9;\n\n      overflow: hidden;\n      resize: horizontal;\n      background: #f0f0f0;\n      min-width: 32px;\n      white-space: nowrap;\n\n      &:first-child {\n        border-left: none;\n        /* text-align: center; */\n        width: 32px;\n        max-width: 32px;\n        resize: none;\n        position: sticky;\n        z-index: 4;\n        left: 0;\n        box-shadow: inset -1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n\n      &:nth-child(2) {\n        box-shadow: inset 0px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n      /* \n      &:last-child {\n        position: sticky;\n        z-index: 4;\n        right: 0;\n        border-right: none;\n        resize: none;\n        width: 122px;\n        max-width: 122px;\n\n        .hidden__component {\n          display: none;\n        }\n      } */\n    }\n\n    .table-body td {\n      border-bottom: 1px solid #ddd;\n      padding: 16px;\n\n      max-width: 200px;\n\n      &:first-child {\n        /* border-left: 1px solid #ddd; */\n        width: 32px;\n        max-width: 32px;\n        padding: 0;\n        text-align: center;\n        position: sticky;\n        z-index: 2;\n        left: 0;\n\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n        .ant-radio-wrapper {\n          margin-right: 0px;\n        }\n\n        .ant-radio-checked::after,\n        .ant-radio-checked .ant-radio-inner {\n          border-color: ",";\n        }\n      }\n\n      /* &:last-child {\n        border-right: 1px solid #ddd;\n        position: sticky;\n        z-index: 2;\n        right: 0;\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n      } */\n    }\n  }\n"])),(e=>e.theme.main)),ke=o.b.div(X||(X=Object(a.a)(["\n  /* border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd; */\n"]))),_e=Object(o.b)(d.a)(ee||(ee=Object(a.a)(["\n  border-radius: 5px;\n  &:hover,\n  &:focus {\n    border-color: ",";\n    box-shadow: none;\n  }\n"])),(e=>e.theme.main)),Ce=Object(o.b)(s.a)(te||(te=Object(a.a)(["\n  margin-bottom: 0px !important;\n\n  .ant-select-selection-placeholder {\n    font-weight: normal;\n  }\n\n  .ant-select-selector {\n    border-radius: 5px !important;\n  }\n"]))),Ie=o.b.div(ne||(ne=Object(a.a)(["\n  padding: 8px;\n  display: flex;\n\n  span {\n    font-family: var(--roboto-500);\n    font-size: 16px;\n    color: #252424;\n    font-weight: normal;\n  }\n"]))),Ae=o.b.div(ae||(ae=Object(a.a)(["\n  border-top: 1px solid #ddd;\n  padding: 8px;\n"]))),De=o.b.div(le||(le=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 6px;\n\n  .anticon svg {\n    font-size: 12px;\n    /* color: rgba(0, 0, 0, 0.25); */\n    cursor: pointer;\n    transition: all 0.5s;\n  }\n"]))),Se=o.b.td(ie||(ie=Object(a.a)(["\n  background: ",";\n"])),(e=>e.check?"#e6f7ff":"#fff")),$e=o.b.div(oe||(oe=Object(a.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  background-color: white;\n  padding: 10px;\n  position: absolute;\n  top: 0;\n  right: 7px;\n  .ant-spin-dot-item {\n    background-color: ",";\n  }\n  .total-record {\n    font-family: var(--roboto-400);\n    font-size: 16px;\n    line-height: 16px;\n    letter-spacing: 0.01em;\n    color: #637381;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .reload-pagi {\n    img {\n      width: 15px;\n    }\n    margin-right: 8px;\n    margin-left: 8px;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n  .left-pagi {\n    img {\n      width: 7px;\n    }\n    margin-right: 8px;\n    margin-left: 8px;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n  .right-pagi {\n    img {\n      width: 7px;\n    }\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n"])),(e=>e.theme.main));var Ee;var Ve=e=>{var t;let{field:n,operatorValue:a,disabled:o,conditions:s,setConditions:r,setValue:c,value:p,index:b,ID:u}=e;const[h,j]=Object(l.useState)(!1),[x,f]=Object(l.useState)([]),g=Object(i.c)(),[v,O]=Object(l.useState)([]);Object(l.useEffect)((()=>{s[b].key&&"$nin"!==a&&"$in"!==a?f([s[b].key]):"object"===typeof s[b].key&&u&&(f(s[b].key),O(p[b]))}),[s,b]),Object(l.useEffect)((()=>{!0===h&&(g(Object(D.lb)({object_id:n.objectname})),g(Object(D.Q)({object_id:n.objectname,first_record_id:null,last_record_id:null,search_with:{meta:[],data:[]},filter:[]})),g(Object(D.zb)({object_id:n.objectname,current_page:1,record_per_page:10,search_with:{meta:[],data:[]},filter:[]})))}),[g,h]);return Object(l.useEffect)((()=>{let e=[],t=[];switch(s.map(((e,n)=>{t.push({...e})})),p.map(((t,n)=>{e.push(t)})),a){case"empty":t[b].value={$eq:null},e[b]="",c(e),r(t);break;case"not-empty":t[b].value={$ne:null},e[b]="",c(e),r(t)}}),[a]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{disabled:o||"empty"===a||"not-empty"===a,addonAfter:Object(m.jsx)(m.Fragment,{children:o||"empty"===a||"not-empty"===a||"mine"===a||"not-mine"===a?Object(m.jsx)(w.a,{style:{pointerEvents:"none"}}):Object(m.jsx)(w.a,{onClick:()=>{j(!0)}})}),addonBefore:o||"empty"===a||"not-empty"===a||"mine"===a||"not-mine"===a||"$nin"===a||"$in"===a?"":p[b]?Object(m.jsx)(k.a,{onClick:()=>{let e=[...s],t=[];e.forEach(((e,n)=>{t[n]={...e}})),t[b].value={[a]:""},t[b].key="",r(t);let n=[...p];n[b]=null,c(n)}}):"",value:"$nin"===a||"$in"===a?"":p[b]}),"$nin"===a||"$in"===a?"object"===typeof p[b]&&(null===(t=p[b])||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Re,{closable:!0,onClose:()=>{let t,n=[...s],l=[...p];n[b]={...n[b],value:{[a]:p[b].filter(((n,a)=>(n===e&&(t=a),n!==e)))}};let i="object"===typeof n[b].key?n[b].key:[];i=i.filter(((e,n)=>n!==t)),n[b]={...n[b],key:i},r(n),l[b]=p[b].filter((t=>t!==e)),c(l)},children:e})))):"",Object(m.jsx)(fe,{visible:h,setVisible:j,field:n,selectedRowKeys:x,setSelectedRowKeys:f,handleSelect:(e,t)=>{if("$nin"!==a&&"$in"!==a){j(!1);let l=[...s];l[b]={...l[b],value:{[a]:t[0][n.field]}},l[b]={...l[b],key:e[0]},r(l);let i=[...p];i[b]=t[0][n.field],c(i)}else{console.log("selectedRows",t),console.log("selectedRowKeys",e),j(!1);let l=[...s],i=[];t.map(((e,t)=>{"object"===typeof e?i.push(e[n.field]):i.push(e)})),l[b]={...l[b],value:{[a]:[...new Set([...i])]}},l[b]={...l[b],key:e},r(l);let o=[...p];o[b]=[...new Set([...i])],c(o)}},setSelectedRows:O,selectedRows:v,conditions:s,index:b,operatorValue:a,ID:u})]})};const Re=Object(o.b)(_.a)(Ee||(Ee=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100% !important;\n  height: fit-content !important;\n  font-size: 12px !important;\n  overflow: auto;\n  padding: 0 !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ne=n(1247);var Me,Te=e=>{let{operatorValue:t,conditions:n,setConditions:a,setValue:l,value:i,index:o}=e;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ne.a,{style:{width:"100%"},value:i[o],onChange:e=>{let s=[];n.map(((e,t)=>{s.push({...e})})),s[o].value={[t]:e};let d=[...i];d[o]=e,l(d),a(s)}})})},Fe=n(2074),We=n(164),ze=n.n(We);const{RangePicker:qe}=Fe.a;var Be=e=>{var t,n;let{operatorValue:a,disabled:i,conditions:o,setConditions:s,setValue:d,value:r,index:c}=e;return Object(l.useEffect)((()=>{let e=[],t=[];switch(o.map(((e,n)=>{t.push({...e})})),r.map(((t,n)=>{e.push(t)})),a){case"empty":t[c].value={$eq:null},e[c]="",d(e),s(t);break;case"not-empty":t[c].value={$ne:null},e[c]="",d(e),s(t);break;case"not-today":t[c].value={$ne:"today"},e[c]="",d(e),s(t)}}),[a]),"$between"===a?Object(m.jsx)(qe,{value:r[c]?[ze()(r[c][0]),ze()(r[c][1])]:null,onChange:(e,t)=>{let n=[];o.map(((e,t)=>{n.push({...e})})),n[c].value={$gte:t[0],$lte:t[1]};let a=[...r];a[c]=t,d(a),s(n)}}):"$in"===a||"$nin"===a?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(Fe.a,{onChange:(e,t)=>{let n=[];if(o.map(((e,t)=>{n.push({...e})})),"$between"!==a){let e=[...r];e[c]=[...new Set([...e[c],t])];let l=[...new Set([...e[c],t])];n[c].value={[a]:l},d(e),s(n)}},value:null}),Object(m.jsx)("div",{children:null===(t=o[c])||void 0===t||null===(n=t.value[a])||void 0===n?void 0:n.map(((e,t)=>Object(m.jsx)(Le,{style:{display:"block"},closable:!0,onClose:()=>{let t=[];if(o.map(((e,n)=>{t.push({...e})})),"$between"!==a){let n=[...r],l=[...new Set([...n[c]])].filter((t=>t!==e));n[c]=l,t[c].value={[a]:l},d(n),s(t)}},children:e})))})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Fe.a,{disabled:i||"empty"===a||"not-empty"===a||["$inWorkingTimeUCRM","$ninWorkingTimeUCRM","$inWorkingDayUCRM","$ninWorkingDayUCRM"].includes(a),value:r[c]?ze()(r[c]):null,onChange:(e,t)=>{let n=[];if(o.map(((e,t)=>{n.push({...e})})),"$between"!==a){n[c].value={[a]:t};let e=[...r];e[c]=t,d(e),s(n)}}})})};const Le=Object(o.b)(_.a)(Me||(Me=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ue;const{RangePicker:Qe}=Fe.a;var Pe=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:s,index:d,ID:r,init:c}=e;const p=["$inWorkingTimeUCRM","$ninWorkingTimeUCRM","$inWorkingDayUCRM","$ninWorkingDayUCRM"];return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),s.map(((t,n)=>{e.push(t)})),t){case"empty":n[d].value={$eq:null},e[d]="",o(e),i(n);break;case"not-empty":n[d].value={$ne:null},e[d]="",o(e),i(n);break;case"not-today":n[d].value={$ne:"today"},e[d]="",o(e),i(n)}}),[t]),"$between"===t?Object(m.jsx)(Qe,{showTime:!0,allowClear:!1,value:s[d]?[ze()(s[d][0]),ze()(s[d][1])]:null,onChange:(e,t)=>{let n=[];a.map(((e,t)=>{n.push({...e})})),n[d].value={$gte:t[0],$lte:t[1]};let l=[...s];l[d]=t,o(l),i(n)}}):"$in"===t||"$nin"===t?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(Fe.a,{showTime:!0,value:null,onChange:(e,n)=>{let l=[];if(a.map(((e,t)=>{l.push({...e})})),"$between"!==t){let e=[...s];e[d]=[...new Set([...e[d],n])];let a=[...new Set([...e[d],n])];l[d].value={[t]:a},o(e),i(l)}}}),Object(m.jsx)("div",{children:null===(b=a[d])||void 0===b||null===(u=b.value[t])||void 0===u?void 0:u.map(((e,n)=>Object(m.jsx)(Ke,{style:{display:"block"},closable:!0,onClose:()=>{let n=[];if(a.map(((e,t)=>{n.push({...e})})),"$between"!==t){let a=[...s],l=[...new Set([...a[d]])].filter((t=>t!==e));a[d]=l,n[d].value={[t]:l},o(a),i(n)}},children:e})))})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Fe.a,{showTime:!0,allowClear:!1,disabled:n||"empty"===t||"not-empty"===t||p.includes(t),value:"$nin"===t||"$in"===t?null:r&&s[d]&&"string"!==typeof s[d]?s[d]:s[d]&&"object"!==typeof s[d]?ze()(s[d]):null,onChange:(e,n)=>{let l=[];if(a.map(((e,t)=>{l.push({...e})})),"$between"!==t){l[d].value={[t]:n};let e=[...s];e[d]=n,o(e),i(l)}}})});var b,u};const Ke=Object(o.b)(_.a)(Ue||(Ue=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center !important;\n  width: 100% !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ye;var Ge=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:r,index:c}=e;return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),r.map(((t,n)=>{e.push(t)})),t){case"empty":n[c].value={$eq:null},e[c]="",o(e),i(n);break;case"not-empty":n[c].value={$ne:null},e[c]="",o(e),i(n)}}),[t]),"$in"===t||"$nin"===t?Object(m.jsx)(Je,{children:Object(m.jsx)(s.a,{mode:"tags",style:{width:"100%"},value:""===r[c]?[]:r[c],onChange:e=>{let n=[...a],l=[];"$regex"===t?n[c].value={[t]:e.target.value,$options:"i"}:"$not"===t?n[c].value={$not:{$regex:e.target.value,$options:"i"}}:(n.forEach(((e,t)=>{l[t]={...e}})),l[c].value={[t]:e});let s=[...r];s[c]=e,o(s),i(l)},options:[]})}):Object(m.jsx)(Je,{children:Object(m.jsx)(d.a,{disabled:n||"empty"===t||"not-empty"===t,type:"email",value:r[c],maxLength:1e3,onChange:e=>{let n=[...a];n[c].value="$regex"===t?{[t]:e.target.value,$options:"i"}:"$not"===t?{$not:{$regex:e.target.value,$options:"i"}}:{[t]:e.target.value};let l=[...r];l[c]=e.target.value,o(l),i(n)}})})};const Je=o.b.div(Ye||(Ye=Object(a.a)(["\n  .ant-form-item {\n    margin-bottom: 0px;\n  }\n"]))),{Option:Ze}=s.a;var He=e=>{var t;let{operatorValue:n,disabled:a,conditions:i,setConditions:o,setValue:d,value:r,index:c,field:p,dataDetails:b}=e;return Object(l.useEffect)((()=>{let e=[],t=[];switch(i.map(((e,n)=>{t.push({...e})})),r.map(((t,n)=>{e.push(t)})),n){case"empty":t[c].value={$eq:null},e[c]="",d(e),o(t);break;case"not-empty":t[c].value={$ne:null},e[c]="",d(e),o(t)}}),[n]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{showSearch:!0,style:{width:"100%"},mode:"$in"===n||"$nin"===n?"multiple":"",onChange:e=>{let t=[...r];t[c]=e,d(t);let a=[];i.map(((e,t)=>{a.push({...e})})),a[c].value={[n]:e},o(a)},disabled:a||"empty"===n||"not-empty"===n||void 0===n,value:("$in"===n||"$nin"===n)&&""===r[c]?[]:r[c],allowClear:!0,onClear:()=>{let e=[...r];e[c]=null,d(e);let t=[];i.map(((e,n)=>{t.push({...e})})),t[c].value={[n]:null},o(t)},children:null===p||void 0===p||null===(t=p.option)||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Ze,{value:e.value,children:e.label})))})})};const{Option:Xe}=s.a;var et,tt,nt=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:d,index:r,field:c,dataDetails:p}=e;return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),d.map(((t,n)=>{e.push(t)})),t){case"empty":n[r].value={$eq:null},e[r]="",o(e),i(n);break;case"not-empty":n[r].value={$ne:null},e[r]="",o(e),i(n)}}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{showSearch:!0,style:{width:"100%"},onChange:e=>{let n=[...d];n[r]=e,o(n);let l=[];a.map(((e,t)=>{l.push({...e})})),l[r].value={[t]:e},i(l)},disabled:n||"empty"===t||"not-empty"===t,value:d[r],allowClear:!0,onClear:()=>{let e=[...d];e[r]=null,o(e);let n=[];a.map(((e,t)=>{n.push({...e})})),n[r].value={[t]:null},i(n)},children:c&&c.option&&c.option.map(((e,t)=>Object(m.jsx)(Xe,{value:e.value,children:e.label})))})})};const{Text:at}=h.a,{Option:lt,OptGroup:it}=s.a,ot=[{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Less than",value:"$lt"},{label:"Less than or equal",value:"$lte"},{label:"Greater than",value:"$gt"},{label:"Greater than or equal",value:"$gte"}],st=[{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Contains",value:"$regex"},{label:"Not contains",value:"$not"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],dt=[{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],rt=[{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],ct=[{label:"Before",value:"$lt"},{label:"After",value:"$gt"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Between",value:"$between"},{label:"Today",value:"today"},{label:"Not today",value:"not-today"},{label:"Yesterday",value:"yesterday"},{label:"This week",value:"this-week"},{label:"Last week",value:"last-week"},{label:"This month",value:"this-month"},{label:"Last month",value:"last-month"},{label:"This year",value:"this-year"},{label:"In Working Time",value:"$inWorkingTimeUCRM"},{label:"Not In Working Time",value:"$ninWorkingTimeUCRM"},{label:"In Working Day",value:"$inWorkingDayUCRM"},{label:"Not In Working Day",value:"$ninWorkingDayUCRM"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],pt=[{label:"Mine",value:"mine"},{label:"Not mine",value:"not-mine"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}];var bt=e=>{let{condition:t,fields:n,object_name:a,conditions:i,setConditions:o,index:u,operatorValue:h,setOperatorValue:j,setValue:x,value:f,ID:g,dataDetails:v,init:O}=e;const w={padding:"8px 0"},[k,_]=Object(l.useState)(""),[C,I]=Object(l.useState)({});Object(l.useEffect)((()=>{_(t.type),Object.entries(n).forEach(((e,n)=>{let[a,l]=e;l.forEach(((e,n)=>{e.type,t.id_field!==e.ID&&t.id_field!==e.full_field_id||I(e)}))}))}),[g,t,n]);const A=["year","month","date","hour","minute","second","millisecond"];return Object(m.jsx)(ut,{children:Object(m.jsxs)(r.a,{gutter:8,children:[Object(m.jsx)(c.a,{className:"gutter-row",span:7,children:Object(m.jsx)("div",{style:w,children:Object(m.jsx)(s.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{if(t.field){var n,a;if(t.field.related_name)return(null===t||void 0===t||null===(n=t.field)||void 0===n?void 0:n.related_name.toLowerCase().indexOf(e.toLowerCase()))>=0;if(t.field.name)return(null===t||void 0===t||null===(a=t.field)||void 0===a?void 0:a.name.toLowerCase().indexOf(e.toLowerCase()))>=0}},style:{width:"100%"},placeholder:"Please select",onChange:(e,t)=>{var n,a;if(_(t&&t.field.type),t&&"formula"!==t.field.type){_(t.field.type),I(t.field);let n=[...i],a={id_field:e,value:{},type:t.field.type};n[u]={...a};let l=[...h];l[u]=void 0,j(l),o(n);let s=[...f];s[u]="",x(s)}else if(t&&"formula"===t.field.type){let l="";switch(t.field.formula_type){case"dateAdd":case"dateSub":l="datetime-local",_("datetime-local");break;case"add":case"subtract":case"multiply":case"divide":case"mod":case"min":case"max":l="number",_("number");break;case"dateDiff":if(null!==(n=t.field)&&void 0!==n&&n.in_words){l="text",_("text");break}l="number",_("number");break;case"dateToParts":4===t.field.format_weekday||A.includes(null===(a=t.field)||void 0===a?void 0:a.unit)?(l="number",_("number")):(l="select",_("select"));break;default:l="text",_("text")}I(t.field);let s=[...i],d={id_field:e,value:{},type:l};s[u]={...d};let r=[...h];r[u]=void 0,j(r),o(s);let c=[...f];c[u]="",x(c)}},value:i[u].id_field,allowClear:!0,onClear:()=>{_(""),I({});let e=[...i];e[u]={id_field:"",value:{},type:""};let t=[...h];t[u]=void 0,j(t),o(e);let n=[...f];n[u]="",x(n)},children:Object.entries(n).map(((e,t)=>{let[n,l]=e;return"main_object"===n||window.location.pathname.includes("duplicate-rules")?"main_object"===n?Object(m.jsx)(it,{label:"".concat(a," (Main)"),children:l.map(((e,t)=>{if(window.location.pathname.includes("duplicate-rules")){if(("text"===e.type||"number"===e.type||"email"===e.type||"select"===e.type&&!1===e.multiple)&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsxs)(lt,{value:e.ID,field:e,type:e.type,children:[" ",Object(m.jsx)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:e.name})]},e.full_field_id+Math.random()+n+"")}else if(!1===e.hidden&&!1===e.permission_hidden&&"file"!==e.type&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsxs)(lt,{value:e.ID,field:e,type:e.type,children:[" ",Object(m.jsx)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:e.name})]},e.full_field_id+Math.random()+n+"")}))}):null:Object(m.jsx)(it,{label:n,children:l.map(((e,t)=>{if(!1===e.hidden&&!1===e.permission_hidden&&"file"!==e.type&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsx)(lt,{value:e.full_field_id,field:e,type:e.type,children:Object(m.jsxs)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:[n,".",e.name]})},e.full_field_id+Math.random()+"")}))})}))})})}),Object(m.jsx)(c.a,{className:"gutter-row",span:7,children:Object(m.jsx)("div",{style:w,children:Object(m.jsx)(s.a,{showSearch:!0,style:{width:"100%"},placeholder:"Please select",onChange:e=>{let t=[...h];t[u]=e,console.log(t),j(t);let n=[...f];n[u]="",console.log(n),x(n);let a=[...i];a[u]={id_field:a[u].id_field,value:{[e]:""},type:a[u].type},console.log(a),o(a)},onClear:()=>{j("")},disabled:!i[u].id_field,value:h[u],children:(e=>{switch(e){case"number":return ot;case"text":case"id":default:return st;case"linkingobject":case"lookup":return rt;case"date":case"datetime-local":return ct;case"user":return pt;case"select":case"dynamic-field":return dt}})(k).map(((e,t)=>Object(m.jsx)(lt,{value:e.value,disabled:"date"===k&&"In Working Time"===e.label||"date"===k&&"Not In Working Time"===e.label||"text"===k&&"Is one of"===e.label||"text"===k&&"Is not one of"===e.label||"textarea"===k&&"Is one of"===e.label||"textarea"===k&&"Is not one of"===e.label||"id"===k&&"Is one of"===e.label||"id"===k&&"Is not one of"===e.label,children:Object(m.jsx)(at,{ellipsis:{tooltip:e.label},style:{width:"100%"},children:e.label})},t)))})})}),Object(m.jsx)(c.a,{className:"gutter-row",span:7,children:Object(m.jsx)(ht,{style:w,children:h[u]?((e,t)=>{switch(e){case"text":case"id":case"textarea":return Object(m.jsx)(y,{operatorValue:t[u],disabled:!1,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"number":return"formula"===C.type&&null!==C&&void 0!==C&&C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):Object(m.jsx)(Te,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"lookup":case"linkingobject":return Object(m.jsx)(Ve,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"date":switch(t[u]){case"today":case"not-today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":case"$inWorkingTimeUCRM":case"$ninWorkingTimeUCRM":case"$inWorkingDayUCRM":case"$ninWorkingDayUCRM":return Object(m.jsx)(y,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"$between":return Object(m.jsx)(Be,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,init:O,ID:g})}return Object(m.jsx)(Be,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O,style:{width:"100%"}});case"datetime-local":switch(t[u]){case"today":case"not-today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":case"$inWorkingTimeUCRM":case"$ninWorkingTimeUCRM":case"$inWorkingDayUCRM":case"$ninWorkingDayUCRM":return Object(m.jsx)(y,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"$between":return Object(m.jsx)(Pe,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O})}return Object(m.jsx)(Pe,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O});case"user":return Object(m.jsx)(P,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O});case"email":return Object(m.jsx)(Ge,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v});case"select":return"formula"===C.type&&1===C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:"Monday",value:"Monday"},{label:"Tuesday",value:"Tuesday"},{label:"Wednesday",value:"Wednesday"},{label:"Thursday",value:"Thursday"},{label:"Friday",value:"Friday"},{label:"Saturday",value:"Saturday"},{label:"Sunday",value:"Sunday"}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):"formula"===C.type&&2===C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:"Th\u1ee9 2",value:"Th\u1ee9 2"},{label:"Th\u1ee9 3",value:"Th\u1ee9 3"},{label:"Th\u1ee9 4",value:"Th\u1ee9 4"},{label:"Th\u1ee9 5",value:"Th\u1ee9 5"},{label:"Th\u1ee9 6",value:"Th\u1ee9 6"},{label:"Th\u1ee9 7",value:"Th\u1ee9 7"},{label:"Ch\u1ee7 Nh\u1eadt",value:"Ch\u1ee7 Nh\u1eadt"}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):"formula"===C.type&&3===C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:"Mon",value:"Mon"},{label:"Tue",value:"Tue"},{label:"Wed",value:"Wed"},{label:"Thu",value:"Thu"},{label:"Fri",value:"Fri"},{label:"Sat",value:"Sat"},{label:"Sun",value:"Sun"}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):Object(m.jsx)(He,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"dynamic-field":return Object(m.jsx)(nt,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});default:return Object(m.jsx)(d.a,{disabled:!0})}})(k,h):Object(m.jsx)(d.a,{disabled:!0})})}),Object(m.jsx)(c.a,{className:"gutter-row",span:3,children:Object(m.jsx)("div",{style:w,children:Object(m.jsx)(p.a,{className:"delete-btn",style:{display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>{let e=[...i];e.splice(u,1);let t=[...h];t.splice(u,1);let n=[...f];n.splice(u,1),j(t),o(e),x(n)},children:Object(m.jsx)("img",{alt:"",src:b.a,style:{width:"20px"}})})})})]})})};const ut=o.b.div(et||(et=Object(a.a)(["\n  padding-left: 19px;\n  padding-right: 19px;\n  .delete-btn {\n    :hover {\n      border-color: ",";\n    }\n  }\n"])),(e=>e.theme.main)),ht=o.b.div(tt||(tt=Object(a.a)(["\n  .ant-picker {\n    width: 100%;\n  }\n\n  .ant-select {\n    width: 100%;\n  }\n\n  .ant-input {\n    width: 100%;\n  }\n\n  .ant-input-number {\n    width: 100%;\n  }\n"])));var mt,jt,xt;n(13);const ft=e=>{let{title:t,decs:n,conditions:a,setConditions:o,ID:s,dataDetails:d,operatorValue:r,setOperatorValue:c,value:p,setValue:b,background:u,conditionData:h}=e;const{listObjectField:j}=Object(i.d)((e=>e.objectsReducer)),[x,f]=Object(l.useState)({}),[g,v]=Object(l.useState)(!1);return Object(l.useEffect)((()=>{0===a.length&&(c([]),b([]))}),[a]),Object(l.useEffect)((()=>{let e=[],t=[];s&&void 0!==h&&(h.map(((n,a)=>{if(Object.keys(n).length>0)if(1===Object.keys(n&&n.value).length){let l=Object.keys(n.value);"$eq"!==l[0]&&"$ne"!==l[0]?e[a]=l[0]:"$eq"!==l[0]&&"$ne"!==l[0]||(null===n.value.$eq?e[a]="empty":null===n.value.$ne?e[a]="not-empty":"mine"===n.value.$eq?e[a]="mine":"mine"===n.value.$ne?e[a]="not-mine":"today"===n.value.$ne?e[a]="not-today":"today"===n.value[l[0]]||"yesterday"===n.value[l[0]]||"this-week"===n.value[l[0]]||"last-week"===n.value[l[0]]||"this-month"===n.value[l[0]]||"last-month"===n.value[l[0]]||"this-year"===n.value[l[0]]?e[a]=n.value[l[0]]:e[a]=void 0===l[0]?"":l[0]),"datetime"!==n.type&&"datetime-local"!==n.type||("today"===n.value[l[0]]||"yesterday"===n.value[l[0]]||"this-week"===n.value[l[0]]||"last-week"===n.value[l[0]]||"this-month"===n.value[l[0]]||"last-month"===n.value[l[0]]||"this-year"===n.value[l[0]]?t[a]=null:n.value[l[0]]?t[a]=ze()(n.value[l[0]]):t[a]=null),"user"===n.type?"$not"===l[0]?t[a]=n.value[l[0]].$regex:"$nin"!==l[0]&&"$in"!==l[0]?t[a]=n.value[l[0]]:I.a.post(A.b+"user/load-list-user",{user_ids:n.value[l[0]]},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{let n=[];e.data.data.map(((e,t)=>(n.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null))),t[a]=[...n]})).catch((e=>console.log(e))):"$not"===l[0]?t[a]=n.value[l[0]].$regex:"mine"===e[a]||"not-mine"===e[a]?t[a]=null:t[a]=n.value[l[0]]}else if(Object.keys(n&&n.value).length>1){let l=Object.keys(n.value);"$gte"===l[0]&&"$lte"===l[1]?e[a]="$between":e[a]=l[0],"$gte"===l[0]&&"$lte"===l[1]?t[a]=[ze()(n.value[l[0]]),ze()(n.value[l[1]])]:t[a]=n.value[l[0]]}})),b(t),c(e),v(!0))}),[s,h]),Object(l.useEffect)((()=>{if(j.length>0){let e={};j.map(((t,n)=>{j.length-1===n?(e.main_object=[],t.main_object.sections.map(((t,n)=>{t.fields.map(((t,n)=>{e.main_object.push(t)}))}))):Object.entries(t).forEach(((n,a)=>{let[l,i]=n;return e[t[l].object_name]=[],t[l].sections.forEach(((n,a)=>n.fields.forEach(((n,a)=>{(!1===n.hidden&&!1===n.permission_hidden||void 0===n.permission_hidden)&&e[t[l].object_name].push(n)}))))}))})),f(e)}else f({})}),[j]),Object(m.jsxs)(vt,{style:{background:u},children:[Object(m.jsxs)(Ot,{className:"conditions__title",children:[t," ",Object(m.jsx)("span",{children:n})]}),Object.keys(x).length>0&&Object(m.jsx)(m.Fragment,{children:a.map(((e,t)=>Object(m.jsx)(bt,{condition:e,conditions:a,setConditions:o,fields:x,index:t,object_name:j.length>0&&j[j.length-1].main_object.object_name,operatorValue:r,setOperatorValue:c,value:p,setValue:b,ID:s,dataDetails:d,init:g},t)))}),a.length<20?Object(m.jsx)(yt,{onClick:()=>{let e=[...a];e.push({}),o(e)},type:"button",children:"+ Add condition"}):""]})};var gt=ft;ft.defaultProps={background:"transparent"};const vt=o.b.div(mt||(mt=Object(a.a)(["\n  min-height: 50px;\n  border: 1px solid #d9d9d9;\n  box-sizing: border-box;\n  border-radius: 5px;\n  /* .ant-select:not(.ant-select-customize-input)  */\n  .ant-select-selector {\n    border: 1px solid #d9d9d9 !important;\n    box-sizing: border-box;\n    border-radius: 2px !important;\n  }\n"]))),Ot=o.b.div(jt||(jt=Object(a.a)(["\n  font-style: normal;\n  font-family: var(--roboto-700);\n  font-size: 16px;\n  line-height: 22px;\n  /* identical to box height, or 137% */\n\n  display: flex;\n  align-items: center;\n\n  color: #2c2c2c;\n  margin-top: -13px;\n  background-color: #fff;\n  width: fit-content;\n  margin-left: 22px;\n  padding-left: 8px;\n  padding-right: 8px;\n  span {\n    font-family: var(--roboto-400);\n    margin-left: 10px;\n  }\n"]))),yt=o.b.button(xt||(xt=Object(a.a)(["\n  border: none;\n  background-color: #fff;\n  font-family: var(--roboto-400);\n  font-size: 16px;\n  line-height: 22px;\n  /* identical to box height, or 137% */\n\n  text-align: center;\n  text-decoration-line: underline;\n\n  /* Primary/6 */\n\n  color: ",";\n  margin-left: 30px;\n  margin-top: 8px;\n  margin-bottom: 16px;\n  :hover {\n    cursor: pointer;\n    color: ","!important;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker));var wt;const kt=e=>{let{title:t,decs:n,conditions:a,setConditions:l,ID:i,dataDetails:o,operatorValue:s,setOperatorValue:d,value:r,setValue:c,background:p,conditionData:b}=e;return Object(m.jsx)(_t,{className:"required",children:Object(m.jsx)(gt,{dataDetails:o,title:t,decs:n,conditions:a,setConditions:l,ID:i,operatorValue:s,setOperatorValue:d,value:r,setValue:c,background:p,conditionData:b})})};t.a=kt;kt.defaultProps={background:"transparent",conditionData:[]};const _t=o.b.div(wt||(wt=Object(a.a)(["\n  margin-bottom: 16px;\n  position: relative;\n"])))},1292:function(e,t,n){"use strict";t.a=n.p+"static/media/EmptyObject.65d3750d.webp"},1427:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return r}));var a=n(6),l=n.n(a),i=n(5),o=n(164),s=n.n(o);const d=(e,t,n)=>{let a=!1;return t.length===e.length?t.forEach((e=>{void 0===e&&(a=!0)})):a=!0,n.forEach(((e,n)=>{(""===e&&"empty"!==t[n]&&"not-empty"!==t[n]&&"mine"!==t[n]&&"not-mine"!==t[n]&&"today"!==t[n]&&"yesterday"!==t[n]&&"this-week"!==t[n]&&"last-week"!==t[n]&&"this-month"!==t[n]&&"last-month"!==t[n]&&"this-year"!==t[n]&&"$inWorkingTimeUCRM"!==t[n]&&"$ninWorkingTimeUCRM"!==t[n]&&"$inWorkingDayUCRM"!==t[n]&&"$ninWorkingDayUCRM"!==t[n]&&"$nin"===t[n]&&0===(null===e||void 0===e?void 0:e.length)||"$in"===t[n]&&0===(null===e||void 0===e?void 0:e.length))&&(a=!0),void 0===e&&(a=!0)})),a},r=(e,t,n)=>(e.forEach(((e,a)=>{if(Object.keys(e).length>0)if(1===Object.keys(e&&e.value).length){let o=Object.keys(e.value);"$eq"!==o[0]&&"$ne"!==o[0]?t[a]=o[0]:"$eq"!==o[0]&&"$ne"!==o[0]||(null===e.value.$eq?t[a]="empty":null===e.value.$ne?t[a]="not-empty":"mine"===e.value.$eq?t[a]="mine":"mine"===e.value.$ne?t[a]="not-mine":"today"===e.value.$ne?t[a]="not-today":"today"===e.value[o[0]]||"yesterday"===e.value[o[0]]||"this-week"===e.value[o[0]]||"last-week"===e.value[o[0]]||"this-month"===e.value[o[0]]||"last-month"===e.value[o[0]]||"this-year"===e.value[o[0]]?t[a]=e.value[o[0]]:t[a]=void 0===o[0]?"":o[0]),"datetime"!==e.type&&"datetime-local"!==e.type||("today"===e.value[o[0]]||"yesterday"===e.value[o[0]]||"this-week"===e.value[o[0]]||"last-week"===e.value[o[0]]||"this-month"===e.value[o[0]]||"last-month"===e.value[o[0]]||"this-year"===e.value[o[0]]?n[a]=null:e.value[o[0]]?n[a]=s()(e.value[o[0]]):n[a]=null),"user"===e.type?"$not"===o[0]?n[a]=e.value[o[0]].$regex:"$nin"!==o[0]&&"$in"!==o[0]?n[a]=e.value[o[0]]:l.a.post(i.b+"user/load-list-user",{user_ids:e.value[o[0]]},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{let t=[];e.data.data.map(((e,n)=>(t.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null))),n[a]=[...t]})).catch((e=>console.log(e))):"$not"===o[0]?n[a]=e.value[o[0]].$regex:"mine"===t[a]||"not-mine"===t[a]?n[a]=null:n[a]=e.value[o[0]]}else if(Object.keys(e&&e.value).length>1){let l=Object.keys(e.value);"$gte"===l[0]&&"$lte"===l[1]?t[a]="$between":t[a]=l[0],"$gte"===l[0]&&"$lte"===l[1]?n[a]=[s()(e.value[l[0]]),s()(e.value[l[1]])]:n[a]=e.value[l[0]]}})),{valueArray:n,operatorVal:t})},1655:function(e,t,n){"use strict";var a=n(21),l=n(0),i=n(39),o=n(16),s=n(317),d=n(708),r=n(1244),c=n(1245),p=n(148),b=n(1265),u=n(484),h=n.n(u),m=n(2);var j,x,f,g,v,O,y=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:s,index:r,dataDetails:c}=e;return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),s.map(((t,n)=>{e.push(t)})),t){case"empty":n[r].value={$eq:null},e[r]="",o(e),i(n);break;case"not-empty":n[r].value={$ne:null},e[r]="",o(e),i(n);break;case"not-today":n[r].value={$ne:"today"},e[r]="",o(e),i(n);break;case"today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":n[r].value={$eq:t},e[r]="",o(e),i(n);break;case"$inWorkingTimeUCRM":n[r].value={$inWorkingTimeUCRM:""},e[r]="",o(e),i(n);break;case"$ninWorkingTimeUCRM":n[r].value={$ninWorkingTimeUCRM:""},e[r]="",o(e),i(n);break;case"$inWorkingDayUCRM":n[r].value={$inWorkingDayUCRM:""},e[r]="",o(e),i(n);break;case"$ninWorkingDayUCRM":n[r].value={$ninWorkingDayUCRM:""},e[r]="",o(e),i(n)}}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.a,{disabled:n||"empty"===t||"not-empty"===t,value:"today"===s[r]?"":s[r],maxLength:1e3,onChange:e=>{let n=[];a.map(((e,t)=>{n.push({...e})})),n[r].value="$regex"===t?{[t]:e.target.value,$options:"i"}:"$not"===t?{$not:{$regex:e.target.value,$options:"i"}}:{[t]:e.target.value};let l=[...s];l[r]=e.target.value,o(l),i(n)}})})},w=n(281),k=n(1361),_=n(1618),C=n(6),I=n.n(C),A=n(5),D=n(14),S=n(711),$=n(1348),E=n(284),V=n(389),R=n(546),N=n(1278),M=n.n(N);var T=e=>{const{visible:t,setVisible:n,selectedRowKeys:a,setSelectedRowKeys:i,searchData:o,selectedRows:s,setSelectedRows:r,setSearchData:c,reloadData:p,handleSelect:b,users:u,conditions:h,index:j,ID:x,operatorValue:f}=e,[g,v]=Object(l.useState)([]),[O,y]=Object(l.useState)(10),[k,_]=Object(l.useState)(1);Object(l.useEffect)((()=>{let e=[];u&&u.records&&u.records.map(((t,n)=>{let a={...t};a.key=t._id,e.push(a)})),v(e)}),[u]);const C=(e,t)=>({filterDropdown:n=>{let{setSelectedKeys:a,selectedKeys:l,confirm:i,clearFilters:o}=n;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(d.a,{placeholder:"Search ".concat(e),value:l[0],onChange:e=>a(e.target.value?[e.target.value]:[]),onPressEnter:()=>T(l,i,e,t),style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(S.b,{children:[Object(m.jsx)(B,{type:"primary",onClick:()=>T(l,i,e,t),icon:Object(m.jsx)(w.a,{}),size:"small",style:{width:90},children:"Search"}),Object(m.jsx)(L,{onClick:()=>U(o),size:"small",style:{width:90},children:"Reset"}),Object(m.jsx)(L,{type:"link",size:"small",onClick:()=>{i({closeDropdown:!1})},children:"Filter"})]})]})},filterIcon:e=>Object(m.jsx)(w.a,{style:{color:e?"#1890ff":void 0}}),render:t=>R===e?Object(m.jsx)(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[A],autoEscape:!0,textToHighlight:t?t.toString():""}):t}),I=[{title:"First name",dataIndex:"First_Name",key:"First_Name",width:"maxContent",editable:!0,...C("First_Name",o)},{title:"Middle name",dataIndex:"Middle_Name",key:"Middle_Name",width:"maxContent",editable:!0,...C("Middle_Name",o)},{title:"Last name",dataIndex:"Last_Name",key:"Last_Name",width:"maxContent",editable:!0,...C("Last_Name",o)},{title:"Email",dataIndex:"Email",key:"Email",width:"maxContent",editable:!0,...C("Email",o)},{title:"Report to",dataIndex:"Report_To_Name",key:"Report_To_Name",width:"maxContent",editable:!0,...C("Report_To_Name",o)},{title:"User role",dataIndex:"User_Role_Name",key:"Report_To_Name",width:"maxContent",editable:!0,...C("User_Role_Name",o)},{title:"Is admin",dataIndex:"Is_Admin",key:"Is_Admin",width:"maxContent",editable:!0,...C("Is_Admin",o),render:e=>Object(m.jsx)("div",{children:e?"Yes":"No"})},{title:"Created by",dataIndex:"Created_By_Name",key:"Created_By_Name",width:"maxContent",editable:!0,...C("Created_By_Name",o)},{title:"Created date",dataIndex:"Created_Date",key:"Created_Date",width:"maxContent",editable:!0,...C("Created_Date",o)},{title:"Modified by",dataIndex:"Modify_By_Name",key:"Modify_By_Name",width:"maxContent",editable:!0,...C("Modify_By_Name",o)},{title:"Modify time",dataIndex:"Modify_Time",key:"Modify_Time",width:"maxContent",editable:!0,...C("Modify_Time",o)}],[A,D]=Object(l.useState)(""),[R,N]=Object(l.useState)(""),T=(e,t,n,a)=>{t();let l={...a};l[n]=e[0],c(l),p(k,O,l),D(e[0]),N(n)},U=e=>{e(),D("")};return Object(l.useEffect)((()=>{x&&i((e=>h[j].key?[h[j].key]:e))}),[x,h,j,i]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)($.a,{title:"User list",placement:"right",onClose:()=>{n(!1)},visible:t,width:1e3,children:Object(m.jsxs)(z,{children:[Object(m.jsx)(q,{children:Object(m.jsxs)("table",{children:[Object(m.jsxs)("thead",{className:"table-header",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),I.map(((e,t)=>Object(m.jsx)("th",{children:e.title})))]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),I.map(((e,t)=>Object(m.jsx)("th",{children:Object(m.jsx)(d.a,{onChange:t=>{let n={...o};n[e.dataIndex]=t.target.value,c(n)},value:o[e.dataIndex]||null,onPressEnter:()=>{p(k,O,o)}})})))]})]}),Object(m.jsx)("tbody",{className:"table-body",children:g.map(((e,t)=>Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"$nin"===f||"$in"===f?Object(m.jsx)(E.a,{checked:a.findIndex((t=>t===e._id))>=0,onChange:t=>{if((null===a||void 0===a?void 0:a.findIndex((t=>t===e._id)))>=0){let t=[...a];t=t.filter((t=>t!==e._id)),i(t);let n=[...s];n=n.filter((t=>t._id!==e._id)),r(n)}else{let t=[...a];t.push(e._id),i(t);let n=[...s];n.push(e),r(n)}}}):Object(m.jsx)(V.a,{checked:a[0]===e._id,onChange:()=>{i([e._id]),r([e])}})}),I.map(((t,n)=>Object(m.jsx)("td",{children:e[t.dataIndex]})))]})))})]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(W,{showQuickJumper:!0,current:k,total:u.total_record,showSizeChanger:!0,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," records"),pageSize:O,onChange:(e,t)=>{p(e,t,o),_(e),y(t)}}),Object(m.jsxs)(F,{children:[Object(m.jsx)(B,{onClick:()=>{b(a,s)},disabled:!a[0],children:"Save"}),Object(m.jsxs)(L,{onClick:()=>n(!1),children:[" ","Cancel"]})]})]})]})})})};const F=o.b.div(j||(j=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 826px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n"]))),W=Object(o.b)(R.a)(x||(x=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 16px;\n  width: 976px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n  .ant-pagination-item-active {\n    border-color: #0ab2ab;\n    a {\n      color: #0ab2ab;\n    }\n  }\n  .ant-pagination-item:hover {\n    border-color: #0ab2ab;\n    a {\n      color: #0ab2ab;\n    }\n  }\n"]))),z=o.b.div(f||(f=Object(a.a)(["\n  table {\n    width: max-content;\n    th {\n      width: max-content;\n      .ant-table-column-title {\n        margin-right: 30px;\n      }\n    }\n  }\n  padding-bottom: 100px;\n"]))),q=o.b.div(g||(g=Object(a.a)(["\n  width: 100%;\n  /* height: calc(100% - 187px); */\n  height: 100%;\n\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  background: #fff;\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: calc(100vh - 180px);\n  &::-webkit-scrollbar {\n    height: 8px !important;\n  }\n\n  table {\n    /* width: 100%; */\n    min-width: 100%;\n    width: max-content;\n    table-layout: auto;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 3;\n    }\n    .table-header th {\n      text-align: left;\n\n      box-shadow: inset 1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n        inset 0px -1px 0px #d9d9d9;\n\n      overflow: hidden;\n      resize: horizontal;\n      background: #f0f0f0;\n      min-width: 32px;\n      white-space: nowrap;\n      padding: 8px;\n      font-size: 16px;\n      &:first-child {\n        border-left: none;\n        /* text-align: center; */\n        width: 32px;\n        max-width: 32px;\n        resize: none;\n        position: sticky;\n        z-index: 4;\n        left: 0;\n        box-shadow: inset -1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n\n      &:nth-child(2) {\n        box-shadow: inset 0px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n      /* \n      &:last-child {\n        position: sticky;\n        z-index: 4;\n        right: 0;\n        border-right: none;\n        resize: none;\n        width: 122px;\n        max-width: 122px;\n\n        .hidden__component {\n          display: none;\n        }\n      } */\n    }\n\n    .table-body td {\n      border-bottom: 1px solid #ddd;\n      padding: 16px;\n\n      max-width: 200px;\n\n      &:first-child {\n        /* border-left: 1px solid #ddd; */\n        width: 32px;\n        max-width: 32px;\n        padding: 0;\n        text-align: center;\n        position: sticky;\n        z-index: 2;\n        left: 0;\n\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n        .ant-radio-wrapper {\n          margin-right: 0px;\n        }\n\n        .ant-radio-checked::after,\n        .ant-radio-checked .ant-radio-inner {\n          border-color: ",";\n        }\n      }\n\n      /* &:last-child {\n        border-right: 1px solid #ddd;\n        position: sticky;\n        z-index: 2;\n        right: 0;\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n      } */\n    }\n  }\n"])),(e=>e.theme.main)),B=Object(o.b)(p.a)(v||(v=Object(a.a)(["\n  /* width: 80px; */\n  background-color: ",";\n  color: #fff;\n  /* font-size: 16px; */\n  background-color: ",";\n  color: #fff;\n  border-color: ",";\n  margin-right: 16px;\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: #fff;\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),L=Object(o.b)(p.a)(O||(O=Object(a.a)(["\n  /* font-size: 16px; */\n  background-color: #fff;\n  /* width: 80px; */\n  color: #000;\n\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    color: ",";\n    border-color: ",";\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.darker));var U,Q=n(7);var P=e=>{var t;let{operatorValue:n,field:a,conditions:o,setConditions:s,setValue:r,value:c,disabled:p,index:b,ID:u}=e;const[h,j]=Object(l.useState)(!1),[x,f]=Object(l.useState)([]),[g,v]=Object(l.useState)([]),[O,y]=Object(l.useState)(""),[_,C]=Object(l.useState)({}),S=Object(i.c)(),{users:$}=Object(i.d)((e=>e.objectsReducer));Object(l.useEffect)((()=>{!0===h&&S(Object(D.Tb)({current_page:1,record_per_page:10}))}),[h]),Object(l.useEffect)((()=>{y(""),f([])}),[n]),Object(l.useEffect)((()=>{Object(Q.a)()&&(o[b].key&&"$nin"!==n&&"$in"!==n?I.a.post(A.b+"user/get-user-details",{_id:o[b].key},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{let t=e.data.data.Full_Name;y(t),j(!1);let n=[...c];n[b]=t,r(n)})).catch((e=>console.log(e))):"user"!==o[b].type||"$nin"!==n&&"$in"!==n||I.a.post(A.b+"user/load-list-user",{user_ids:o[b].key},{headers:{Authorization:localStorage.getItem("setting_accessToken")}}).then((e=>{f(o[b].key),v(e.data.data),j(!1);let t=[];e.data.data.map(((e,n)=>(t.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null)));let n=[...c];n[b]=t,r(n)})).catch((e=>console.log(e))))}),[u,o,Q.a]);return Object(l.useEffect)((()=>{let e=[],t=[];switch(o.map(((e,n)=>{t.push({...e})})),c.map(((t,n)=>{e.push(t)})),n){case"empty":t[b].value={$eq:null},e[b]="",r(e),s(t);break;case"not-empty":t[b].value={$ne:null},e[b]="",r(e),s(t);break;case"mine":t[b].value={$eq:"mine"},e[b]="",r(e),s(t);break;case"not-mine":t[b].value={$ne:"mine"},e[b]="",r(e),s(t)}}),[n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{disabled:p||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n,addonAfter:Object(m.jsx)(m.Fragment,{children:p||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n?Object(m.jsx)(w.a,{style:{pointerEvents:"none"}}):Object(m.jsx)(w.a,{onClick:()=>{j(!0)}})}),addonBefore:p||"empty"===n||"not-empty"===n||"mine"===n||"not-mine"===n?"":O?Object(m.jsx)(k.a,{onClick:()=>{y("");let e=[...o],t=[];e.forEach(((e,n)=>{t[n]={...e}})),t[b].value={[n]:""},t[b].key="",s(t);let a=[...c];a[b]="",r(a)}}):"",value:O}),"$nin"===n||"$in"===n?"object"===typeof c[b]&&(null===(t=c[b])||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(K,{closable:!0,onClose:()=>{let t,a=[...o],l=[...c];a[b]={...a[b],value:{...a[b].value,[n]:c[b].filter(((n,a)=>(n===e&&(t=e),n!==e)))}};let i="object"===typeof a[b].key?a[b].key:[],d=[],p=[];i.forEach(((e,n)=>{g.forEach(((n,a)=>{n._id===e&&t!=="".concat(n.First_Name," ").concat(n.Middle_Name," ").concat(n.Last_Name)&&(d.push(e),p.push(n))}))})),a[b]={...a[b],key:d,value:{[n]:d}},v(p),f(d),s(a),l[b]=c[b].filter((t=>t!==e)),r(l)},children:e})))):"",Object(m.jsx)(T,{visible:h,setVisible:j,users:$,selectedRowKeys:x,setSelectedRowKeys:f,reloadData:(e,t,n)=>{S(Object(D.Tb)({current_page:e,record_per_page:t,search_data:n}))},handleSelect:(e,t)=>{if("$nin"!==n&&"$in"!==n){let a="".concat(t[0].First_Name," ").concat(t[0].Middle_Name," ").concat(t[0].Last_Name);y(a),j(!1);let l=[...o],i=[];l.forEach(((e,t)=>{i[t]={...e}})),i[b].value={[n]:e[0]},i[b].key=e[0],s(i);let d=[...c];d[b]=a,r(d)}else{j(!1);let a=[...o],l=[];t.map(((e,t)=>(l.push("".concat(e.First_Name," ").concat(e.Middle_Name," ").concat(e.Last_Name)),null))),a[b]={...a[b],value:{...a[b].value,[n]:e}},a[b]={...a[b],key:e},s(a);let i=[...c];i[b]=[...new Set([...l])],r(i)}},selectedRows:g,setSelectedRows:v,searchData:_,setSearchData:C,conditions:o,index:b,ID:u,operatorValue:n})]})};const K=Object(o.b)(_.a)(U||(U=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Y,G,J,Z,H,X,ee,te,ne,ae,le,ie,oe,se=n(717),de=n(718),re=n(1253),ce=n(545),pe=n(1284),be=n(1272),ue=n(1273),he=n(1274),me=n(480);const{Text:je}=re.a,{Option:xe}=s.a;var fe=e=>{const{visible:t,setVisible:n,field:a,selectedRowKeys:o,setSelectedRowKeys:s,handleSelect:r,setSelectedRows:c,selectedRows:p,operatorValue:u,ID:h}=e,{t:j}=Object(me.a)(),[x]=Object(l.useState)(50),[f,g]=Object(l.useState)(1),[v,O]=Object(l.useState)({}),[y,k]=Object(l.useState)(""),[_,C]=Object(l.useState)(""),[,I]=Object(l.useState)(null),[,A]=Object(l.useState)(null),[R,N]=Object(l.useState)(1),[T,F]=Object(l.useState)(1),W=Object(i.c)(),{headerLinking:z,dataLinking:q,isLoadingDataLinking:B,isLoadingPagi:L,totalRecord:U}=Object(i.d)((e=>e.objectsReducer)),[,Q]=Object(l.useState)([]),[,P]=Object(l.useState)([]),[K,Y]=Object(l.useState)([]),[G,J]=Object(l.useState)([]),[Z,H]=Object(l.useState)({}),[X,ee]=Object(l.useState)([]),{defaultBrandName:te}=Object(i.d)((e=>e.brandNameReducer));Object(l.useEffect)((()=>{let e=[...z];Y(e)}),[z]),Object(l.useEffect)((()=>{let e=[];q.forEach((t=>{let n={};n._id=t._id,K.forEach((e=>{let a=0;Object.entries(t).forEach((t=>{let[l,i]=t;e.ID===l&&(a=1,n[l]="object"===typeof i&&null!==i?i.value:i)})),0===a&&(n[e.ID]=null)})),e.push(n)})),ee(e)}),[q,K]),Object(l.useEffect)((()=>{let e=[];q.map(((t,n)=>{let a={};a.key=t._id,Object.entries(t).forEach(((e,t)=>{let[n,l]=e;a[n]="object"===typeof l&&null!==l?l.value:l})),e.push(a)})),Q(e)}),[q]),Object(l.useEffect)((()=>{let e=[];z.map(((t,n)=>{let a={title:t.name,dataIndex:t.ID,key:t.ID,width:"maxContent",editable:!0,type:t.type,...ae(t.ID,n,t.name,v,t.type)};e.push(a)})),e.push({title:"Action",key:"action",fixed:"right",render:()=>Object(m.jsxs)(S.b,{size:"middle",children:[Object(m.jsx)("a",{href:!0,children:Object(m.jsx)("img",{alt:"",src:pe.a,style:{width:"20px"}})}),Object(m.jsx)("a",{className:"ant-dropdown-link",href:!0,children:Object(m.jsx)("img",{alt:"",src:b.a,style:{width:"20px"}})})]})}),P(e)}),[z,v]);const ne=e=>{let t={};return q.forEach((n=>{n._id===e&&Object.entries(n).forEach((e=>{let[n,a]=e;t[n]=null!==a&&"object"===typeof a?a.value:a}))})),t},ae=(e,t,n,a,l)=>({filterDropdown:t=>{let{setSelectedKeys:a,selectedKeys:l,confirm:i,clearFilters:o}=t;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(d.a,{placeholder:"Search ".concat(n),value:l[0],onChange:e=>{a(e.target.value?[e.target.value]:[])},onPressEnter:()=>{le(l,i,e)},style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(S.b,{children:[Object(m.jsx)(Oe,{type:"primary",onClick:()=>{le(l,i,e)},icon:Object(m.jsx)(w.a,{}),size:"small",style:{width:90},children:"Search"}),Object(m.jsx)(ye,{onClick:()=>ie(o),size:"small",style:{width:90},children:"Reset"}),Object(m.jsx)(ye,{type:"link",size:"small",onClick:()=>{i({closeDropdown:!1}),k(l[0]),C(e)},children:"Filter"})]})]})},filterIcon:e=>Object(m.jsx)(w.a,{style:{color:e?"#1890ff":void 0}}),render:function(t){const n=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]+)?/gi);return t&&"object"===typeof t?t.map(((a,l)=>{if(null!==a&&a.match(n)){let e=a.split("/");return Object(m.jsx)("a",{style:{display:"block"},href:!0,children:e[e.length-1]})}return _===e?Object(m.jsx)(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t})):_===e?Object(m.jsx)(M.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}),le=(e,t,n)=>{t();let a={...v};a[n]=e[0],O(a);let l=[];Object.entries(a).forEach(((e,t)=>{let[n,a]=e;if(a){let e={id_field:n,value:a};l.push(e)}})),oe(l,f,x),k(e[0]),C(n)},ie=e=>{e(),k("")},oe=(e,t,n,l)=>{W(Object(D.Q)({object_id:a.objectname,first_record_id:t,last_record_id:n,search_with:{meta:[],data:e}})),W(Object(D.Ab)({total_page:null,total_record:null}))},re=e=>{oe(G,f,x,e)},fe=(e,t)=>{let n=[...G];if(t){let a=0;n.forEach(((l,i)=>{l.id_field===e&&(a=1,n[i].value=t)})),0===a&&n.push({id_field:e,value:t})}else n.forEach(((t,a)=>{t.id_field===e&&n.splice(a,1)}));J(n),oe(n,f,x,Z)},Ee=e=>{const t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]+)?/gi);if(e)return e.map(((e,n)=>{if(null!==e&&e.match(t)){let t=e.split("/");return Object(m.jsx)("a",{style:{display:"block"},href:e,target:"_blank",rel:"noreferrer",children:t[t.length-1]},n)}}))};function Ve(e,t){return 0===e?"0":(e=e.toFixed(0===(null===t||void 0===t?void 0:t.decimal_separator)?0:(null===t||void 0===t?void 0:t.decimal_separator)||3)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return Object(l.useEffect)((()=>{N(X.length===x?f*x:(f-1)*x+X.length)}),[X]),Object(l.useEffect)((()=>{F(f*x-x+1)}),[f]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)($.a,{title:"Linking list",placement:"right",onClose:()=>{n(!1),s([])},visible:t,width:1e3,children:Object(m.jsxs)(ve,{children:[Object(m.jsxs)($e,{children:[Object(m.jsx)(m.Fragment,{children:B?Object(m.jsx)(ce.a,{}):Object(m.jsxs)("div",{className:"total-record",children:[0===R?0:T," - ",R," ",L?Object(m.jsx)(ce.a,{style:{marginLeft:"10px"}}):null===U?Object(m.jsx)("div",{className:"reload-pagi",onClick:()=>{let e=[...G],t=[],n=[];e.forEach((e=>{"created_date"===e.id_field||"created_by"===e.id_field||"modify_time"===e.id_field||"owner"===e.id_field||"modify_by"===e.id_field?t.push(e):n.push(e)})),W(Object(D.wb)({current_page:1,record_per_page:50,object_id:a.objectname,search_with:{meta:t,data:n}}))},children:Object(m.jsx)("img",{alt:"",src:he.a})}):"of ".concat(U||0," records")]})}),Object(m.jsx)("div",{className:"left-pagi",style:{pointerEvents:"".concat(1===f?"none":""),cursor:"".concat(1===f?"not-allowed":"pointer"),opacity:"".concat(1===f?.5:1)},onClick:()=>{A(X.length>0?X[X.length-1]._id:null);let e=f;e-=1,g(e),I(X.length>0?X[0]._id:null),oe(G,X.length>0?X[0]._id:null,null,Z)},children:Object(m.jsx)("img",{alt:"",src:be.a})}),Object(m.jsx)("div",{className:"right-pagi",style:{pointerEvents:"".concat(X.length<x?"none":""),cursor:"".concat(X.length<x?"not-allowed":"pointer"),opacity:"".concat(X.length<x?.5:1)},onClick:()=>{A(X.length>0?X[X.length-1]._id:null);let e=f;e+=1,g(e),I(X.length>0?X[0]._id:null),oe(G,null,X.length>0?X[X.length-1]._id:null,Z)},children:Object(m.jsx)("img",{alt:"",src:ue.a})})]}),Object(m.jsx)(we,{children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{className:"table-header",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),K.map(((e,t)=>{var n,a;return Object(m.jsx)("th",{children:Object(m.jsxs)(ke,{children:[Object(m.jsxs)(Ie,{children:[Object(m.jsx)("span",{children:e.name}),Object(m.jsxs)(De,{className:"hidden__component",children:[Object(m.jsx)(se.a,{style:{color:"".concat(1===Z[e.ID]?te.theme_color:"rgba(0, 0, 0, 0.25)")},onClick:()=>{let t={...Z};1===t[e.ID]?delete t[e.ID]:t[e.ID]=1,re(t),H(t)}}),Object(m.jsx)(de.a,{style:{color:"".concat(-1===Z[e.ID]?te.theme_color:"rgba(0, 0, 0, 0.25)")},onClick:()=>{let t={...Z};-1===t[e.ID]?delete t[e.ID]:t[e.ID]=-1,re(t),H(t)}})]})]}),Object(m.jsx)(Ae,{className:"hidden__component",children:"select"!==e.type?Object(m.jsx)(_e,{value:(null===(n=G.find((t=>t.id_field===e.ID)))||void 0===n?void 0:n.value)||"",onChange:t=>{((e,t)=>{let n=[...G];if(t){let a=0;n.forEach(((l,i)=>{l.id_field===e&&(a=1,n[i].value=t)})),0===a&&n.push({id_field:e,value:t})}else n.forEach(((t,a)=>{t.id_field===e&&n.splice(a,1)}));t||oe(n,f,x,Z),W(Object(D.Ab)({total_page:null,total_record:null})),J(n)})(e.ID,t.target.value)},allowClear:!0,onPressEnter:t=>{fe(e.ID,t.target.value)},placeholder:"".concat(j("common.search")," ").concat(e.name)}):Object(m.jsx)(Ce,{value:(null===(a=G.find((t=>t.id_field===e.ID)))||void 0===a?void 0:a.value)||void 0,showSearch:!0,allowClear:!0,placeholder:"Search ".concat(e.name),onChange:t=>{fe(e.ID,t)},style:{marginBottom:8,display:"block"},children:e&&e.option&&e.option.map(((e,t)=>Object(m.jsx)(xe,{value:e.label,children:e.label},t)))})})]})},t)}))]})}),Object(m.jsx)("tbody",{className:"table-body",children:X.map(((e,t)=>Object(m.jsxs)("tr",{children:[Object(m.jsx)(Se,{check:o[0]===e._id,children:"$nin"===u||"$in"===u?Object(m.jsx)(E.a,{checked:o.findIndex((t=>t===e._id))>=0,disabled:""===e[a.field]||null===e[a.field],onChange:t=>{if((null===o||void 0===o?void 0:o.findIndex((t=>t===e._id)))>=0){let t=[...o];if(t=t.filter((t=>t!==e._id)),s(t),h){let t=[...p];t=t.filter((t=>t!==ne(e._id)[a.field])),console.log("Delete",t),c(t)}else{let t=[...p];t=t.filter((t=>t._id!==ne(e._id)._id)),console.log("Delete",t),c(t)}}else{let t=[...o];t.push(e._id),s(t);let n=[...p];n.push(ne(e._id)),c(n)}}}):Object(m.jsx)(V.a,{checked:o[0]===e._id,onChange:()=>{s([e._id]),c([ne(e._id)])}})}),K.map((n=>Object.entries(e).map((a=>{let[l,i]=a;if(n.ID===l)return Object(m.jsx)(Se,{style:{textAlign:"".concat("number"===n.type||"formula"===n.type&&"advanceExpression"===n.formula_type?"right":"left")},check:o[0]===e._id,children:"object"===typeof i?Object(m.jsx)(je,{ellipsis:{tooltip:i},children:Ee(i)}):Object(m.jsx)(je,{ellipsis:{tooltip:i},children:"number"===n.type||"formula"===n.type&&"advanceExpression"===n.formula_type?Ve(i,n):i})},t)}))))]},t)))})]})}),Object(m.jsx)("div",{children:o.length>0?Object(m.jsxs)(ge,{children:[Object(m.jsx)(Oe,{onClick:()=>{r(o,p)},children:"Save"}),Object(m.jsx)(ye,{onClick:()=>{n(!1)},children:"Cancel"})]}):""})]})})})};const ge=o.b.div(Y||(Y=Object(a.a)(["\n  position: fixed;\n  bottom: -8px;\n  right: 826px;\n  text-align: right;\n  background-color: #fff;\n  height: 100px;\n  padding-top: 16px;\n  z-index: 3;\n"]))),ve=o.b.div(G||(G=Object(a.a)(["\n  table {\n    width: max-content;\n    th {\n      width: max-content;\n      .ant-table-column-title {\n        margin-right: 30px;\n      }\n    }\n  }\n  padding-bottom: 100px;\n"]))),Oe=Object(o.b)(p.a)(J||(J=Object(a.a)(["\n  /* width: 80px; */\n  background-color: ",";\n  color: #fff;\n  /* font-size: 16px; */\n  background-color: ",";\n  color: #fff;\n  border-color: ",";\n  margin-right: 16px;\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: #fff;\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker)),ye=Object(o.b)(p.a)(Z||(Z=Object(a.a)(["\n  /* font-size: 16px; */\n  background-color: #fff;\n  /* width: 80px; */\n  color: #000;\n\n  /* img {\n    width: 15px;\n    margin-right: 8px;\n  } */\n  &:hover {\n    color: ",";\n    border-color: ",";\n    /* box-shadow: 0px 0px 16px rgba(62, 62, 62, 0.42);\n    transition: 0.5s; */\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.darker)),we=o.b.div(H||(H=Object(a.a)(["\n  width: 100%;\n  /* height: calc(100% - 187px); */\n  height: 100%;\n\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  background: #fff;\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: calc(100vh - 180px);\n  &::-webkit-scrollbar {\n    height: 8px !important;\n  }\n\n  table {\n    /* width: 100%; */\n    min-width: 100%;\n    width: max-content;\n    table-layout: auto;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 3;\n    }\n    .table-header th {\n      text-align: left;\n\n      box-shadow: inset 1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n        inset 0px -1px 0px #d9d9d9;\n\n      overflow: hidden;\n      resize: horizontal;\n      background: #f0f0f0;\n      min-width: 32px;\n      white-space: nowrap;\n\n      &:first-child {\n        border-left: none;\n        /* text-align: center; */\n        width: 32px;\n        max-width: 32px;\n        resize: none;\n        position: sticky;\n        z-index: 4;\n        left: 0;\n        box-shadow: inset -1px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n\n      &:nth-child(2) {\n        box-shadow: inset 0px 0px 0px #d9d9d9, inset 0px 1px 0px #d9d9d9,\n          inset 0px -1px 0px #d9d9d9;\n      }\n      /* \n      &:last-child {\n        position: sticky;\n        z-index: 4;\n        right: 0;\n        border-right: none;\n        resize: none;\n        width: 122px;\n        max-width: 122px;\n\n        .hidden__component {\n          display: none;\n        }\n      } */\n    }\n\n    .table-body td {\n      border-bottom: 1px solid #ddd;\n      padding: 16px;\n\n      max-width: 200px;\n\n      &:first-child {\n        /* border-left: 1px solid #ddd; */\n        width: 32px;\n        max-width: 32px;\n        padding: 0;\n        text-align: center;\n        position: sticky;\n        z-index: 2;\n        left: 0;\n\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n        .ant-radio-wrapper {\n          margin-right: 0px;\n        }\n\n        .ant-radio-checked::after,\n        .ant-radio-checked .ant-radio-inner {\n          border-color: ",";\n        }\n      }\n\n      /* &:last-child {\n        border-right: 1px solid #ddd;\n        position: sticky;\n        z-index: 2;\n        right: 0;\n        filter: drop-shadow(-3px 3px 8px rgba(0, 0, 0, 0.15));\n      } */\n    }\n  }\n"])),(e=>e.theme.main)),ke=o.b.div(X||(X=Object(a.a)(["\n  /* border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd; */\n"]))),_e=Object(o.b)(d.a)(ee||(ee=Object(a.a)(["\n  border-radius: 5px;\n  &:hover,\n  &:focus {\n    border-color: ",";\n    box-shadow: none;\n  }\n"])),(e=>e.theme.main)),Ce=Object(o.b)(s.a)(te||(te=Object(a.a)(["\n  margin-bottom: 0px !important;\n\n  .ant-select-selection-placeholder {\n    font-weight: normal;\n  }\n\n  .ant-select-selector {\n    border-radius: 5px !important;\n  }\n"]))),Ie=o.b.div(ne||(ne=Object(a.a)(["\n  padding: 8px;\n  display: flex;\n\n  span {\n    font-family: var(--roboto-500);\n    font-size: 16px;\n    color: #252424;\n    font-weight: normal;\n  }\n"]))),Ae=o.b.div(ae||(ae=Object(a.a)(["\n  border-top: 1px solid #ddd;\n  padding: 8px;\n"]))),De=o.b.div(le||(le=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 6px;\n\n  .anticon svg {\n    font-size: 12px;\n    /* color: rgba(0, 0, 0, 0.25); */\n    cursor: pointer;\n    transition: all 0.5s;\n  }\n"]))),Se=o.b.td(ie||(ie=Object(a.a)(["\n  background: ",";\n"])),(e=>e.check?"#e6f7ff":"#fff")),$e=o.b.div(oe||(oe=Object(a.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  background-color: white;\n  padding: 10px;\n  position: absolute;\n  top: 0;\n  right: 7px;\n  .ant-spin-dot-item {\n    background-color: ",";\n  }\n  .total-record {\n    font-family: var(--roboto-400);\n    font-size: 16px;\n    line-height: 16px;\n    letter-spacing: 0.01em;\n    color: #637381;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .reload-pagi {\n    img {\n      width: 15px;\n    }\n    margin-right: 8px;\n    margin-left: 8px;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n  .left-pagi {\n    img {\n      width: 7px;\n    }\n    margin-right: 8px;\n    margin-left: 8px;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n  .right-pagi {\n    img {\n      width: 7px;\n    }\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    :hover {\n      background-color: #e9e9e9;\n      border-radius: 50%;\n      cursor: pointer;\n    }\n  }\n"])),(e=>e.theme.main));var Ee;var Ve=e=>{var t;let{field:n,operatorValue:a,disabled:o,conditions:s,setConditions:r,setValue:c,value:p,index:b,ID:u}=e;const[h,j]=Object(l.useState)(!1),[x,f]=Object(l.useState)([]),g=Object(i.c)(),[v,O]=Object(l.useState)([]);Object(l.useEffect)((()=>{s[b].key&&"$nin"!==a&&"$in"!==a?f([s[b].key]):"object"===typeof s[b].key&&u&&(f(s[b].key),O(p[b]))}),[s,b]),Object(l.useEffect)((()=>{!0===h&&(g(Object(D.lb)({object_id:n.objectname})),g(Object(D.Q)({object_id:n.objectname,first_record_id:null,last_record_id:null,search_with:{meta:[],data:[]},filter:[]})),g(Object(D.zb)({object_id:n.objectname,current_page:1,record_per_page:10,search_with:{meta:[],data:[]},filter:[]})))}),[g,h]);return Object(l.useEffect)((()=>{let e=[],t=[];switch(s.map(((e,n)=>{t.push({...e})})),p.map(((t,n)=>{e.push(t)})),a){case"empty":t[b].value={$eq:null},e[b]="",c(e),r(t);break;case"not-empty":t[b].value={$ne:null},e[b]="",c(e),r(t)}}),[a]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{disabled:o||"empty"===a||"not-empty"===a,addonAfter:Object(m.jsx)(m.Fragment,{children:o||"empty"===a||"not-empty"===a||"mine"===a||"not-mine"===a?Object(m.jsx)(w.a,{style:{pointerEvents:"none"}}):Object(m.jsx)(w.a,{onClick:()=>{j(!0)}})}),addonBefore:o||"empty"===a||"not-empty"===a||"mine"===a||"not-mine"===a||"$nin"===a||"$in"===a?"":p[b]?Object(m.jsx)(k.a,{onClick:()=>{let e=[...s],t=[];e.forEach(((e,n)=>{t[n]={...e}})),t[b].value={[a]:""},t[b].key="",r(t);let n=[...p];n[b]=null,c(n)}}):"",value:"$nin"===a||"$in"===a?"":p[b]}),"$nin"===a||"$in"===a?"object"===typeof p[b]&&(null===(t=p[b])||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Re,{closable:!0,onClose:()=>{let t,n=[...s],l=[...p];n[b]={...n[b],value:{[a]:p[b].filter(((n,a)=>(n===e&&(t=a),n!==e)))}};let i="object"===typeof n[b].key?n[b].key:[];i=i.filter(((e,n)=>n!==t)),n[b]={...n[b],key:i},r(n),l[b]=p[b].filter((t=>t!==e)),c(l)},children:e})))):"",Object(m.jsx)(fe,{visible:h,setVisible:j,field:n,selectedRowKeys:x,setSelectedRowKeys:f,handleSelect:(e,t)=>{if("$nin"!==a&&"$in"!==a){j(!1);let l=[...s];l[b]={...l[b],value:{[a]:t[0][n.field]}},l[b]={...l[b],key:e[0]},r(l);let i=[...p];i[b]=t[0][n.field],c(i)}else{console.log("selectedRows",t),console.log("selectedRowKeys",e),j(!1);let l=[...s],i=[];t.map(((e,t)=>{"object"===typeof e?i.push(e[n.field]):i.push(e)})),l[b]={...l[b],value:{[a]:[...new Set([...i])]}},l[b]={...l[b],key:e},r(l);let o=[...p];o[b]=[...new Set([...i])],c(o)}},setSelectedRows:O,selectedRows:v,conditions:s,index:b,operatorValue:a,ID:u})]})};const Re=Object(o.b)(_.a)(Ee||(Ee=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  overflow: auto;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ne=n(1247);var Me,Te=e=>{let{operatorValue:t,conditions:n,setConditions:a,setValue:l,value:i,index:o}=e;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ne.a,{style:{width:"100%"},value:i[o],onChange:e=>{let s=[];n.map(((e,t)=>{s.push({...e})})),s[o].value={[t]:e};let d=[...i];d[o]=e,l(d),a(s)}})})},Fe=n(2074),We=n(164),ze=n.n(We);const{RangePicker:qe}=Fe.a;var Be=e=>{var t,n;let{operatorValue:a,disabled:i,conditions:o,setConditions:s,setValue:d,value:r,index:c}=e;return Object(l.useEffect)((()=>{let e=[],t=[];switch(o.map(((e,n)=>{t.push({...e})})),r.map(((t,n)=>{e.push(t)})),a){case"empty":t[c].value={$eq:null},e[c]="",d(e),s(t);break;case"not-empty":t[c].value={$ne:null},e[c]="",d(e),s(t);break;case"not-today":t[c].value={$ne:"today"},e[c]="",d(e),s(t)}}),[a]),"$between"===a?Object(m.jsx)(qe,{value:r[c]?[ze()(r[c][0]),ze()(r[c][1])]:null,onChange:(e,t)=>{let n=[];o.map(((e,t)=>{n.push({...e})})),n[c].value={$gte:t[0],$lte:t[1]};let a=[...r];a[c]=t,d(a),s(n)}}):"$in"===a||"$nin"===a?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(Fe.a,{onChange:(e,t)=>{let n=[];if(o.map(((e,t)=>{n.push({...e})})),"$between"!==a){let e=[...r];e[c]=[...new Set([...e[c],t])];let l=[...new Set([...e[c],t])];n[c].value={[a]:l},d(e),s(n)}},value:null}),Object(m.jsx)("div",{children:null===(t=o[c])||void 0===t||null===(n=t.value[a])||void 0===n?void 0:n.map(((e,t)=>Object(m.jsx)(Le,{style:{display:"block"},closable:!0,onClose:()=>{let t=[];if(o.map(((e,n)=>{t.push({...e})})),"$between"!==a){let n=[...r],l=[...new Set([...n[c]])].filter((t=>t!==e));n[c]=l,t[c].value={[a]:l},d(n),s(t)}},children:e})))})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Fe.a,{disabled:i||"empty"===a||"not-empty"===a||["$inWorkingTimeUCRM","$ninWorkingTimeUCRM","$inWorkingDayUCRM","$ninWorkingDayUCRM"].includes(a),value:r[c]?ze()(r[c]):null,onChange:(e,t)=>{let n=[];if(o.map(((e,t)=>{n.push({...e})})),"$between"!==a){n[c].value={[a]:t};let e=[...r];e[c]=t,d(e),s(n)}}})})};const Le=Object(o.b)(_.a)(Me||(Me=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ue;const{RangePicker:Qe}=Fe.a;var Pe=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:s,index:d,ID:r,init:c}=e;const p=["$inWorkingTimeUCRM","$ninWorkingTimeUCRM","$inWorkingDayUCRM","$ninWorkingDayUCRM"];return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),s.map(((t,n)=>{e.push(t)})),t){case"empty":n[d].value={$eq:null},e[d]="",o(e),i(n);break;case"not-empty":n[d].value={$ne:null},e[d]="",o(e),i(n);break;case"not-today":n[d].value={$ne:"today"},e[d]="",o(e),i(n)}}),[t]),"$between"===t?Object(m.jsx)(Qe,{showTime:!0,allowClear:!1,value:s[d]?[ze()(s[d][0]),ze()(s[d][1])]:null,onChange:(e,t)=>{let n=[];a.map(((e,t)=>{n.push({...e})})),n[d].value={$gte:t[0],$lte:t[1]};let l=[...s];l[d]=t,o(l),i(n)}}):"$in"===t||"$nin"===t?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(Fe.a,{showTime:!0,value:null,onChange:(e,n)=>{let l=[];if(a.map(((e,t)=>{l.push({...e})})),"$between"!==t){let e=[...s];e[d]=[...new Set([...e[d],n])];let a=[...new Set([...e[d],n])];l[d].value={[t]:a},o(e),i(l)}}}),Object(m.jsx)("div",{children:null===(b=a[d])||void 0===b||null===(u=b.value[t])||void 0===u?void 0:u.map(((e,n)=>Object(m.jsx)(Ke,{style:{display:"block"},closable:!0,onClose:()=>{let n=[];if(a.map(((e,t)=>{n.push({...e})})),"$between"!==t){let a=[...s],l=[...new Set([...a[d]])].filter((t=>t!==e));a[d]=l,n[d].value={[t]:l},o(a),i(n)}},children:e})))})]})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Fe.a,{showTime:!0,allowClear:!1,disabled:n||"empty"===t||"not-empty"===t||p.includes(t),value:"$nin"===t||"$in"===t?null:r&&s[d]&&"string"!==typeof s[d]?s[d]:s[d]&&"object"!==typeof s[d]?ze()(s[d]):null,onChange:(e,n)=>{let l=[];if(a.map(((e,t)=>{l.push({...e})})),"$between"!==t){l[d].value={[t]:n};let e=[...s];e[d]=n,o(e),i(l)}}})});var b,u};const Ke=Object(o.b)(_.a)(Ue||(Ue=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n  text-align: center !important;\n  width: 100% !important;\n  .ant-tag {\n    padding: 20px;\n  }\n"])));var Ye;var Ge=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:r,index:c}=e;return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),r.map(((t,n)=>{e.push(t)})),t){case"empty":n[c].value={$eq:null},e[c]="",o(e),i(n);break;case"not-empty":n[c].value={$ne:null},e[c]="",o(e),i(n)}}),[t]),"$in"===t||"$nin"===t?Object(m.jsx)(Je,{children:Object(m.jsx)(s.a,{mode:"tags",style:{width:"100%"},value:""===r[c]?[]:r[c],onChange:e=>{let n=[...a],l=[];"$regex"===t?n[c].value={[t]:e.target.value,$options:"i"}:"$not"===t?n[c].value={$not:{$regex:e.target.value,$options:"i"}}:(n.forEach(((e,t)=>{l[t]={...e}})),l[c].value={[t]:e});let s=[...r];s[c]=e,o(s),i(l)},options:[]})}):Object(m.jsx)(Je,{children:Object(m.jsx)(d.a,{disabled:n||"empty"===t||"not-empty"===t,type:"email",value:r[c],maxLength:1e3,onChange:e=>{let n=[...a];n[c].value="$regex"===t?{[t]:e.target.value,$options:"i"}:"$not"===t?{$not:{$regex:e.target.value,$options:"i"}}:{[t]:e.target.value};let l=[...r];l[c]=e.target.value,o(l),i(n)}})})};const Je=o.b.div(Ye||(Ye=Object(a.a)(["\n  .ant-form-item {\n    margin-bottom: 0px;\n  }\n"]))),{Option:Ze}=s.a;var He=e=>{var t;let{operatorValue:n,disabled:a,conditions:i,setConditions:o,setValue:d,value:r,index:c,field:p,dataDetails:b}=e;return Object(l.useEffect)((()=>{let e=[],t=[];switch(i.map(((e,n)=>{t.push({...e})})),r.map(((t,n)=>{e.push(t)})),n){case"empty":t[c].value={$eq:null},e[c]="",d(e),o(t);break;case"not-empty":t[c].value={$ne:null},e[c]="",d(e),o(t)}}),[n]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{showSearch:!0,style:{width:"100%"},mode:"$in"===n||"$nin"===n?"multiple":"",onChange:e=>{let t=[...r];t[c]=e,d(t);let a=[];i.map(((e,t)=>{a.push({...e})})),a[c].value={[n]:e},o(a)},disabled:a||"empty"===n||"not-empty"===n||void 0===n,value:("$in"===n||"$nin"===n)&&""===r[c]?[]:r[c],allowClear:!0,onClear:()=>{let e=[...r];e[c]=null,d(e);let t=[];i.map(((e,n)=>{t.push({...e})})),t[c].value={[n]:null},o(t)},children:null===p||void 0===p||null===(t=p.option)||void 0===t?void 0:t.map(((e,t)=>Object(m.jsx)(Ze,{value:e.value,children:e.label})))})})};const{Option:Xe}=s.a;var et,tt,nt=e=>{let{operatorValue:t,disabled:n,conditions:a,setConditions:i,setValue:o,value:d,index:r,field:c,dataDetails:p}=e;return Object(l.useEffect)((()=>{let e=[],n=[];switch(a.map(((e,t)=>{n.push({...e})})),d.map(((t,n)=>{e.push(t)})),t){case"empty":n[r].value={$eq:null},e[r]="",o(e),i(n);break;case"not-empty":n[r].value={$ne:null},e[r]="",o(e),i(n)}}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{showSearch:!0,style:{width:"100%"},onChange:e=>{let n=[...d];n[r]=e,o(n);let l=[];a.map(((e,t)=>{l.push({...e})})),l[r].value={[t]:e},i(l)},disabled:n||"empty"===t||"not-empty"===t,value:d[r],allowClear:!0,onClear:()=>{let e=[...d];e[r]=null,o(e);let n=[];a.map(((e,t)=>{n.push({...e})})),n[r].value={[t]:null},i(n)},children:c&&c.option&&c.option.map(((e,t)=>Object(m.jsx)(Xe,{value:e.value,children:e.label})))})})};const{Text:at}=h.a,{Option:lt,OptGroup:it}=s.a,ot=[{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Less than",value:"$lt"},{label:"Less than or equal",value:"$lte"},{label:"Greater than",value:"$gt"},{label:"Greater than or equal",value:"$gte"}],st=[{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Contains",value:"$regex"},{label:"Not contains",value:"$not"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],dt=[{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],rt=[{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],ct=[{label:"Before",value:"$lt"},{label:"After",value:"$gt"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Between",value:"$between"},{label:"Today",value:"today"},{label:"Not today",value:"not-today"},{label:"Yesterday",value:"yesterday"},{label:"This week",value:"this-week"},{label:"Last week",value:"last-week"},{label:"This month",value:"this-month"},{label:"Last month",value:"last-month"},{label:"This year",value:"this-year"},{label:"In Working Time",value:"$inWorkingTimeUCRM"},{label:"Not In Working Time",value:"$ninWorkingTimeUCRM"},{label:"In Working Day",value:"$inWorkingDayUCRM"},{label:"Not In Working Day",value:"$ninWorkingDayUCRM"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}],pt=[{label:"Mine",value:"mine"},{label:"Not mine",value:"not-mine"},{label:"Is empty",value:"empty"},{label:"Is not empty",value:"not-empty"},{label:"Equals",value:"$eq"},{label:"Not equals",value:"$ne"},{label:"Is one of",value:"$in"},{label:"Is not one of",value:"$nin"}];var bt=e=>{let{condition:t,fields:n,object_name:a,conditions:i,setConditions:o,index:u,operatorValue:h,setOperatorValue:j,setValue:x,value:f,ID:g,dataDetails:v,init:O}=e;const w={padding:"8px 0"},[k,_]=Object(l.useState)(""),[C,I]=Object(l.useState)({});Object(l.useEffect)((()=>{_(t.type),Object.entries(n).forEach(((e,n)=>{let[a,l]=e;l.forEach(((e,n)=>{e.type,t.id_field!==e.ID&&t.id_field!==e.full_field_id||I(e)}))}))}),[g,t,n]);const A=["year","month","date","hour","minute","second","millisecond"];return Object(m.jsx)(ut,{children:Object(m.jsxs)(r.a,{gutter:8,children:[Object(m.jsx)(c.a,{className:"gutter-row",span:7,children:Object(m.jsx)("div",{style:w,children:Object(m.jsx)(s.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{if(t.field){var n,a;if(t.field.related_name)return(null===t||void 0===t||null===(n=t.field)||void 0===n?void 0:n.related_name.toLowerCase().indexOf(e.toLowerCase()))>=0;if(t.field.name)return(null===t||void 0===t||null===(a=t.field)||void 0===a?void 0:a.name.toLowerCase().indexOf(e.toLowerCase()))>=0}},style:{width:"100%"},placeholder:"Please select",onChange:(e,t)=>{var n,a;if(_(t&&t.field.type),t&&"formula"!==t.field.type){_(t.field.type),I(t.field);let n=[...i],a={id_field:e,value:{},type:t.field.type};n[u]={...a};let l=[...h];l[u]=void 0,j(l),o(n);let s=[...f];s[u]="",x(s)}else if(t&&"formula"===t.field.type){let l="";switch(t.field.formula_type){case"dateAdd":case"dateSub":l="datetime-local",_("datetime-local");break;case"add":case"subtract":case"multiply":case"divide":case"mod":case"min":case"max":l="number",_("number");break;case"dateDiff":if(null!==(n=t.field)&&void 0!==n&&n.in_words){l="text",_("text");break}l="number",_("number");break;case"dateToParts":4===t.field.format_weekday||A.includes(null===(a=t.field)||void 0===a?void 0:a.unit)?(l="number",_("number")):(l="select",_("select"));break;default:l="text",_("text")}I(t.field);let s=[...i],d={id_field:e,value:{},type:l};s[u]={...d};let r=[...h];r[u]=void 0,j(r),o(s);let c=[...f];c[u]="",x(c)}},value:i[u].id_field,allowClear:!0,onClear:()=>{_(""),I({});let e=[...i];e[u]={id_field:"",value:{},type:""};let t=[...h];t[u]=void 0,j(t),o(e);let n=[...f];n[u]="",x(n)},children:Object.entries(n).map(((e,t)=>{let[n,l]=e;return"main_object"===n||window.location.pathname.includes("duplicate-rules")?"main_object"===n?Object(m.jsx)(it,{label:"".concat(a," (Main)"),children:l.map(((e,t)=>{if(window.location.pathname.includes("duplicate-rules")){if(("text"===e.type||"number"===e.type||"email"===e.type||"select"===e.type&&!1===e.multiple)&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsxs)(lt,{value:e.ID,field:e,type:e.type,children:[" ",Object(m.jsx)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:e.name})]},e.full_field_id+Math.random()+n+"")}else if(!1===e.hidden&&!1===e.permission_hidden&&"file"!==e.type&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsxs)(lt,{value:e.ID,field:e,type:e.type,children:[" ",Object(m.jsx)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:e.name})]},e.full_field_id+Math.random()+n+"")}))}):null:Object(m.jsx)(it,{label:n,children:l.map(((e,t)=>{if(!1===e.hidden&&!1===e.permission_hidden&&"file"!==e.type&&!0!==(null===e||void 0===e?void 0:e.encrypted))return Object(m.jsx)(lt,{value:e.full_field_id,field:e,type:e.type,children:Object(m.jsxs)(at,{ellipsis:{tooltip:e.name},style:{width:"100%"},children:[n,".",e.name]})},e.full_field_id+Math.random()+"")}))})}))})})}),Object(m.jsx)(c.a,{className:"gutter-row",span:7,children:Object(m.jsx)("div",{style:w,children:Object(m.jsx)(s.a,{showSearch:!0,style:{width:"100%"},placeholder:"Please select",onChange:e=>{let t=[...h];t[u]=e,console.log(t),j(t);let n=[...f];n[u]="",console.log(n),x(n);let a=[...i];a[u]={id_field:a[u].id_field,value:{[e]:""},type:a[u].type},console.log(a),o(a)},onClear:()=>{j("")},disabled:!i[u].id_field,value:h[u],children:(e=>{switch(e){case"number":return ot;case"text":case"id":default:return st;case"linkingobject":case"lookup":return rt;case"date":case"datetime-local":return ct;case"user":return pt;case"select":case"dynamic-field":return dt}})(k).map(((e,t)=>Object(m.jsx)(lt,{value:e.value,disabled:"date"===k&&"In Working Time"===e.label||"date"===k&&"Not In Working Time"===e.label||"text"===k&&"Is one of"===e.label||"text"===k&&"Is not one of"===e.label||"textarea"===k&&"Is one of"===e.label||"textarea"===k&&"Is not one of"===e.label||"id"===k&&"Is one of"===e.label||"id"===k&&"Is not one of"===e.label,children:Object(m.jsx)(at,{ellipsis:{tooltip:e.label},style:{width:"100%"},children:e.label})},t)))})})}),Object(m.jsx)(c.a,{className:"gutter-row",span:7,children:Object(m.jsx)(ht,{style:w,children:h[u]?((e,t)=>{switch(e){case"text":case"id":case"textarea":return Object(m.jsx)(y,{operatorValue:t[u],disabled:!1,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"number":return"formula"===C.type&&null!==C&&void 0!==C&&C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):Object(m.jsx)(Te,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"lookup":case"linkingobject":return Object(m.jsx)(Ve,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"date":switch(t[u]){case"today":case"not-today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":case"$inWorkingTimeUCRM":case"$ninWorkingTimeUCRM":case"$inWorkingDayUCRM":case"$ninWorkingDayUCRM":return Object(m.jsx)(y,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"$between":return Object(m.jsx)(Be,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,init:O,ID:g})}return Object(m.jsx)(Be,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O,style:{width:"100%"}});case"datetime-local":switch(t[u]){case"today":case"not-today":case"yesterday":case"this-week":case"last-week":case"this-month":case"last-month":case"this-year":case"$inWorkingTimeUCRM":case"$ninWorkingTimeUCRM":case"$inWorkingDayUCRM":case"$ninWorkingDayUCRM":return Object(m.jsx)(y,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"$between":return Object(m.jsx)(Pe,{operatorValue:t[u],disabled:!0,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O})}return Object(m.jsx)(Pe,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O});case"user":return Object(m.jsx)(P,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g,init:O});case"email":return Object(m.jsx)(Ge,{operatorValue:t[u],conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v});case"select":return"formula"===C.type&&1===C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:"Monday",value:"Monday"},{label:"Tuesday",value:"Tuesday"},{label:"Wednesday",value:"Wednesday"},{label:"Thursday",value:"Thursday"},{label:"Friday",value:"Friday"},{label:"Saturday",value:"Saturday"},{label:"Sunday",value:"Sunday"}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):"formula"===C.type&&2===C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:"Th\u1ee9 2",value:"Th\u1ee9 2"},{label:"Th\u1ee9 3",value:"Th\u1ee9 3"},{label:"Th\u1ee9 4",value:"Th\u1ee9 4"},{label:"Th\u1ee9 5",value:"Th\u1ee9 5"},{label:"Th\u1ee9 6",value:"Th\u1ee9 6"},{label:"Th\u1ee9 7",value:"Th\u1ee9 7"},{label:"Ch\u1ee7 Nh\u1eadt",value:"Ch\u1ee7 Nh\u1eadt"}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):"formula"===C.type&&3===C.format_weekday?Object(m.jsx)(He,{operatorValue:t[u],field:{...C,option:[{label:"Mon",value:"Mon"},{label:"Tue",value:"Tue"},{label:"Wed",value:"Wed"},{label:"Thu",value:"Thu"},{label:"Fri",value:"Fri"},{label:"Sat",value:"Sat"},{label:"Sun",value:"Sun"}]},conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g}):Object(m.jsx)(He,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});case"dynamic-field":return Object(m.jsx)(nt,{operatorValue:t[u],field:C,conditions:i,setConditions:o,setValue:x,value:f,index:u,dataDetails:v,ID:g});default:return Object(m.jsx)(d.a,{disabled:!0})}})(k,h):Object(m.jsx)(d.a,{disabled:!0})})}),Object(m.jsx)(c.a,{className:"gutter-row",span:3,children:Object(m.jsx)("div",{style:w,children:Object(m.jsx)(p.a,{className:"delete-btn",style:{display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>{let e=[...i];e.splice(u,1);let t=[...h];t.splice(u,1);let n=[...f];n.splice(u,1),j(t),o(e),x(n)},children:Object(m.jsx)("img",{alt:"",src:b.a,style:{width:"20px"}})})})})]})})};const ut=o.b.div(et||(et=Object(a.a)(["\n  padding-left: 19px;\n  padding-right: 19px;\n  .delete-btn {\n    :hover {\n      border-color: ",";\n    }\n  }\n"])),(e=>e.theme.main)),ht=o.b.div(tt||(tt=Object(a.a)(["\n  .ant-picker {\n    width: 100%;\n  }\n\n  .ant-select {\n    width: 100%;\n  }\n\n  .ant-input {\n    width: 100%;\n  }\n\n  .ant-input-number {\n    width: 100%;\n  }\n"])));var mt,jt,xt;const ft=e=>{let{title:t,decs:n,conditions:a,setConditions:o,ID:s,dataDetails:d,operatorValue:r,setOperatorValue:c,value:p,setValue:b,background:u}=e;const{listObjectField:h}=Object(i.d)((e=>e.objectsReducer)),[j,x]=Object(l.useState)({}),[f]=Object(l.useState)(!1);return Object(l.useEffect)((()=>{a.length}),[a]),Object(l.useEffect)((()=>{if(h.length>0){let e={};h.map(((t,n)=>{h.length-1===n?(e.main_object=[],t.main_object.sections.map(((t,n)=>{t.fields.map(((t,n)=>{e.main_object.push(t)}))}))):Object.entries(t).forEach(((n,a)=>{let[l,i]=n;return e[t[l].object_name]=[],t[l].sections.forEach(((n,a)=>n.fields.forEach(((n,a)=>{(!1===n.hidden&&!1===n.permission_hidden||void 0===n.permission_hidden)&&e[t[l].object_name].push(n)}))))}))})),x(e)}else x({})}),[h]),Object(m.jsxs)(vt,{style:{background:u},children:[Object(m.jsx)(Ot,{className:"conditions__title",children:t}),Object.keys(j).length>0&&Object(m.jsx)(m.Fragment,{children:a.map(((e,t)=>Object(m.jsx)(bt,{condition:e,conditions:a,setConditions:o,fields:j,index:t,object_name:h.length>0&&h[h.length-1].main_object.object_name,operatorValue:r,setOperatorValue:c,value:p,setValue:b,ID:s,dataDetails:d,init:f},t)))}),a.length<20?Object(m.jsx)(yt,{onClick:()=>{let e=[...a];e.push({}),o(e)},type:"button",children:"+ Add condition"}):""]})};var gt=ft;ft.defaultProps={background:"#F9FAFB"};const vt=o.b.div(mt||(mt=Object(a.a)(["\n  min-height: 50px;\n  border: 1px solid #dfe3e8;\n  box-sizing: border-box;\n  border-radius: 5px;\n  background: #f9fafb;\n  /* .ant-select:not(.ant-select-customize-input)  */\n  .ant-select-selector {\n    border: 1px solid #d9d9d9 !important;\n    box-sizing: border-box;\n    border-radius: 2px !important;\n  }\n"]))),Ot=o.b.div(jt||(jt=Object(a.a)(["\n  font-style: normal;\n  font-family: var(--roboto-700);\n  font-size: 12px;\n  line-height: 22px;\n  /* identical to box height, or 137% */\n\n  display: flex;\n  align-items: center;\n\n  color: #016eff;\n  margin-top: -13px;\n  background-color: #d1e4ff;\n  border-radius: 6px;\n  width: fit-content;\n  margin-left: 22px;\n  padding-left: 8px;\n  padding-right: 8px;\n  span {\n    font-family: var(--roboto-400);\n    margin-left: 10px;\n  }\n"]))),yt=o.b.button(xt||(xt=Object(a.a)(["\n  border: none;\n  /* background-color: #fff; */\n  background: #f9fafb;\n  font-family: var(--roboto-400);\n  font-size: 16px;\n  line-height: 22px;\n  /* identical to box height, or 137% */\n\n  text-align: center;\n  text-decoration-line: underline;\n\n  /* Primary/6 */\n\n  color: ",";\n  padding: 0;\n  margin-left: 19px;\n  margin-top: 8px;\n  margin-bottom: 16px;\n  :hover {\n    cursor: pointer;\n    color: ","!important;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker));var wt;const kt=e=>{let{title:t,decs:n,conditions:a,setConditions:l,ID:i,dataDetails:o,operatorValue:s,setOperatorValue:d,value:r,setValue:c,background:p}=e;return Object(m.jsx)(Ct,{className:"required",children:Object(m.jsx)(gt,{dataDetails:o,title:t,decs:n,conditions:a,setConditions:l,ID:i,operatorValue:s||[],setOperatorValue:d,value:r||[],setValue:c,background:p})})};var _t=kt;kt.defaultProps={background:"#F9FAFB"};const Ct=o.b.div(wt||(wt=Object(a.a)(["\n  margin-bottom: 16px;\n  position: relative;\n"])));var It=n.p+"static/media/close-circle.6d154652.svg";var At,Dt=e=>{let{filter:t,setFilter:n,index:a,conditions:i,listValue:o,setListValue:s,listOperator:d,setListOperator:r,dataDetails:c,ID:p}=e;const[b,u]=Object(l.useState)(null),[h,j]=Object(l.useState)(null),[x,f]=Object(l.useState)(null);Object(l.useEffect)((()=>{if(b){let e=[...t];e[a]=[...b],n(e)}}),[b]),Object(l.useEffect)((()=>{if(h){let e=[...o];e[a]=[...h],s(e)}}),[h]),Object(l.useEffect)((()=>{if(x){let e=[...d];e[a]=[...x],r(e)}}),[x]);return Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(_t,{title:"AND",decs:"(All conditions must be met)",conditions:t[a],setConditions:u,ID:p,dataDetails:c,operatorValue:d[a],setOperatorValue:f,value:o[a],setValue:j}),Object(m.jsx)("img",{alt:"",src:It,style:{position:"absolute",top:"-10px",right:"-10px",cursor:"pointer"},onClick:()=>(()=>{let e=[...t];e.splice(a,1),n(e);let l=[...d];l.splice(a,1),r(l);let i=[...o];i.splice(a,1),s(i)})()})]})};t.a=e=>{let{filter:t,setFilter:n,listOperator:a,setListOperator:i,listValue:o,setListValue:s,ID:d,dataDetails:r}=e;const[c,p]=Object(l.useState)(!1);return Object(m.jsxs)("div",{children:[t.map(((e,l)=>Object(m.jsx)(Dt,{filter:t,conditions:e,setFilter:n,index:l,deleted:c,setDeleted:p,listOperator:a,listValue:o,setListValue:s,setListOperator:i,dataDetails:r,ID:d},l))),Object(m.jsx)(St,{onClick:()=>{n([...t,[]])},children:"+ Add new condition"})]})};const St=Object(o.b)(p.a)(At||(At=Object(a.a)(["\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  font-size: 16px;\n  line-height: 22px;\n  text-align: center;\n  text-decoration-line: underline;\n  color: ",";\n  padding: 0;\n  margin-left: 19px;\n  margin-top: 8px;\n  margin-bottom: 16px;\n  box-shadow: none;\n  :hover,\n  :focus,\n  :active {\n    color: ",";\n    box-shadow: none;\n    outline: none;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main))},2130:function(e,t,n){"use strict";n.r(t);var a,l,i,o=n(16),s=n(0),d=n(39),r=n(480),c=n(13),p=n.n(c),b=n(26),u=n(1267),h=n.n(u),m=n(102),j=n.n(m),x=n(399),f=n.n(x),g=n(123),v=n.n(g),O=n(1292),y=n(1283),w=n(1264),k=n(145),_=n(3),C=n(21),I=n(1229),A=n(320),D=n.n(A),S=n(250),$=n.n(S),E=n(719),V=n.n(E),R=n(1340),N=n.n(R),M=n(1302),T=n.n(M),F=n(14),W=n(1291),z=n(4),q=n(1655),B=n(1427),L=n(2);const U=[{label:"Email",value:"email"},{label:"SMS",value:"sms"}];function Q(e){let{listObjects:t,detailsConfig:n,$detailsConfig:a}=e;const l=Object(d.c)(),{t:i}=Object(r.a)(),[o]=$.a.useForm(),{listObjectField:c}=Object(d.d)((e=>e.objectsReducer)),{showModalConfig:b,fieldsObjectArroval:u}=Object(d.d)((e=>e.approvalProcessesReducer)),[h,m]=Object(s.useState)([]),[x,f]=Object(s.useState)([]),[g,v]=Object(s.useState)({approve_status:void 0,reject_status:void 0,submitted_status:void 0}),[O,y]=Object(s.useState)({field_message_id:void 0,field_link_details:void 0,field_description:void 0}),[w,_]=Object(s.useState)([]),[C,I]=Object(s.useState)([]),[A,D]=Object(s.useState)([]),[S,E]=Object(s.useState)([]),[R,M]=Object(s.useState)([]),[Q,P]=Object(s.useState)([]),[J,Z]=Object(s.useState)(!1),[H,X]=Object(s.useState)([]),[ee,te]=Object(s.useState)([]),[ne,ae]=Object(s.useState)([[]]),[le,ie]=Object(s.useState)([[]]),[oe,se]=Object(s.useState)([[]]);Object(s.useEffect)((()=>{}),[ne]);const de=()=>{l(Object(k.h)(!1))};Object(s.useEffect)((()=>{b||(o.resetFields(),_([]),I([]),D([]),E([]),M([]),P([]),m([]),a({}),f([]),Z(!1),ae([[]]),ie([[]]),se([[]]),l(Object(k.e)([])))}),[a,l,o,b]);const re=(e,t)=>{v({...g,[t]:e})},ce=(e,t)=>{y({...O,[t]:e})};return Object(s.useEffect)((()=>{let e=[];c.forEach((t=>{null!==Object.values(t)[0]&&(Object.values(t)[0].readable||Object.values(t)[0].writeable)&&"main_object"===Object.keys(t)[0]&&Object.values(t)[0].sections.forEach((t=>{t.fields.forEach((t=>{!1!==t.hidden||!1!==t.permission_hidden||p.a.get(t,"encrypted",!1)||e.push({label:t.related_name,value:"$"+t.full_field_id,type:t.type})}))}))})),m(e)}),[c]),Object(s.useEffect)((()=>{if(!p.a.isEmpty(n)){const e=JSON.parse(p.a.get(n,"condition",""));if(l(Object(F.rb)({object_id:p.a.get(n,"object_request",""),api_version:"2",show_meta_fields:!0})),l(Object(k.d)({object_id:p.a.get(n,"object_approval",""),api_version:"2"})),Array.isArray(e)){ae(e);let t=[],n=[];e.forEach(((e,a)=>{t.push(Object(B.b)(e,[],[]).operatorVal),n.push(Object(B.b)(e,[],[]).valueArray)})),ie(t),se(n)}else Z(!0),X(p.a.get(e,"and_filter",[])),te(p.a.get(e,"or_filter",[])),_(p.a.get(e,"and_filter",[])),I(p.a.get(e,"or_filter",[]));v({approve_status:p.a.get(n,"approval_mapping_fields.approve_status",void 0),reject_status:p.a.get(n,"approval_mapping_fields.reject_status",void 0),submitted_status:p.a.get(n,"approval_mapping_fields.submitted_status",void 0)}),y({field_message_id:p.a.get(n,"approval_mapping_fields.field_message_id",void 0),field_link_details:p.a.get(n,"approval_mapping_fields.field_link_details",void 0),field_description:p.a.get(n,"approval_mapping_fields.field_description",void 0)}),o.setFieldsValue({...n,...n.approval_mapping_fields})}}),[n,o,l]),Object(s.useEffect)((()=>{if(!p.a.isEmpty(n)&&(null===u||void 0===u?void 0:u.length)>0){const e=u.find((e=>{var t;return(null===e||void 0===e?void 0:e.value)===(null===n||void 0===n||null===(t=n.approval_mapping_fields)||void 0===t?void 0:t.field_status)}));e&&f(p.a.get(e,"option",[]))}}),[u,n]),Object(L.jsx)(K,{title:i("settings.approvalProcesses"),visible:b,footer:null,width:800,onCancel:de,children:Object(L.jsxs)($.a,{form:o,onFinish:e=>{let t=!1;if(J?(A.length===w.length?A.forEach((e=>{void 0===e&&(t=!0)})):t=!0,S.length===C.length?S.forEach((e=>{void 0===e&&(t=!0)})):t=!0,R.forEach(((e,n)=>{""===e&&"empty"!==A[n]&&"not-empty"!==A[n]&&"mine"!==A[n]&&"not-mine"!==A[n]&&"today"!==A[n]&&"not-today"!==A[n]&&"yesterday"!==A[n]&&"this-week"!==A[n]&&"last-week"!==A[n]&&"this-month"!==A[n]&&"last-month"!==A[n]&&"this-year"!==A[n]&&"$inWorkingTimeUCRM"!==A[n]&&"$ninWorkingTimeUCRM"!==A[n]&&"$inWorkingDayUCRM"!==A[n]&&"$ninWorkingDayUCRM"!==A[n]&&"$ninWorkingDayUCRM"!==A[n]&&(t=!0),("$nin"===A[n]&&0===(null===e||void 0===e?void 0:e.length)||"$in"===A[n]&&0===(null===e||void 0===e?void 0:e.length))&&(t=!0),void 0===e&&(t=!0)})),Q.forEach(((e,n)=>{""===e&&"empty"!==S[n]&&"not-empty"!==S[n]&&"mine"!==S[n]&&"not-mine"!==S[n]&&"today"!==S[n]&&"not-today"!==S[n]&&"yesterday"!==S[n]&&"this-week"!==S[n]&&"last-week"!==S[n]&&"this-month"!==S[n]&&"last-month"!==S[n]&&"this-year"!==S[n]&&"$inWorkingTimeUCRM"!==S[n]&&"$ninWorkingTimeUCRM"!==S[n]&&"$inWorkingDayUCRM"!==S[n]&&"$ninWorkingDayUCRM"!==S[n]&&(t=!0),("$nin"===S[n]&&0===(null===e||void 0===e?void 0:e.length)||"$in"===S[n]&&0===(null===e||void 0===e?void 0:e.length))&&(t=!0),void 0===e&&(t=!0)}))):ne.forEach(((e,n)=>{0===e.length&&(t=!0),Object(B.a)(e,le[n]?le[n]:[],oe[n]?oe[n]:[])&&(t=!0)})),t)Object(z.a)("warning","Please fullfill conditions!");else{let t={object_request:p.a.get(e,"object_request",""),object_approval:p.a.get(e,"object_approval",""),approval_type:p.a.get(e,"approval_type",""),approval_mapping_fields:{field_status:p.a.get(e,"field_status",""),field_user_request:p.a.get(e,"field_user_request",""),field_record_related:p.a.get(e,"field_record_related",""),description_template:p.a.get(e,"description_template",""),approve_status:p.a.get(e,"approve_status",""),field_link_details:p.a.get(e,"field_link_details",""),reject_status:p.a.get(e,"reject_status",""),field_description:p.a.get(e,"field_description",""),field_message_id:p.a.get(e,"field_message_id",""),submitted_status:p.a.get(e,"submitted_status","")},condition:JSON.stringify(J?{and_filter:w,or_filter:C}:ne)};p.a.isEmpty(n)?l(Object(k.a)(t)):l(Object(k.i)({payload:t,id:p.a.get(n,"_id","")}))}},colon:!1,labelAlign:"left",layout:"vertical",children:[Object(L.jsx)($.a.Item,{label:"Object request",name:"object_request",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("workflow.selectObject"),options:t,onChange:e=>{o.setFieldsValue({description_template:void 0}),_([]),I([]),D([]),E([]),M([]),P([]),ae([[]]),ie([[]]),se([[]]),l(Object(F.rb)({object_id:e,api_version:"2",show_meta_fields:!0}))},optionFilterProp:"label",showSearch:!0})}),Object(L.jsx)($.a.Item,{label:"Object approval",name:"object_approval",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("workflow.selectObject"),options:t,onChange:e=>{o.setFieldsValue({field_status:void 0,field_user_request:void 0,submitted_status:void 0,field_message_id:void 0,approve_status:void 0,field_link_details:void 0,reject_status:void 0,field_description:void 0,field_record_related:void 0}),f([]),v({approve_status:void 0,reject_status:void 0,submitted_status:void 0}),y({field_message_id:void 0,field_link_details:void 0,field_description:void 0}),l(Object(k.d)({object_id:e,api_version:"2"}))},optionFilterProp:"label",showSearch:!0})}),Object(L.jsx)($.a.Item,{label:"Approval type",name:"approval_type",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),options:U,optionFilterProp:"label",showSearch:!0})}),Object(L.jsxs)(N.a,{gutter:16,children:[Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Field status",name:"field_status",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),options:null===u||void 0===u?void 0:u.filter((e=>"select"===p.a.get(e,"type",""))),onChange:(e,t)=>{f(p.a.get(t,"option",[]))},optionFilterProp:"label",showSearch:!0})})}),Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Field user request",name:"field_user_request",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),options:null===u||void 0===u?void 0:u.filter((e=>"user"===p.a.get(e,"type",""))),optionFilterProp:"label",showSearch:!0})})})]}),Object(L.jsxs)(N.a,{gutter:16,children:[Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Submitted status",name:"submitted_status",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),onChange:e=>re(e,"submitted_status"),optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,showSearch:!0,children:p.a.map(x,(e=>Object(L.jsx)(V.a.Option,{disabled:e.value===g.approve_status||e.value===g.reject_status,children:e.label},e.value)))})})}),Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Field message id",name:"field_message_id",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{onChange:e=>ce(e,"field_message_id"),placeholder:i("common.placeholderSelect"),optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,showSearch:!0,children:p.a.map(null===u||void 0===u?void 0:u.filter((e=>"text"===p.a.get(e,"type",""))),(e=>Object(L.jsx)(V.a.Option,{disabled:e.value===O.field_link_details||e.value===O.field_description,children:e.label},e.value)))})})})]}),Object(L.jsxs)(N.a,{gutter:16,children:[Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Approve status",name:"approve_status",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),onChange:e=>re(e,"approve_status"),optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,showSearch:!0,children:p.a.map(x,(e=>Object(L.jsx)(V.a.Option,{disabled:e.value===g.submitted_status||e.value===g.reject_status,children:e.label},e.value)))})})}),Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Field link details",name:"field_link_details",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{onChange:e=>ce(e,"field_link_details"),placeholder:i("common.placeholderSelect"),optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,showSearch:!0,children:p.a.map(null===u||void 0===u?void 0:u.filter((e=>"text"===p.a.get(e,"type",""))),(e=>Object(L.jsx)(V.a.Option,{disabled:e.value===O.field_message_id||e.value===O.field_description,children:e.label},e.value)))})})})]}),Object(L.jsxs)(N.a,{gutter:16,children:[Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Reject status",name:"reject_status",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),onChange:e=>re(e,"reject_status"),optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,showSearch:!0,children:p.a.map(x,(e=>Object(L.jsx)(V.a.Option,{disabled:e.value===g.submitted_status||e.value===g.approve_status,children:e.label},e.value)))})})}),Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Field description",name:"field_description",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{onChange:e=>ce(e,"field_description"),placeholder:i("common.placeholderSelect"),optionFilterProp:"children",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,showSearch:!0,children:p.a.map(null===u||void 0===u?void 0:u.filter((e=>"text"===p.a.get(e,"type",""))),(e=>Object(L.jsx)(V.a.Option,{disabled:e.value===O.field_message_id||e.value===O.field_link_details,children:e.label},e.value)))})})})]}),Object(L.jsxs)(N.a,{gutter:16,children:[Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Description template",name:"description_template",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{mode:"tags",placeholder:i("common.placeholderSelect"),options:h,optionFilterProp:"label"})})}),Object(L.jsx)(T.a,{span:12,children:Object(L.jsx)($.a.Item,{label:"Field record related",name:"field_record_related",rules:[{required:!0,message:i("common.placeholderSelect")}],children:Object(L.jsx)(V.a,{placeholder:i("common.placeholderSelect"),options:null===u||void 0===u?void 0:u.filter((e=>"lookup"===p.a.get(e,"type",""))),optionFilterProp:"label",showSearch:!0})})})]}),Object(L.jsxs)(Y,{children:[Object(L.jsx)("legend",{children:i("workflow.conditions")}),J?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(W.a,{title:i("common.allCondition"),decs:"(".concat(i("common.descAllCondition"),")"),conditions:w,setConditions:_,operatorValue:A,setOperatorValue:D,value:R,setValue:M,ID:!p.a.isEmpty(n)&&p.a.get(n,"_id",""),dataDetails:!p.a.isEmpty(n)&&p.a.get(n,"_id",""),conditionData:H}),Object(L.jsx)(W.a,{title:i("common.anyCondition"),decs:"(".concat(i("common.descAnyCondition"),")"),conditions:C,setConditions:I,operatorValue:S,setOperatorValue:E,value:Q,setValue:P,ID:!p.a.isEmpty(n)&&p.a.get(n,"_id",""),dataDetails:!p.a.isEmpty(n)&&p.a.get(n,"_id",""),conditionData:ee})]}):Object(L.jsx)(q.a,{filter:ne,setFilter:ae,listOperator:le,listValue:oe,setListOperator:ie,setListValue:se,ID:!p.a.isEmpty(n)&&p.a.get(n,"_id",""),dataDetails:!p.a.isEmpty(n)&&p.a.get(n,"_id","")})]}),Object(L.jsxs)(G,{label:" ",children:[Object(L.jsx)(j.a,{type:"primary",htmlType:"submit",children:i("common.save")}),Object(L.jsx)(j.a,{onClick:de,children:i("common.cancel")})]})]})})}var P=Object(I.a)()(Q);Q.defaultProps={listObjects:[],detailsConfig:{},$detailsConfig:()=>{}};const K=Object(o.b)(D.a)(a||(a=Object(C.a)(["\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-form-item-label > label {\n    font-size: 16px;\n    color: #2c2c2c;\n  }\n"]))),Y=o.b.fieldset(l||(l=Object(C.a)(["\n  padding: 24px 24px 0 24px;\n  border: 1px solid #ececec;\n  border-radius: 5px;\n  margin-bottom: 24px;\n\n  legend {\n    width: fit-content;\n    color: ",";\n    font-size: 14px;\n    padding: 0 8px;\n    margin-bottom: 0;\n    border-bottom: none;\n  }\n"])),(e=>e.theme.main)),G=Object(o.b)($.a.Item)(i||(i=Object(C.a)(["\n  margin-bottom: 0;\n\n  .ant-btn {\n    font-size: 16px;\n    height: unset;\n\n    :hover {\n      background: ",";\n      color: #fff;\n    }\n  }\n\n  .ant-btn-primary {\n    margin-right: 16px;\n    background: ",";\n    border: 1px solid ",";\n    color: #fff;\n  }\n\n  .ant-form-item-control-input-content {\n    display: flex;\n    justify-content: flex-end;\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main));var J=n(1263);t.default=function(e){const t=Object(d.c)(),n=Object(b.o)(),{t:a}=Object(r.a)(),{category:l}=Object(d.d)((e=>e.objectsManagementReducer)),{userRuleGlobal:i}=Object(d.d)((e=>e.userReducer)),{listConfig:o}=Object(d.d)((e=>e.approvalProcessesReducer)),[c,u]=Object(s.useState)([]),[m,j]=Object(s.useState)([]),[x,g]=Object(s.useState)({}),[C,I]=Object(s.useState)({}),A=e=>!!i.find((t=>"approval"===p.a.get(t,"domain","")&&t.actions.includes(e))),D=[{title:"Object request",dataIndex:"object_request_name",key:"object_request_name"},{title:"Object approval",dataIndex:"object_approval_name",key:"object_approval_name"},{title:"Approval type",dataIndex:"approval_type",key:"approval_type",render:e=>Object(L.jsx)("span",{style:{textTransform:"capitalize"},children:e})},{title:"Created date",dataIndex:"created_date",key:"created_date"},{title:"Action",dataIndex:"action",key:"action",render:(e,n)=>Object(L.jsxs)(ne,{children:[A("edit")&&Object(L.jsx)(v.a,{title:a("common.edit"),children:Object(L.jsx)("img",{onClick:()=>{I(n.data),t(Object(k.h)(!0))},src:y.a,alt:"edit"})}),A("delete")&&Object(L.jsx)(v.a,{title:a("common.delete"),children:Object(L.jsx)("img",{onClick:()=>{return e=n.key,t(Object(_.setShowModalConfirmDelete)(!0)),void g({id:e});var e},src:w.a,alt:"delete"})})]})}];return Object(s.useEffect)((()=>{t(Object(k.f)())}),[t]),Object(s.useEffect)((()=>{if(Object.keys(l).length>0){let e=[];Object.entries(l).forEach((t=>{let[n,a]=t;a.forEach((t=>{t.Status&&e.push({label:t.Name,value:t._id})}))})),u(e)}}),[l]),Object(s.useEffect)((()=>{let e=[];o.map((t=>e.push({key:p.a.get(t,"_id",""),object_request_name:p.a.get(t,"object_request_name",""),object_approval_name:p.a.get(t,"object_approval_name",""),approval_type:p.a.get(t,"approval_type",""),created_date:p.a.get(t,"created_date",""),data:t}))),j(e)}),[o]),Object(L.jsxs)(Z,{children:[Object(L.jsxs)(H,{children:[Object(L.jsxs)(h.a,{children:[Object(L.jsx)(h.a.Item,{onClick:()=>n("/settings"),children:a("settings.settings")}),Object(L.jsx)(X,{children:a("settings.approvalProcesses")})]}),o.length>0&&A("create")&&Object(L.jsxs)(ee,{onClick:()=>t(Object(k.h)(!0)),children:["+ ",a("approvalProcesses.addSetting")]})]}),0===o.length?Object(L.jsxs)(te,{children:[Object(L.jsx)("img",{src:O.a,alt:"empty"}),Object(L.jsxs)("p",{children:[a("object.noObject")," ",Object(L.jsx)("span",{children:a("settings.approvalProcesses")})]}),A("create")&&Object(L.jsxs)(ee,{onClick:()=>t(Object(k.h)(!0)),children:["+ ",a("approvalProcesses.addSetting")]})]}):Object(L.jsx)(ae,{children:Object(L.jsx)(f.a,{columns:D,dataSource:m,pagination:!1})}),Object(L.jsx)(P,{listObjects:c,detailsConfig:C,$detailsConfig:I}),Object(L.jsx)(J.a,{title:"",decs:a("common.descriptionDelete"),methodDelete:k.c,dataDelete:x,isLoading:!1})]})};const Z=o.b.div.withConfig({displayName:"approvalProcesses__Wrapper",componentId:"sc-1eyu5fu-0"})(["padding:16px 24px;.ant-breadcrumb-link{cursor:pointer;}"]),H=o.b.div.withConfig({displayName:"approvalProcesses__WrapBreadcrumb",componentId:"sc-1eyu5fu-1"})(["display:flex;justify-content:space-between;align-items:center;"]),X=Object(o.b)(h.a.Item).withConfig({displayName:"approvalProcesses__BreadcrumbItem",componentId:"sc-1eyu5fu-2"})(["font-family:var(--roboto-500);font-size:18px !important;color:#2c2c2c;cursor:default;"]),ee=Object(o.b)(j.a).withConfig({displayName:"approvalProcesses__AddButton",componentId:"sc-1eyu5fu-3"})(["background:",";border:1px solid ",";height:40px;span{color:#fff !important;font-size:16px;}:hover{background:","!important;color:#fff !important;}:active{background:",";color:#fff;}:focus{background:",";color:#fff;}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main)),te=o.b.div.withConfig({displayName:"approvalProcesses__Empty",componentId:"sc-1eyu5fu-4"})(["display:flex;flex-direction:column;align-items:center;margin-top:24px;font-size:16px;p{color:#2c2c2c;margin-bottom:16px;}span{color:",";}img{margin-bottom:8px;}"],(e=>e.theme.main)),ne=o.b.div.withConfig({displayName:"approvalProcesses__WrapAction",componentId:"sc-1eyu5fu-5"})(["img{cursor:pointer;margin-left:8px;:hover{background:#eeeeee;}}"]),ae=o.b.div.withConfig({displayName:"approvalProcesses__WrapTable",componentId:"sc-1eyu5fu-6"})(["background:#fff;padding:24px;margin-top:16px;.ant-table-thead > tr > th{font-size:16px;color:#2c2c2c;background:#f0f0f0;border-right:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9;padding:8.5px 16px;:before{display:none;}:first-child{border-left:1px solid #d9d9d9;}}.ant-table-tbody > tr > td{font-size:16px;color:#2c2c2c;padding:8.5px 16px;:first-child{border-left:1px solid #d9d9d9;}:last-child{border-right:1px solid #d9d9d9;}}.ant-table-content{::-webkit-scrollbar{height:8px;}}.ant-pagination{width:100%;background:#fff;display:flex;justify-content:flex-end;margin-bottom:0;}.ant-pagination-item-active{border-color:",";a{color:",";}}.ant-pagination-item:hover{border-color:",";a{color:",";}}.ant-pagination-next:hover .ant-pagination-item-link{color:",";border-color:",";}.ant-pagination-prev:hover .ant-pagination-item-link{color:",";border-color:",";}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker))}}]);
//# sourceMappingURL=73.d19a37d1.chunk.js.map