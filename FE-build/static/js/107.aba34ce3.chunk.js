(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[107],{1262:function(e,n,t){"use strict";n.a=t.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,n,t){"use strict";var i,a,c,l,o,r,s,d=t(21),b=t(102),j=t.n(b),h=t(320),p=t.n(h),m=t(1262),x=(t(0),t(39)),u=t(3),O=t(285),f=t(16),g=t(480),v=t(1229),y=t(2);const w=e=>{let{dataDelete:n,title:t,decs:i,methodDelete:a,setShowModalDelete:c,isLoading:l,mask:o,loadData:r,setPositionLogo:s,openConfirm:d,setOpenConfirm:b,type:j,onDelete:h}=e;const p=Object(x.c)(),{t:f}=Object(g.a)(),{showModalConfirmDelete:v}=Object(O.d)((e=>e.globalReducer)),w=()=>{"custom-view"===j&&b(!1),p(Object(u.setShowModalConfirmDelete)(!1)),c&&c(!0)};return Object(y.jsxs)(B,{title:f("common.confirmAction"),visible:"custom-view"===j?d:v,mask:o,onCancel:()=>{w()},width:400,footer:null,children:[Object(y.jsxs)(A,{children:[Object(y.jsx)("img",{alt:"",src:m.a}),Object(y.jsxs)(F,{children:[f("common.confirmDelete")," ",t,"?"]}),Object(y.jsx)(D,{children:i})]}),Object(y.jsxs)(C,{children:[Object(y.jsx)(k,{size:"large",htmlType:"submit",loading:l,onClick:()=>{a&&p(a({...n})),r(),p(Object(u.setShowModalConfirmDelete)(!1)),h&&h(),s&&s(n),"custom-view"===j&&b(!1)},children:f("common.delete")}),Object(y.jsx)(_,{size:"large",onClick:()=>{w()},children:f("common.cancel")})]})]})};n.a=Object(v.a)()(w),w.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const C=f.b.div(i||(i=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),k=Object(f.b)(j.a)(a||(a=Object(d.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),_=Object(f.b)(j.a)(c||(c=Object(d.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),A=f.b.div(l||(l=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),F=f.b.span(o||(o=Object(d.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),D=f.b.span(r||(r=Object(d.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),B=Object(f.b)(p.a)(s||(s=Object(d.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1477:function(e,n,t){"use strict";n.a=t.p+"static/media/empty-email.5f015976.svg"},1482:function(e,n,t){"use strict";n.a=t.p+"static/media/deleteIcon.73dc892f.svg"},1556:function(e,n,t){"use strict";n.a=t.p+"static/media/editIcon.e5074932.svg"},1598:function(e,n,t){"use strict";var i,a=t(21),c=t(148),l=t(38),o=(t(0),t(285)),r=t(16),s=t(2);n.a=e=>{const{defaultBrandName:n}=Object(o.d)((e=>e.brandNameReducer)),{label:t,clickButton:i,className:a,icon:c,htmlType:r,style:b}=e;return Object(s.jsx)(s.Fragment,{children:l.b.filter((e=>e.name.toLocaleLowerCase()===n.theme_color.toLocaleLowerCase()))[0]&&Object(s.jsxs)(d,{htmlType:r,style:b,color:l.b.filter((e=>e.name.toLocaleLowerCase()===n.theme_color.toLocaleLowerCase()))[0].main,hover:l.b.filter((e=>e.name.toLocaleLowerCase()===n.theme_color.toLocaleLowerCase()))[0].darker,className:a,onClick:i,children:[c,t]})})};const d=Object(r.b)(c.a)(i||(i=Object(a.a)(["\n  background-color: ",";\n  border: 0px;\n  &:hover {\n    background-color: ",";\n    color: #fff;\n    border: 0px;\n  }\n  color: #fff;\n  width: max-content;\n"])),(e=>e.color),(e=>e.hover))},2097:function(e,n,t){"use strict";t.r(n);var i,a,c,l,o,r=t(21),s=t(1659),d=t(317),b=t(708),j=t(711),h=t(148),p=t(1252),m=t(1244),x=t(1245),u=t(1255),O=t(1250),f=t(385),g=t(284),v=t(1254),y=t(278),w=t(281),C=t(0),k=t(133),_=t(13),A=t.n(_),F=t(285),D=t(16),B=t(33),L=t(14),E=t(1477),S=t(1482),P=t(1556),z=t(1658),R=t(1300),N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHPSURBVHgB7VXNUcJAFN4lCVcCFcSBMNzUDqADqUCowLGCYAdQAViBdIBWINwyJozpIPHGmIT1e5JoCBmyOhz5ZnZ2M7vve/8vjJ1xSrRbLYvWX2QU2YemaQ6wjbG69Xp95fu+LSPHZR51Oh0jjuOFEOIRS69wfhtG0bUHlMlWmASInAlh0GOF8wCbrqnqk4xsqQeGYfyScW5AkY7TEoLBZxQN4UTA/gsiz363TXOGXEyPvcmjMEQUc7PVWlZVdcZKQN5B6TsUGVIKms3mTRxFrzheCsZqe48VZRSG4f0BC/KjadoiqbQ97OWAahyko60QE0omzneI+5zuiDiNd1JVaT90OapruyOzsEZvrvtQ6ME2UQhyf6eeZxP4E+vNZhNkrNcTS2tZjkIPCImbFrmN/dlx3V56lyRUz9Y/crUgL7ACeD5cr9fzLN9BDhzHmSmK0oP1Xv6uqmljxNrKWfiBbUWNlycnqKwAtm172C7KSpCAXhgc6wWpRkO5TsUuB1ffeRHCoztY3S9rtNJRQQQgNxhVC2MTqhg6U1fLdLHULFJUtY8tSPpCUH5Qtj0ZWalpSqAGxBRNZ9KQikFGTvp/QPO/0WiQQS+u647ZGafCFw6lwwH0nZweAAAAAElFTkSuQmCC",I=t(4),V=t(480),T=t(2);const{Panel:Q}=z.a,{Option:M}=d.a;var U=e=>{const{t:n}=Object(V.a)(),{changeColor:t,index:i,item:a,listFullObjectField:c,updateDisplayField:l,addMoreDisplayField:o,removeField:r,onDragEndField:s}=e,{value:b,style:j,fields_order:h,display_fields:u}=a,[O,g]=Object(C.useState)([]),v=["#E53935","#D81B60","#8E24AA","#5E35B1","#3949AB","#1E88E5","#039BE5","#00ACC1","#00897B","#43A047","#7CB342","#C0CA33","#FDD835","#FFB300","#FB8C00","#F4511E","#6D4C41","#757575","#546E7A","#54587A"],y=[{label:"Create Date",value:"created_date"},{label:"Created By",value:"created_by"},{label:"Modify Time",value:"modify_time"},{label:"Modified by",value:"modify_by"},{label:"Assign To",value:"owner"}];return Object(C.useEffect)((()=>{if(u){let e=[];Object.keys(u).forEach((n=>{e.push(n)})),g(e)}}),[u]),Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(Z,{defaultActiveKey:["1"],children:Object(T.jsx)(Q,{header:Object(T.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)("div",{children:b}),Object(T.jsx)("div",{children:Object(T.jsx)(f.a,{overlay:(w=i,Object(T.jsx)(H,{children:Object(T.jsx)(m.a,{style:{width:"15rem"},children:v.map((e=>Object(T.jsx)(x.a,{children:Object(T.jsx)(G,{onClick:n=>{n.stopPropagation(),n.preventDefault(),t(e,w)},color:e})})))})})),trigger:["click"],children:Object(T.jsx)(G,{color:j.color,onClick:e=>{e.stopPropagation(),e.preventDefault()}})})})]}),children:Object(T.jsxs)(W,{children:[Object(T.jsxs)(m.a,{children:[Object(T.jsx)(x.a,{span:6,style:{fontSize:"16px",color:"#2c2c2c"},children:n("kanbanView.columnField")}),Object(T.jsx)(x.a,{span:18,children:Object(T.jsxs)(J,{children:[" ",Object(T.jsx)(p.a.Item,{name:"valueColumnField_"+i,valuePropName:O,rules:[{validator:(e,n,t)=>{0===Object.entries(u).length?t("Ch\u1ecdn t\u1ed1i thi\u1ec3u 1 gi\xe1 tr\u1ecb"):t()},required:!0}],children:Object(T.jsxs)(d.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,mode:"multiple",onDeselect:e=>{r(e,i)},onSelect:e=>{O.length<5?o(e,i):Object(I.a)("warning","Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a 5 tr\u01b0\u1eddng")},style:{width:"100%"},value:O,children:[c&&c.map((e=>Object(T.jsx)(M,{value:e.field_id,children:e.name}))),y.map((e=>Object(T.jsx)(M,{value:e.value,children:e.label})))]})})]})})]}),Object(T.jsx)(R.a,{onDragEnd:e=>s(e,h,i),children:Object(T.jsx)(R.c,{droppableId:"listField",children:e=>Object(T.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[Object(T.jsx)(q,{display_fields:u,fields_order:h,listFullObjectField:c,meta_data:y,index_main:i,updateDisplayField:l}),e.placeholder]})})})]})},"1")})})});var w};const q=e=>{const{display_fields:n,listFullObjectField:t,meta_data:i,updateDisplayField:a,index_main:c,fields_order:l}=e;return l.length>0&&l.map(((e,l)=>Object(T.jsx)(K,{listFullObjectField:t,meta_data:i,updateDisplayField:a,display_fields:n,item:e,index:l,index_main:c},e)))},K=e=>{const{listFullObjectField:n,meta_data:t,updateDisplayField:i,display_fields:a,index_main:c,index:l,item:o}=e;return Object(T.jsx)(R.b,{draggableId:o,index:l,children:e=>Object(T.jsxs)(m.a,{justify:"space-around",style:{marginTop:"1rem"},ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:[Object(T.jsxs)(x.a,{span:8,style:{fontSize:"14px",color:"#252424",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[Object(T.jsx)("img",{src:N,alt:"",style:{marginRight:"10px"}}),n.filter((e=>e.field_id===o))[0]&&n.filter((e=>e.field_id===o))[0].name,t.filter((e=>e.value===o))[0]&&t.filter((e=>e.value===o))[0].label]}),Object(T.jsx)(x.a,{span:15,style:{marginBottom:"8px"},children:Object(T.jsxs)(d.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,style:{width:"100%"},value:a[o].font_weight,onChange:e=>i(e,o,"font_weight",c),children:[Object(T.jsx)(M,{value:"600",children:"Bold"}),Object(T.jsx)(M,{value:"300",children:"Light"}),Object(T.jsx)(M,{value:"400",children:"Regular"})]})})]})},o)},Z=Object(D.b)(z.a)(i||(i=Object(r.a)(["\n  border: 0px;\n  /* .ant-collapse-item-active {\n    .ant-collapse-header {\n      border: 1px solid ",";\n    }\n  } */\n  .ant-collapse-item {\n    border-bottom: none;\n  }\n  .ant-collapse-header {\n    margin-bottom: 1rem;\n    /* padding: 0.3rem !important; */\n    padding: 4px 4px 4px 8px !important;\n\n    background-color: #f0f0f0;\n    font-family: var(--roboto-500);\n    font-size: 16px;\n    border-radius: 2px !important;\n    border: 1px solid #ececec;\n    &:hover {\n      border: 1px solid ",";\n    }\n  }\n  .ant-collapse-content-box {\n    border: 1px solid #ececec;\n    padding: 8px 8px 0 8px;\n    margin-bottom: 1rem;\n    border-radius: 2px;\n    background: #fafafa;\n  }\n  .ant-collapse-content {\n    border-top: none;\n  }\n\n  background-color: white !important;\n"])),(e=>e.theme.main),(e=>e.theme.main)),G=D.b.div(a||(a=Object(r.a)(["\n  height: 1.5rem;\n  width: 1.5rem;\n  background-color: ",";\n  &:hover {\n    border: 2px solid white;\n  }\n"])),(e=>e.color)),H=Object(D.b)(y.a)(c||(c=Object(r.a)(["\n  padding: 0.4rem;\n"]))),W=D.b.div(l||(l=Object(r.a)([""]))),J=D.b.div(o||(o=Object(r.a)(["\n  .ant-col-18 {\n    max-width: 100%;\n    width: 100%;\n  }\n"])));var Y,X,$,ee,ne;const{Panel:te}=z.a,{Option:ie}=d.a;var ae=e=>{const{t:n}=Object(V.a)(),{changeColor:t,indexx:i,item:a,listFullObjectField:c,updateDisplayField:l,addMoreDisplayField:o,removeField:r}=e,{value:s,style:b,fields_order:j,display_fields:h}=a,[u,O]=Object(C.useState)([]),g=["#E53935","#D81B60","#8E24AA","#5E35B1","#3949AB","#1E88E5","#039BE5","#00ACC1","#00897B","#43A047","#7CB342","#C0CA33","#FDD835","#FFB300","#FB8C00","#F4511E","#6D4C41","#757575","#546E7A","#54587A"],v=[{label:"Create Date",value:"created_date"},{label:"Created By",value:"created_by"},{label:"Modify Time",value:"modify_time"},{label:"Modified by",value:"modify_by"},{label:"Assign To",value:"owner"}];return Object(C.useEffect)((()=>{if(h){let e=[];Object.keys(h).forEach((n=>{e.push(n)})),O(e)}}),[h]),Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(ce,{defaultActiveKey:["1"],children:Object(T.jsx)(te,{header:Object(T.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(T.jsx)("div",{children:s}),Object(T.jsx)("div",{children:Object(T.jsx)(f.a,{overlay:(y=i,Object(T.jsx)(oe,{children:Object(T.jsx)(m.a,{style:{width:"15rem"},children:g.map((e=>Object(T.jsx)(x.a,{children:Object(T.jsx)(le,{onClick:n=>{n.stopPropagation(),n.preventDefault(),t(e,y)},color:e})})))})})),trigger:["click"],children:Object(T.jsx)(le,{color:b.color,onClick:e=>{e.stopPropagation(),e.preventDefault()}})})})]}),children:Object(T.jsxs)(re,{children:[Object(T.jsxs)(m.a,{children:[Object(T.jsx)(x.a,{span:6,style:{fontSize:"16px",color:"#2c2c2c"},children:n("kanbanView.columnField")}),Object(T.jsx)(x.a,{span:18,children:Object(T.jsxs)(se,{children:[" ",Object(T.jsx)(p.a.Item,{name:"valueColumnField_"+i,valuePropName:u,rules:[{validator:(e,n,t)=>{0===Object.entries(h).length?t("Ch\u1ecdn t\u1ed1i thi\u1ec3u 1 gi\xe1 tr\u1ecb"):t()},required:!0}],children:Object(T.jsxs)(d.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,mode:"multiple",onDeselect:e=>{r(e,i)},onSelect:e=>{u.length<5?o(e,i):Object(I.a)("warning","Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a 5 tr\u01b0\u1eddng")},style:{width:"100%"},value:u,children:[c&&c.map((e=>Object(T.jsx)(ie,{value:e.field_id,children:e.name}))),v.map((e=>Object(T.jsx)(ie,{value:e.value,children:e.label})))]})})]})})]}),Object(T.jsx)(R.c,{droppableId:"droppable".concat(a.value),type:"".concat(i),children:e=>Object(T.jsxs)("div",{ref:e.innerRef,children:[j.length>0&&j.map(((e,n)=>Object(T.jsx)(R.b,{draggableId:"".concat(i).concat(n),index:n,children:n=>Object(T.jsx)("div",{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,children:Object(T.jsxs)(m.a,{justify:"space-around",children:[Object(T.jsxs)(x.a,{span:8,style:{fontSize:"14px",color:"#252424",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[Object(T.jsx)("img",{src:N,alt:"",style:{marginRight:"10px"}}),c.filter((n=>n.field_id===e))[0]&&c.filter((n=>n.field_id===e))[0].name,v.filter((n=>n.value===e))[0]&&v.filter((n=>n.value===e))[0].label]}),Object(T.jsx)(x.a,{span:15,style:{marginBottom:"8px"},children:Object(T.jsxs)(d.a,{showSearch:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,style:{width:"100%"},value:h[e].font_weight,onChange:n=>l(n,e,"font_weight",i),children:[Object(T.jsx)(ie,{value:"600",children:"Bold"}),Object(T.jsx)(ie,{value:"300",children:"Italic"}),Object(T.jsx)(ie,{value:"400",children:"Regular"})]})})]})})},"".concat(i).concat(n)))),e.placeholder]})})]})},"1")})})});var y};const ce=Object(D.b)(z.a)(Y||(Y=Object(r.a)(["\n  border: 0px;\n  /* .ant-collapse-item-active {\n    .ant-collapse-header {\n      border: 1px solid ",";\n    }\n  } */\n  .ant-collapse-item {\n    border-bottom: none;\n  }\n  .ant-collapse-header {\n    margin-bottom: 1rem;\n    /* padding: 0.3rem !important; */\n    padding: 4px 4px 4px 8px !important;\n\n    background-color: #f0f0f0;\n    font-family: var(--roboto-500);\n    font-size: 16px;\n    border-radius: 2px !important;\n    border: 1px solid #ececec;\n    &:hover {\n      border: 1px solid ",";\n    }\n  }\n  .ant-collapse-content-box {\n    border: 1px solid #ececec;\n    padding: 8px 8px 0 8px;\n    margin-bottom: 1rem;\n    border-radius: 2px;\n    background: #fafafa;\n  }\n  .ant-collapse-content {\n    border-top: none;\n  }\n\n  background-color: white !important;\n"])),(e=>e.theme.main),(e=>e.theme.main)),le=D.b.div(X||(X=Object(r.a)(["\n  height: 1.5rem;\n  width: 1.5rem;\n  background-color: ",";\n  &:hover {\n    border: 2px solid white;\n  }\n"])),(e=>e.color)),oe=Object(D.b)(y.a)($||($=Object(r.a)(["\n  padding: 0.4rem;\n"]))),re=D.b.div(ee||(ee=Object(r.a)([""]))),se=D.b.div(ne||(ne=Object(r.a)(["\n  .ant-col-18 {\n    max-width: 100%;\n    width: 100%;\n  }\n"])));var de,be,je,he,pe,me,xe,ue=t(1263),Oe=t(3),fe=t(1598),ge=t(26),ve=t(63);const{Step:ye}=s.a,{Option:we}=d.a;n.default=()=>{const e=Object(F.c)(),n=Object(ge.o)(),{t:t}=Object(V.a)(),i=e=>({filterDropdown:e=>{let{setSelectedKeys:n,selectedKeys:t,confirm:i,clearFilters:a}=e;return Object(T.jsxs)("div",{style:{padding:8},children:[Object(T.jsx)(b.a,{placeholder:"Search",value:t[0],onChange:e=>n(e.target.value?[e.target.value]:[]),onPressEnter:()=>z(i),style:{marginBottom:8,display:"block"}}),Object(T.jsxs)(j.b,{children:[Object(T.jsx)(h.a,{type:"primary",onClick:()=>z(i),icon:Object(T.jsx)(w.a,{}),size:"small",style:{width:90},children:"T\xecm ki\u1ebfm"}),Object(T.jsx)(h.a,{onClick:()=>N(a),size:"small",style:{width:90},children:"\u0110\u1eb7t l\u1ea1i"}),Object(T.jsx)(h.a,{type:"link",size:"small",onClick:()=>{i({closeDropdown:!1})},children:"L\u1ecdc d\u1eef li\u1ec7u"})]})]})},filterIcon:e=>Object(T.jsx)(w.a,{style:{color:e?"#1890ff":void 0}}),onFilter:(n,t)=>t[e]?t[e].toString().toLowerCase().includes(n.toLowerCase()):"",render:e=>e}),[a]=p.a.useForm(),[c,l]=Object(C.useState)([]),[o,r]=Object(C.useState)([]),[v,y]=Object(C.useState)({}),{userRuleGlobal:_}=Object(F.d)((e=>e.userReducer));Object(C.useEffect)((()=>{e(Object(ve.b)(t("kanbanView.kanbanViewSetting")))}),[t]);const D=e=>!!_.find((n=>"kanban_view"===A.a.get(n,"domain","")&&n.actions.includes(e))),z=e=>{e()},N=e=>{e()},I=[{title:t("object.object"),dataIndex:"object_name",key:"object_name",...i("object_name")},{title:t("kanbanView.fieldPriority"),dataIndex:"column_field_name",...i("column_field_name")},{title:t("kanbanView.fieldForeign"),dataIndex:"status_field_name",...i("status_field_name")},{title:t("common.action"),key:"operation",fixed:"right",width:100,render:n=>Object(T.jsxs)(T.Fragment,{children:[D("edit")&&Object(T.jsx)("img",{alt:"Edit",src:P.a,onClick:()=>(n=>{e(Object(L.sb)([])),e(Object(k.i)({_id:n._id}))})(n)}),D("delete")&&Object(T.jsx)("img",{alt:"Delete",src:S.a,onClick:()=>(n=>{e(Object(Oe.setShowModalConfirmDelete)(!0)),y({_id:n._id})})(n)})]})}],Q=["#E53935","#D81B60","#8E24AA","#5E35B1","#3949AB","#1E88E5","#039BE5","#00ACC1","#00897B","#43A047","#7CB342","#C0CA33","#FDD835","#FFB300","#FB8C00","#F4511E","#6D4C41","#757575","#546E7A","#54587A"],M=n=>Object(T.jsx)(De,{children:Object(T.jsx)(m.a,{style:{width:"15rem"},children:Q.map((t=>Object(T.jsx)(x.a,{children:Object(T.jsx)(Fe,{onClick:i=>{i.stopPropagation(),i.preventDefault(),e(Object(k.q)({index:n,value:t}))},colorBorder:"white",color:t})})))})}),{listKanbanView:q,showModal:K,editKanbanView:Z,step:G}=Object(F.d)((e=>e.kanbanViewSettingReducer)),{listObject:H}=Object(F.d)((e=>e.objectsManagementReducer)),{showLoadingScreen:W}=Object(F.d)((e=>e.globalReducer)),{listObjectField:J}=Object(F.d)((e=>e.objectsReducer)),{object_id:Y,column_field:X,column_configs:$,status_field:ee,status_style:ne,confirm_before_edit:te,uncategorized_column_config:ie,show_uncategorized:ce}=Z,le=()=>{e(Object(k.m)(!0)),e(Object(k.h)({column_configs:[],column_field:"",confirm_before_edit:!1,object_id:"",show_uncategorized:!1,status_field:"",status_style:[],title:"",uncategorized_column_config:{}}))},oe=()=>{e(Object(k.m)(!1)),e(Object(k.n)(0)),a.resetFields()},re=(n,t)=>{e(Object(k.p)({value:{color:n},index:t}))},se=(n,t)=>{e(Object(k.a)({index:t,value:n}))},de=(n,t)=>{e(Object(k.e)({index:t,value:n}))},be=(n,t,i,a)=>{e(Object(k.t)({index:a,key:t,i:i,value:n}))},je=n=>{e(Object(k.b)(n))},he=n=>{e(Object(k.f)(n))},pe=(n,t,i)=>{e(Object(k.s)({key:t,i:i,value:n}))},me=n=>{e(Object(k.r)(n))},xe=(n,t,i)=>{let a=[...t];if(n.destination){if(n.destination.index>=a.length)for(var c=n.destination.index-a.length+1;c--;)a.push(void 0);a.splice(n.destination.index,0,a.splice(n.source.index,1)[0])}e(Object(k.w)({index:i,value:a}))},Le=(n,t)=>{let i=[...t];if(n.destination){if(n.destination.index>=i.length)for(var a=n.destination.index-i.length+1;a--;)i.push(void 0);i.splice(n.destination.index,0,i.splice(n.source.index,1)[0])}e(Object(k.x)(i))},Ee=(e,n,t)=>{const i=Array.from(e),[a]=i.splice(n,1);return i.splice(t,0,a),i},Se=n=>{if(n.destination)if("column_configs"===n.type){const t=Ee($,n.source.index,n.destination.index);e(Object(k.c)(t))}else{const t=Ee($[parseInt(n.type,10)].fields_order,n.source.index,n.destination.index),i=JSON.parse(JSON.stringify($));i[n.type].fields_order=t,e(Object(k.c)(i))}},Pe=(e,n)=>{let t="";return t=e===n?"In progress":e>n?"Finished":"Waiting",t};return Pe(G),Object(C.useEffect)((()=>{let e=[],n=[];J.length>0&&J.length>0&&J.filter((e=>e.main_object)).length>0&&J.filter((e=>e.main_object))[0].main_object.sections.forEach((t=>{t.fields.map((t=>{n.push(t),"select"===t.type&&t.option.length<=10&&e.push(t)}))})),r(n),l(e)}),[J]),Object(C.useEffect)((()=>{X||e(Object(k.u)({key:"column_configs",value:[]}))}),[X,c]),Object(C.useEffect)((()=>{ee||e(Object(k.u)({key:"status_style",value:[]}))}),[ee,c]),Object(C.useEffect)((()=>{e(Object(k.j)()),e(Object(B.o)())}),[]),Object(C.useEffect)((()=>()=>{e(Object(k.n)(0)),e(Object(k.o)())}),[]),Object(T.jsxs)(Ce,{children:[Object(T.jsx)(ue.a,{title:t("kanbanView.deleteKanban"),decs:t("common.descriptionDelete"),methodDelete:k.g,dataDelete:v,isLoading:W}),Object(T.jsxs)(m.a,{justify:"space-between",style:{paddingBottom:"1rem"},children:[Object(T.jsx)(x.a,{span:6,children:Object(T.jsxs)(u.a,{children:[Object(T.jsx)(u.a.Item,{onClick:()=>n("/settings"),children:t("common.settings")}),Object(T.jsxs)(Be,{children:[" ",t("kanbanView.kanbanViewSetting")," "]})]})}),q.length>0&&D("create")&&Object(T.jsx)(fe.a,{label:"+ ".concat(t("kanbanView.addNew")),clickButton:le})]}),Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:0===q.length?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(m.a,{style:{width:"100%"},justify:"center",children:Object(T.jsx)("img",{alt:"Empty",src:E.a})}),Object(T.jsx)(m.a,{style:{width:"100%"},justify:"center",children:Object(T.jsxs)("p",{children:[" ",t("common.noData")," "]})}),D("create")&&Object(T.jsx)(m.a,{justify:"center",children:Object(T.jsx)(fe.a,{label:"+ Th\xeam m\u1edbi",clickButton:le})})]}):Object(T.jsx)(O.a,{columns:I,dataSource:q,pagination:{position:["bottomRight"],showSizeChanger:!0,defaultPageSize:10,showQuickJumper:!0}})})}),Object(T.jsxs)(ke,{visible:K,width:800,onCancel:()=>oe(),title:"Test",footer:[Object(T.jsxs)(m.a,{justify:"end",children:[Object(T.jsx)(x.a,{style:{display:0===G?"none":"unset",marginRight:"1rem"},className:"btn-back",children:Object(T.jsxs)(h.a,{onClick:()=>(()=>{if(G>=1){let n=G-1;e(Object(k.n)(n))}})(),children:[" ",t("common.back")," "]})}),Object(T.jsx)(x.a,{style:{display:3===G?"none":"unset",marginRight:"1rem"},className:"btn-next",children:Object(T.jsxs)(h.a,{onClick:()=>{a.submit()},children:[" ",t("common.next")," "]})}),Object(T.jsx)(x.a,{style:{display:3===G?"unset":"none",marginRight:"1rem"},className:"btn-next",children:Object(T.jsxs)(h.a,{onClick:()=>a.submit(),children:[" ",t("common.save")," "]})}),Object(T.jsx)(x.a,{children:Object(T.jsxs)(h.a,{onClick:()=>oe(),children:[" ",t("common.cancel")," "]})})]})],children:[Object(T.jsxs)(s.a,{current:G,children:[Object(T.jsx)(ye,{title:t("object.object"),description:Pe(G,0)}),Object(T.jsx)(ye,{title:t("kanbanView.columnField"),description:Pe(G,1)}),Object(T.jsx)(ye,{title:t("kanbanView.statusField"),description:Pe(G,2)}),Object(T.jsx)(ye,{title:t("kanbanView.uncategorized"),description:Pe(G,3)})]}),Object(T.jsx)(p.a,{name:"step-1",labelCol:{span:6},wrapperCol:{span:18},validateMessages:"Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c",onFinish:()=>{G<=2?e(Object(k.n)(G+1)):3===G&&(Z._id?e(Object(k.v)(Z)):e(Object(k.l)(Z)))},form:a,children:Object(T.jsx)(_e,{children:(()=>{switch(G){case 1:return Object(T.jsxs)("div",{children:[Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(p.a.Item,{name:"column_field",label:t("kanbanView.columnField"),valuePropName:X,rules:[{validator:(e,n,t)=>{0===X.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(T.jsx)(d.a,{showSearch:!0,onChange:n=>{if(e(Object(k.u)({key:"column_field",value:n})),n&&c.length>0){let t=[];c.filter((e=>e.field_id===n))[0].option.forEach((e=>{t.push({value:e.value,style:{color:"#00897B"},fields_order:[],display_fields:{}})})),e(Object(k.u)({key:"column_configs",value:t}))}a.resetFields()},value:X,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:c&&c.map((e=>!e.multiple&&Object(T.jsx)(we,{value:e.field_id,children:e.name})))})})})}),Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(R.a,{onDragEnd:Se,children:Object(T.jsx)(R.c,{droppableId:"column_configs",type:"column_configs",children:e=>Object(T.jsx)("div",{ref:e.innerRef,children:$.map(((e,n)=>Object(T.jsx)(R.b,{draggableId:e.value,index:n,children:t=>Object(T.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:Object(T.jsx)(ae,{removeField:de,onDragEndField:xe,indexx:n,listFullObjectField:o,addMoreDisplayField:se,updateDisplayField:be,changeColor:re,item:e},e.value)})},e.value)))})})})})})]});case 2:return Object(T.jsxs)("div",{children:[Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(p.a.Item,{name:"status_field",label:t("kanbanView.statusField"),valuePropName:ee,rules:[{validator:(e,n,t)=>{0===ee.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],children:Object(T.jsx)(d.a,{value:ee,onChange:n=>{if(e(Object(k.u)({key:"status_field",value:n})),n&&c.length>0){let t=[];c.filter((e=>e.field_id===n))[0].option.forEach((e=>{t.push({value:e.value,style:{color:"#00897B"}})})),e(Object(k.u)({key:"status_style",value:t}))}},showSearch:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:c&&c.map((e=>!e.multiple&&Object(T.jsx)(we,{value:e.field_id,children:e.name})))})})})}),Object(T.jsx)(m.a,{justify:"space-between",children:ne&&ne.map(((e,n)=>Object(T.jsx)(Ae,{span:11,children:Object(T.jsxs)(m.a,{children:[Object(T.jsx)(x.a,{span:22,children:Object(T.jsx)("span",{children:e.value})}),Object(T.jsx)(x.a,{span:2,children:Object(T.jsx)(f.a,{overlay:M(n),trigger:["click"],children:Object(T.jsx)(Fe,{colorBorder:"#D9D9D9",color:e.style.color})})})]})})))}),Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(g.a,{checked:te,onChange:n=>e(Object(k.u)({key:"confirm_before_edit",value:n.target.checked})),children:t("kanbanView.confirmAction")})})})]});case 3:return Object(T.jsxs)("div",{children:[Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:Object(T.jsx)(g.a,{style:{marginBottom:"16px"},value:ce,defaultChecked:ce,onChange:n=>{e(Object(k.u)({key:"uncategorized_column_config",value:{display_fields:{},fields_order:[],style:{color:"#fff"},value:t("kanbanView.uncategorized")}})),e(Object(k.u)({key:"show_uncategorized",value:n.target.checked}))},children:t("kanbanView.uncategorized")})})}),Object(T.jsx)(m.a,{children:Object(T.jsx)(x.a,{span:24,children:ce&&Object(T.jsx)(U,{removeField:he,onDragEndField:Le,listFullObjectField:o,addMoreDisplayField:je,updateDisplayField:pe,changeColor:me,item:ie})})})]});default:return Object(T.jsx)(p.a.Item,{name:"object_id",label:t("object.object"),rules:[{validator:(e,n,t)=>{0===Y.length?t("Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"):t()},required:!0}],valuePropName:Y,children:Object(T.jsx)(d.a,{onChange:n=>{return t=n,e(Object(k.u)({key:"column_field",value:""})),e(Object(k.u)({key:"status_field",value:""})),e(Object(k.u)({key:"object_id",value:t})),void(t&&e(Object(L.rb)({api_version:"2",object_id:t})));var t},value:Y,showSearch:!0,optionFilterProp:"children",filterOption:(e,n)=>n.children?n.children.toLowerCase().indexOf(e.toLowerCase())>=0:n.label?n.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:H&&H.map((e=>{if(e.Status)return e.Status&&Object(T.jsx)(we,{value:e._id,children:e.Name})}))})})}})()})})]})]})};const Ce=D.b.div(de||(de=Object(r.a)(["\n  padding: 1rem;\n  .add-new {\n    width: 100%;\n    border: 1px solid #1fa2a2;\n    color: #1fa2a2;\n    &:hover {\n      background-color: #1fa2a2;\n      color: white;\n    }\n  }\n"]))),ke=Object(D.b)(v.a)(be||(be=Object(r.a)(["\n  .ant-modal-content {\n    border-radius: 10px;\n    button {\n      padding: 0.5rem;\n    }\n    .ant-modal-title {\n      display: none;\n    }\n    .ant-modal-header {\n      background-color: #f2f4f5;\n      border-radius: 10px 10px 0px 0px;\n    }\n    .ant-modal-close-x {\n      width: unset;\n      height: unset;\n      line-height: unset;\n    }\n  }\n  .ant-modal-body {\n    height: 70vh;\n    overflow-y: scroll;\n    padding: 0 24px;\n  }\n  .ant-steps-item-active {\n    .ant-steps-item-icon {\n      background: ",";\n      border-color: ",";\n    }\n\n    .ant-steps-item-title {\n      font-family: var(--roboto-500);\n      color: "," !important;\n    }\n  }\n  .ant-steps-item-wait\n    > .ant-steps-item-container\n    > .ant-steps-item-content\n    > .ant-steps-item-title {\n    font-family: var(--roboto-500);\n    color: #2c2c2c;\n  }\n  .ant-steps-item-finish {\n    .ant-steps-item-icon {\n      border-color: ",";\n    }\n    svg {\n      color: ",";\n    }\n    .ant-steps-item-title {\n      font-family: var(--roboto-500);\n      color: "," !important;\n    }\n    .ant-steps-item-title::after {\n      background-color: "," !important;\n    }\n  }\n  .ant-steps-icon {\n    top: -1.5px;\n  }\n  .ant-steps {\n    margin-top: 40px;\n    margin-bottom: 16px;\n  }\n\n  .ant-steps-item-description {\n    font-size: 16px;\n  }\n  .ant-steps-item-process\n    > .ant-steps-item-container\n    > .ant-steps-item-content\n    > .ant-steps-item-description,\n  .ant-steps-item-finish\n    > .ant-steps-item-container\n    > .ant-steps-item-content\n    > .ant-steps-item-description {\n    color: #2c2c2c;\n  }\n  .ant-modal-footer {\n    border-top: none;\n    padding: 33px 24px;\n\n    button {\n      width: 130px;\n      height: 40px;\n      padding: 1px;\n      border: 1px solid #d9d9d9;\n      &:hover {\n        border: 1px solid ",";\n        color: #ffffff;\n        background-color: ",";\n      }\n    }\n\n    .btn-back {\n      button {\n        border-color: ",";\n        color: ",";\n        &:hover {\n          color: #ffffff;\n        }\n      }\n    }\n\n    .btn-next {\n      button {\n        background-color: ",";\n        color: #ffffff;\n\n        &:hover {\n          background-color: ",";\n        }\n      }\n    }\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker)),_e=D.b.div(je||(je=Object(r.a)(["\n  padding-top: 1rem;\n  label {\n    font-family: var(--roboto-700);\n    font-size: 16px;\n  }\n  .ant-form-item-label {\n    text-align: left !important;\n  }\n\n  .ant-checkbox-wrapper + .ant-checkbox-wrapper {\n    margin-left: 0px;\n  }\n\n  .ant-checkbox-checked .ant-checkbox-inner {\n    background-color: ",";\n    border-color: ",";\n  }\n\n  .ant-checkbox:hover .ant-checkbox-inner,\n  .ant-checkbox:focus .ant-checkbox-inner,\n  .ant-checkbox-wrapper:hover .ant-checkbox-inner,\n  .ant-checkbox-input:focus + .ant-checkbox-inner,\n  .ant-checkbox-checked::after {\n    border-color: "," !important;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main)),Ae=Object(D.b)(x.a)(he||(he=Object(r.a)(["\n  padding: 0.3rem;\n  border: 1px solid #d9d9d9;\n  border-radius: 2px;\n  margin-bottom: 1rem;\n"]))),Fe=D.b.div(pe||(pe=Object(r.a)(["\n  height: 1.5rem;\n  width: 1.5rem;\n  background-color: ",";\n  border: 2px solid ",";\n"])),(e=>e.color),(e=>e.colorBorder)),De=Object(D.b)(y.a)(me||(me=Object(r.a)(["\n  padding: 0.4rem;\n"]))),Be=Object(D.b)(u.a.Item)(xe||(xe=Object(r.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px !important;\n  color: #2c2c2c;\n  cursor: default;\n"])))}}]);
//# sourceMappingURL=107.aba34ce3.chunk.js.map