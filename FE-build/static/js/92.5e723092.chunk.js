(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[92],{1262:function(e,n,t){"use strict";n.a=t.p+"static/media/deleteObject.73bd03c7.png"},1263:function(e,n,t){"use strict";var r,o,a,c,l,i,s,d=t(21),u=t(102),p=t.n(u),m=t(320),b=t.n(m),f=t(1262),j=(t(0),t(39)),h=t(3),g=t(285),O=t(16),x=t(480),v=t(1229),y=t(2);const k=e=>{let{dataDelete:n,title:t,decs:r,methodDelete:o,setShowModalDelete:a,isLoading:c,mask:l,loadData:i,setPositionLogo:s,openConfirm:d,setOpenConfirm:u,type:p,onDelete:m}=e;const b=Object(j.c)(),{t:O}=Object(x.a)(),{showModalConfirmDelete:v}=Object(g.d)((e=>e.globalReducer)),k=()=>{"custom-view"===p&&u(!1),b(Object(h.setShowModalConfirmDelete)(!1)),a&&a(!0)};return Object(y.jsxs)(N,{title:O("common.confirmAction"),visible:"custom-view"===p?d:v,mask:l,onCancel:()=>{k()},width:400,footer:null,children:[Object(y.jsxs)(w,{children:[Object(y.jsx)("img",{alt:"",src:f.a}),Object(y.jsxs)(P,{children:[O("common.confirmDelete")," ",t,"?"]}),Object(y.jsx)(S,{children:r})]}),Object(y.jsxs)(C,{children:[Object(y.jsx)(_,{size:"large",htmlType:"submit",loading:c,onClick:()=>{o&&b(o({...n})),i(),b(Object(h.setShowModalConfirmDelete)(!1)),m&&m(),s&&s(n),"custom-view"===p&&u(!1)},children:O("common.delete")}),Object(y.jsx)(E,{size:"large",onClick:()=>{k()},children:O("common.cancel")})]})]})};n.a=Object(v.a)()(k),k.defaultProps={loadData:()=>{},type:"",openConfirm:!1,setOpenConfirm:()=>{}};const C=O.b.div(r||(r=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 34px;\n"]))),_=Object(O.b)(p.a)(o||(o=Object(d.a)(["\n  background-color: ",";\n  color: #fff;\n  margin-right: 16px;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.darker)),E=Object(O.b)(p.a)(a||(a=Object(d.a)(["\n  background-color: #fff;\n  border-radius: 4px;\n\n  :hover {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker)),w=O.b.div(c||(c=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  img {\n    width: 70px;\n    margin-bottom: 16px;\n  }\n"]))),P=O.b.span(l||(l=Object(d.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px;\n  line-height: 26px;\n  color: #2c2c2c;\n  text-align: center;\n"]))),S=O.b.span(i||(i=Object(d.a)(["\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #595959;\n"]))),N=Object(O.b)(b.a)(s||(s=Object(d.a)(["\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n"])))},1264:function(e,n,t){"use strict";n.a=t.p+"static/media/delete.9999fdd9.svg"},1267:function(e,n,t){"use strict";var r=t(17).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(1269));n.default=o.default},1269:function(e,n,t){"use strict";var r=t(24).default,o=t(17).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(t(44)),c=o(t(34)),l=o(t(108)),i=o(t(11)),s=o(t(236)),d=r(t(0)),u=t(61),p=o(t(251)),m=t(158),b=(o(t(93)),o(t(1270))),f=o(t(1271)),j=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function h(e,n,t,r){var o=t.indexOf(e)===t.length-1,a=function(e,n){if(!e.breadcrumbName)return null;var t=Object.keys(n).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(t,")"),"g"),(function(e,t){return n[t]||e}))}(e,n);return o?d.createElement("span",null,a):d.createElement("a",{href:"#/".concat(r.join("/"))},a)}var g=function(e,n){return e=(e||"").replace(/^\//,""),Object.keys(n).forEach((function(t){e=e.replace(":".concat(t),n[t])})),e},O=function(e,n,t){var r=(0,l.default)(e),o=g(n||"",t);return o&&r.push(o),r},x=function(e){var n,t=e.prefixCls,r=e.separator,o=void 0===r?"/":r,l=e.style,f=e.className,x=e.routes,v=e.children,y=e.itemRender,k=void 0===y?h:y,C=e.params,_=void 0===C?{}:C,E=j(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),w=d.useContext(u.ConfigContext),P=w.getPrefixCls,S=w.direction,N=P("breadcrumb",t);if(x&&x.length>0){var R=[];n=x.map((function(e){var n,t=g(e.path,_);t&&R.push(t),e.children&&e.children.length&&(n=d.createElement(p.default,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:k(e,_,x,O(R,e.path,_))}}))}));var r={separator:o};return n&&(r.overlay=n),d.createElement(b.default,(0,c.default)({},r,{key:t||e.breadcrumbName}),k(e,_,x,R))}))}else v&&(n=(0,s.default)(v).map((function(e,n){return e?(0,m.cloneElement)(e,{separator:o,key:n}):e})));var D=(0,i.default)(N,(0,a.default)({},"".concat(N,"-rtl"),"rtl"===S),f);return d.createElement("nav",(0,c.default)({className:D,style:l},E),d.createElement("ol",null,n))};x.Item=b.default,x.Separator=f.default;n.default=x},1270:function(e,n,t){"use strict";var r=t(24).default,o=t(17).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(t(34)),c=o(t(483)),l=r(t(0)),i=(o(t(93)),t(61)),s=o(t(485)),d=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},u=function(e){var n=e.prefixCls,t=e.separator,r=void 0===t?"/":t,o=e.children,u=e.menu,p=e.overlay,m=e.dropdownProps,b=d(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),f=(0,l.useContext(i.ConfigContext).getPrefixCls)("breadcrumb",n);var j;return j=function(n){if(u||p){var t=(0,a.default)({},m);return"overlay"in e&&(t.overlay=p),l.createElement(s.default,(0,a.default)({menu:u,placement:"bottom"},t),l.createElement("span",{className:"".concat(f,"-overlay-link")},n,l.createElement(c.default,null)))}return n}(j="href"in b?l.createElement("a",(0,a.default)({className:"".concat(f,"-link")},b),o):l.createElement("span",(0,a.default)({className:"".concat(f,"-link")},b),o)),void 0!==o&&null!==o?l.createElement("li",null,j,r&&l.createElement("span",{className:"".concat(f,"-separator")},r)):null};u.__ANT_BREADCRUMB_ITEM=!0;n.default=u},1271:function(e,n,t){"use strict";var r=t(24).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(0)),a=t(61),c=function(e){var n=e.children,t=(0,o.useContext(a.ConfigContext).getPrefixCls)("breadcrumb");return o.createElement("span",{className:"".concat(t,"-separator")},n||"/")};c.__ANT_BREADCRUMB_SEPARATOR=!0;n.default=c},1283:function(e,n,t){"use strict";n.a=t.p+"static/media/edit.688907bc.svg"},1292:function(e,n,t){"use strict";n.a=t.p+"static/media/EmptyObject.65d3750d.webp"},2117:function(e,n,t){"use strict";t.r(n);var r,o,a,c=t(21),l=t(0),i=t(16),s=t(39),d=t(26),u=t(480),p=t(1229),m=t(13),b=t.n(m),f=t(102),j=t.n(f),h=t(399),g=t.n(h),O=t(723),x=t.n(O),v=t(1267),y=t.n(v),k=t(123),C=t.n(k),_=t(1283),E=t(1264),w=t(1292),P=t(4),S=t(320),N=t.n(S),R=t(250),D=t.n(R),M=t(210),I=t.n(M),A=t(719),G=t.n(A),z=t(165),L=t.n(z),F=t(76),T=t(2);var U=Object(p.a)()((function(e){let{showModalGroup:n,onHideModalGroup:t,isEdit:r,setIsEdit:o,getListGroups:a,listAllGroups:c,listRole:i,listAllUser:d}=e;const{t:p}=Object(u.a)(),m=Object(s.c)(),{isLoading:b,groupInfo:f,details:h,isLoadingData:g}=Object(s.d)((e=>e.groupReducer)),[O,x]=Object(l.useState)([]);Object(l.useEffect)((()=>{let e=[];if(c.length>0){let n=[],t=[...c];r&&(t=t.filter((e=>e._id!==h._id))),t.forEach((e=>{n.push({label:e.name,value:e._id})})),e.push({label:"Groups",options:n})}if(i.length>0){let n=[];i.map((e=>n.push({label:e.Name,value:e._id}))),e.push({label:"Roles",options:n})}if(d.length>0){let n=[];d.forEach((e=>{e.Active&&n.push({label:""===e.Middle_Name?e.Last_Name+" "+e.First_Name:e.Last_Name+" "+e.Middle_Name+" "+e.First_Name,value:e._id})})),e.push({label:"Users",options:n})}x(e)}),[c,i,d,r,h]);const[v]=D.a.useForm(),{TextArea:y}=I.a,k=(e,n)=>{if(n){return e.filter((e=>n.includes(e._id))).map((e=>e._id))}},C=()=>{t(),v.resetFields(),o(!1)};return Object(l.useEffect)((()=>{r&&Object.keys(h).length>0&&v.setFieldsValue({group_name:h.name,description:h.description,group_member:h.groups.concat(h.users).concat(h.roles)})}),[m,v,r,h]),Object(l.useEffect)((()=>{!1===b&&("success"===f&&(t(),v.resetFields(),a(),o(!1),Object(P.a)("success",r?"Update successfully!":"Create successfully!"),m(Object(F.q)()),m(Object(F.h)({CurrentPage:1,RecordPerPage:1e3}))),null!==f&&"success"!==f&&(Object(P.a)("error",f),m(Object(F.q)())))}),[m,v,a,f,b,t,o,r]),Object(T.jsx)(q,{title:p(r?"group.editGroup":"group.addGroup"),visible:n,footer:null,width:400,onCancel:C,children:g?Object(T.jsx)(J,{children:Object(T.jsx)(L.a,{})}):Object(T.jsxs)(D.a,{form:v,onFinish:e=>{m(r?Object(F.r)({active:!0,_id:h._id,description:e.description,name:e.group_name.trim(),groups:k(c,e.group_member)||[],roles:k(i,e.group_member)||[],users:k(d,e.group_member)||[]}):Object(F.a)({active:!0,description:e.description,name:e.group_name.trim(),groups:k(c,e.group_member)||[],roles:k(i,e.group_member)||[],users:k(d,e.group_member)||[]}))},labelCol:{span:10},wrapperCol:{span:14},colon:!1,labelAlign:"left",children:[Object(T.jsx)(D.a.Item,{label:p("group.groupName"),name:"group_name",rules:[{required:!0,message:p("common.placeholderInput")}],children:Object(T.jsx)(I.a,{placeholder:p("common.placeholderInput")})}),Object(T.jsx)(D.a.Item,{label:p("common.description"),name:"description",children:Object(T.jsx)(y,{rows:6,placeholder:p("common.placeholderInput")})}),Object(T.jsx)(D.a.Item,{label:p("group.groupMember"),name:"group_member",children:Object(T.jsx)(G.a,{options:O,placeholder:p("common.placeholderSelect"),mode:"multiple",optionFilterProp:"label"})}),Object(T.jsxs)(B,{label:" ",children:[Object(T.jsx)(j.a,{type:"primary",htmlType:"submit",loading:b,children:p("common.save")}),Object(T.jsx)(j.a,{onClick:C,children:p("common.cancel")})]})]})})}));const q=Object(i.b)(N.a)(r||(r=Object(c.a)(["\n  .ant-modal-content {\n    border-radius: 10px;\n  }\n\n  .ant-modal-header {\n    border-radius: 10px 10px 0 0;\n    background: #f2f4f5;\n    padding: 7px 24px;\n  }\n\n  .ant-modal-title {\n    font-family: var(--roboto-700);\n  }\n\n  .ant-modal-close-x {\n    height: 36.6px;\n    line-height: 36.6px;\n\n    .anticon {\n      color: #141414;\n    }\n  }\n\n  .ant-form-item-label > label {\n    font-size: 16px;\n    color: #2c2c2c;\n  }\n"]))),B=Object(i.b)(D.a.Item)(o||(o=Object(c.a)(["\n  margin-bottom: 0;\n\n  .ant-btn {\n    font-size: 16px;\n    height: unset;\n\n    :hover {\n      background: ",";\n      color: #fff;\n    }\n  }\n\n  .ant-form-item-control-input-content {\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .ant-btn-primary {\n    margin-right: 16px;\n    background: ",";\n    border: 1px solid ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main)),J=i.b.div(a||(a=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n\n  .ant-spin-dot-item {\n    background-color: ",";\n  }\n"])),(e=>e.theme.main));var H,Q,V,K,W,X,Y,Z=t(1263),$=t(3),ee=t(63);n.default=Object(p.a)()((function(e){const{t:n}=Object(u.a)(),t=Object(d.o)(),r=Object(s.c)(),{Column:o}=g.a,{userRuleGlobal:a}=Object(s.d)((e=>e.userReducer)),{isLoading:c,listGroups:i,listAllGroups:p,totalRecords:m,statusDelete:f}=Object(s.d)((e=>e.groupReducer)),{listRole:j,listAllUser:h}=Object(s.d)((e=>e.userReducer)),[O,v]=Object(l.useState)(!1),[k,S]=Object(l.useState)([]),[N,R]=Object(l.useState)(!1),[D,M]=Object(l.useState)({}),[I,A]=Object(l.useState)(1),[G,z]=Object(l.useState)(10);Object(l.useEffect)((()=>{r(Object(ee.b)(n("settings.group")))}),[n]);const L=e=>!!a.find((n=>"group"===b.a.get(n,"domain","")&&n.actions.includes(e))),q=()=>{v(!0)},B=Object(l.useCallback)((()=>{r(Object(F.o)({CurrentPage:I,RecordPerPage:G}))}),[r,I,G]);return Object(l.useEffect)((()=>{r(Object(F.k)())}),[r]),Object(l.useEffect)((()=>{B()}),[B]),Object(l.useEffect)((()=>{let e=[];i.map((n=>e.push({key:n._id,name:n.name,description:n.description,action:""}))),S(e)}),[i]),Object(l.useEffect)((()=>{c||("success"===f&&(r(Object($.setShowModalConfirmDelete)(!1)),Object(P.a)("success","Delete successfully!"),r(Object(F.q)()),B(),r(Object(F.h)({CurrentPage:1,RecordPerPage:1e3}))),null!==f&&"success"!==f&&(Object(P.a)("error",f),r(Object(F.q)())))}),[r,B,c,f]),Object(T.jsxs)(ne,{children:[Object(T.jsxs)(te,{children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(y.a.Item,{onClick:()=>t("/settings"),children:n("settings.settings")}),Object(T.jsx)(re,{children:n("settings.group")})]}),k.length>0&&L("create")&&Object(T.jsxs)(oe,{onClick:q,children:["+ ",n("group.addGroup")]})]}),k.length>0?Object(T.jsxs)(ae,{children:[Object(T.jsxs)(g.a,{pagination:!1,dataSource:k,children:[Object(T.jsx)(o,{title:n("group.groupName"),dataIndex:"name",sorter:(e,n)=>e.name.localeCompare(n.name)},"name"),Object(T.jsx)(o,{title:n("common.description"),dataIndex:"description",sorter:(e,n)=>{var t;return null===(t=e.description)||void 0===t?void 0:t.localeCompare(n.description)}},"description"),(L("edit")||L("delete"))&&Object(T.jsx)(o,{title:n("common.action"),dataIndex:"action",render:(e,t)=>Object(T.jsxs)(ce,{children:[L("edit")&&Object(T.jsx)(C.a,{title:n("common.edit"),children:Object(T.jsx)("img",{onClick:()=>{return e=t.key,R(!0),v(!0),void r(Object(F.l)({group_id:e}));var e},src:_.a,alt:"edit"})}),L("delete")&&Object(T.jsx)(C.a,{title:n("common.delete"),children:Object(T.jsx)("img",{onClick:()=>{return e=t.key,M({group_id:e}),void r(Object($.setShowModalConfirmDelete)(!0));var e},src:E.a,alt:"delete"})})]})},"action")]}),Object(T.jsx)(x.a,{showTotal:()=>"".concat(n("common.total")," ").concat(m," ").concat(n("common.items")),current:I,pageSize:G,total:m,onChange:e=>{A(e)},showSizeChanger:!0,onShowSizeChange:(e,n)=>{z(n)},showQuickJumper:!0})]}):Object(T.jsxs)(le,{children:[Object(T.jsx)("img",{src:w.a,alt:"empty"}),Object(T.jsxs)("p",{children:[n("object.noObject")," ",Object(T.jsx)("span",{children:n("settings.group")})]}),L("create")&&Object(T.jsxs)(oe,{onClick:q,children:["+ ",n("group.addGroup")]})]}),Object(T.jsx)(U,{showModalGroup:O,onHideModalGroup:()=>{v(!1)},isEdit:N,setIsEdit:R,getListGroups:B,listAllGroups:p,listRole:j,listAllUser:h}),Object(T.jsx)(Z.a,{title:"",decs:n("common.descriptionDelete"),methodDelete:F.e,dataDelete:D,isLoading:c})]})}));const ne=i.b.div(H||(H=Object(c.a)(["\n  padding: 16px 24px;\n\n  .ant-breadcrumb-link {\n    cursor: pointer;\n  }\n"]))),te=i.b.div(Q||(Q=Object(c.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),re=Object(i.b)(y.a.Item)(V||(V=Object(c.a)(["\n  font-family: var(--roboto-500);\n  font-size: 18px !important;\n  color: #2c2c2c;\n  cursor: default;\n"]))),oe=Object(i.b)(j.a)(K||(K=Object(c.a)(["\n  background: ",";\n  border: 1px solid ",";\n  height: 40px;\n\n  span {\n    color: #fff !important;\n    font-size: 16px;\n  }\n\n  :hover {\n    background: ","!important;\n    color: #fff !important;\n  }\n\n  :active {\n    background: ",";\n    color: #fff;\n  }\n\n  :focus {\n    background: ",";\n    color: #fff;\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main)),ae=i.b.div(W||(W=Object(c.a)(["\n  background: #fff;\n  padding: 24px;\n  margin-top: 16px;\n\n  .ant-table-thead > tr > th {\n    font-size: 16px;\n    color: #2c2c2c;\n    background: #f0f0f0;\n    border-right: 1px solid #d9d9d9;\n    border-bottom: 1px solid #d9d9d9;\n    padding: 8.5px 16px;\n\n    :before {\n      display: none;\n    }\n\n    :first-child {\n      border-left: 1px solid #d9d9d9;\n    }\n  }\n\n  .ant-table-tbody > tr > td {\n    font-size: 16px;\n    color: #2c2c2c;\n    padding: 8.5px 16px;\n\n    :first-child {\n      border-left: 1px solid #d9d9d9;\n    }\n\n    :last-child {\n      border-right: 1px solid #d9d9d9;\n    }\n  }\n\n  .ant-table-cell {\n    :first-child {\n      width: 50%;\n    }\n\n    :nth-child(2) {\n      width: 30%;\n    }\n  }\n\n  .ant-pagination {\n    width: 100%;\n    background: #fff;\n    padding: 16px 24px 0 16px;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .ant-pagination-item-active {\n    border-color: ",";\n\n    a {\n      color: ",";\n    }\n  }\n\n  .ant-pagination-item:hover {\n    border-color: ",";\n\n    a {\n      color: ",";\n    }\n  }\n\n  .ant-pagination-next:hover .ant-pagination-item-link {\n    color: ",";\n    border-color: ",";\n  }\n\n  .ant-pagination-prev:hover .ant-pagination-item-link {\n    color: ",";\n    border-color: ",";\n  }\n"])),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker)),ce=i.b.div(X||(X=Object(c.a)(["\n  img {\n    cursor: pointer;\n    margin-left: 8px;\n\n    :hover {\n      background: #eeeeee;\n    }\n  }\n"]))),le=i.b.div(Y||(Y=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 24px;\n  font-size: 16px;\n\n  p {\n    color: #2c2c2c;\n    margin-bottom: 16px;\n  }\n\n  span {\n    color: ",";\n  }\n\n  img {\n    margin-bottom: 8px;\n  }\n"])),(e=>e.theme.main))}}]);
//# sourceMappingURL=92.5e723092.chunk.js.map