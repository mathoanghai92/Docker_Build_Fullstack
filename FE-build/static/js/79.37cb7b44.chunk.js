(this["webpackJsonpcrm-v3"]=this["webpackJsonpcrm-v3"]||[]).push([[79],{1267:function(e,t,a){"use strict";var n=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1269));t.default=r.default},1269:function(e,t,a){"use strict";var n=a(24).default,r=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(44)),o=r(a(34)),l=r(a(108)),s=r(a(11)),c=r(a(236)),d=n(a(0)),u=a(61),p=r(a(251)),f=a(158),g=(r(a(93)),r(a(1270))),m=r(a(1271)),b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function h(e,t,a,n){var r=a.indexOf(e)===a.length-1,i=function(e,t){if(!e.breadcrumbName)return null;var a=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(a,")"),"g"),(function(e,a){return t[a]||e}))}(e,t);return r?d.createElement("span",null,i):d.createElement("a",{href:"#/".concat(n.join("/"))},i)}var x=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(a){e=e.replace(":".concat(a),t[a])})),e},v=function(e,t,a){var n=(0,l.default)(e),r=x(t||"",a);return r&&n.push(r),n},j=function(e){var t,a=e.prefixCls,n=e.separator,r=void 0===n?"/":n,l=e.style,m=e.className,j=e.routes,y=e.children,_=e.itemRender,O=void 0===_?h:_,w=e.params,C=void 0===w?{}:w,k=b(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),N=d.useContext(u.ConfigContext),E=N.getPrefixCls,z=N.direction,I=E("breadcrumb",a);if(j&&j.length>0){var S=[];t=j.map((function(e){var t,a=x(e.path,C);a&&S.push(a),e.children&&e.children.length&&(t=d.createElement(p.default,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:O(e,C,j,v(S,e.path,C))}}))}));var n={separator:r};return t&&(n.overlay=t),d.createElement(g.default,(0,o.default)({},n,{key:a||e.breadcrumbName}),O(e,C,j,S))}))}else y&&(t=(0,c.default)(y).map((function(e,t){return e?(0,f.cloneElement)(e,{separator:r,key:t}):e})));var M=(0,s.default)(I,(0,i.default)({},"".concat(I,"-rtl"),"rtl"===z),m);return d.createElement("nav",(0,o.default)({className:M,style:l},k),d.createElement("ol",null,t))};j.Item=g.default,j.Separator=m.default;t.default=j},1270:function(e,t,a){"use strict";var n=a(24).default,r=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(34)),o=r(a(483)),l=n(a(0)),s=(r(a(93)),a(61)),c=r(a(485)),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},u=function(e){var t=e.prefixCls,a=e.separator,n=void 0===a?"/":a,r=e.children,u=e.menu,p=e.overlay,f=e.dropdownProps,g=d(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),m=(0,l.useContext(s.ConfigContext).getPrefixCls)("breadcrumb",t);var b;return b=function(t){if(u||p){var a=(0,i.default)({},f);return"overlay"in e&&(a.overlay=p),l.createElement(c.default,(0,i.default)({menu:u,placement:"bottom"},a),l.createElement("span",{className:"".concat(m,"-overlay-link")},t,l.createElement(o.default,null)))}return t}(b="href"in g?l.createElement("a",(0,i.default)({className:"".concat(m,"-link")},g),r):l.createElement("span",(0,i.default)({className:"".concat(m,"-link")},g),r)),void 0!==r&&null!==r?l.createElement("li",null,b,n&&l.createElement("span",{className:"".concat(m,"-separator")},n)):null};u.__ANT_BREADCRUMB_ITEM=!0;t.default=u},1271:function(e,t,a){"use strict";var n=a(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=a(61),o=function(e){var t=e.children,a=(0,r.useContext(i.ConfigContext).getPrefixCls)("breadcrumb");return r.createElement("span",{className:"".concat(a,"-separator")},t||"/")};o.__ANT_BREADCRUMB_SEPARATOR=!0;t.default=o},1302:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(720);t.default=n.Col},1340:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(720);t.default=n.Row},1356:function(e,t,a){"use strict";var n=a(10),r=a(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},o=a(40),l=function(e,t){return r.createElement(o.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:i}))};l.displayName="DownloadOutlined";t.a=r.forwardRef(l)},1567:function(e,t,a){"use strict";var n=a(24).default,r=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(34)),o=r(a(44)),l=r(a(11)),s=n(a(0)),c=a(61),d=(r(a(93)),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a});t.default=function(e){var t=s.useContext(c.ConfigContext),a=t.getPrefixCls,n=t.direction,r=e.prefixCls,u=e.type,p=void 0===u?"horizontal":u,f=e.orientation,g=void 0===f?"center":f,m=e.orientationMargin,b=e.className,h=e.children,x=e.dashed,v=e.plain,j=d(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),y=a("divider",r),_=g.length>0?"-".concat(g):g,O=!!h,w="left"===g&&null!=m,C="right"===g&&null!=m,k=(0,l.default)(y,"".concat(y,"-").concat(p),(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},"".concat(y,"-with-text"),O),"".concat(y,"-with-text").concat(_),O),"".concat(y,"-dashed"),!!x),"".concat(y,"-plain"),!!v),"".concat(y,"-rtl"),"rtl"===n),"".concat(y,"-no-default-orientation-margin-left"),w),"".concat(y,"-no-default-orientation-margin-right"),C),b),N=(0,i.default)((0,i.default)({},w&&{marginLeft:m}),C&&{marginRight:m});return s.createElement("div",(0,i.default)({className:k},j,{role:"separator"}),h&&"vertical"!==p&&s.createElement("span",{className:"".concat(y,"-inner-text"),style:N},h))}},1649:function(e,t,a){"use strict";var n=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var r=n(a(1650)),i=n(a(1763)),o=r.default;o.Group=i.default;t.default=o},1650:function(e,t,a){"use strict";var n=a(24).default,r=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(34)),o=r(a(44)),l=r(a(25)),s=r(a(49)),c=r(a(11)),d=r(a(112)),u=a(179),p=n(a(0)),f=a(61),g=r(a(408)),m=a(516),b=(r(a(93)),r(a(1651))),h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},x=function(e,t){var a=p.useContext(b.default),n=p.useState(1),r=(0,s.default)(n,2),x=r[0],v=r[1],j=p.useState(!1),y=(0,s.default)(j,2),_=y[0],O=y[1],w=p.useState(!0),C=(0,s.default)(w,2),k=C[0],N=C[1],E=p.useRef(null),z=p.useRef(null),I=(0,u.composeRef)(t,E),S=p.useContext(f.ConfigContext).getPrefixCls,M=function(){if(z.current&&E.current){var t=z.current.offsetWidth,a=E.current.offsetWidth;if(0!==t&&0!==a){var n=e.gap,r=void 0===n?4:n;2*r<a&&v(a-2*r<t?(a-2*r)/t:1)}}};p.useEffect((function(){O(!0)}),[]),p.useEffect((function(){N(!0),v(1)}),[e.src]),p.useEffect((function(){M()}),[e.gap]);var P,A=e.prefixCls,R=e.shape,F=void 0===R?"circle":R,q=e.size,D=void 0===q?"default":q,L=e.src,T=e.srcSet,V=e.icon,H=e.className,W=e.alt,B=e.draggable,Y=e.children,G=e.crossOrigin,U=h(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),J="default"===D?a:D,Q=Object.keys("object"===(0,l.default)(J)&&J||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),X=(0,g.default)(Q),K=p.useMemo((function(){if("object"!==(0,l.default)(J))return{};var e=m.responsiveArray.find((function(e){return X[e]})),t=J[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:V?t/2:18}:{}}),[X,J]),Z=S("avatar",A),$=(0,c.default)((0,o.default)((0,o.default)({},"".concat(Z,"-lg"),"large"===J),"".concat(Z,"-sm"),"small"===J)),ee=p.isValidElement(L),te=(0,c.default)(Z,$,(0,o.default)((0,o.default)((0,o.default)({},"".concat(Z,"-").concat(F),!!F),"".concat(Z,"-image"),ee||L&&k),"".concat(Z,"-icon"),!!V),H),ae="number"===typeof J?{width:J,height:J,lineHeight:"".concat(J,"px"),fontSize:V?J/2:18}:{};if("string"===typeof L&&k)P=p.createElement("img",{src:L,draggable:B,srcSet:T,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&N(!1)},alt:W,crossOrigin:G});else if(ee)P=L;else if(V)P=V;else if(_||1!==x){var ne="scale(".concat(x,") translateX(-50%)"),re={msTransform:ne,WebkitTransform:ne,transform:ne},ie="number"===typeof J?{lineHeight:"".concat(J,"px")}:{};P=p.createElement(d.default,{onResize:M},p.createElement("span",{className:"".concat(Z,"-string"),ref:z,style:(0,i.default)((0,i.default)({},ie),re)},Y))}else P=p.createElement("span",{className:"".concat(Z,"-string"),style:{opacity:0},ref:z},Y);return delete U.onError,delete U.gap,p.createElement("span",(0,i.default)({},U,{style:(0,i.default)((0,i.default)((0,i.default)({},ae),K),U.style),className:te,ref:I}),P)},v=p.forwardRef(x);t.default=v},1651:function(e,t,a){"use strict";var n=a(24).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SizeContextProvider=void 0;var r=n(a(0)),i=r.createContext("default");t.SizeContextProvider=function(e){var t=e.children,a=e.size;return r.createElement(i.Consumer,null,(function(e){return r.createElement(i.Provider,{value:a||e},t)}))},t.default=i},1763:function(e,t,a){"use strict";var n=a(24).default,r=a(17).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(44)),o=r(a(11)),l=r(a(236)),s=n(a(0)),c=a(61),d=r(a(189)),u=a(158),p=r(a(1650)),f=a(1651);t.default=function(e){var t=s.useContext(c.ConfigContext),a=t.getPrefixCls,n=t.direction,r=e.prefixCls,g=e.className,m=void 0===g?"":g,b=e.maxCount,h=e.maxStyle,x=e.size,v=a("avatar-group",r),j=(0,o.default)(v,(0,i.default)({},"".concat(v,"-rtl"),"rtl"===n),m),y=e.children,_=e.maxPopoverPlacement,O=void 0===_?"top":_,w=e.maxPopoverTrigger,C=void 0===w?"hover":w,k=(0,l.default)(y).map((function(e,t){return(0,u.cloneElement)(e,{key:"avatar-key-".concat(t)})})),N=k.length;if(b&&b<N){var E=k.slice(0,b),z=k.slice(b,N);return E.push(s.createElement(d.default,{key:"avatar-popover-key",content:z,trigger:C,placement:O,overlayClassName:"".concat(v,"-popover")},s.createElement(p.default,{style:h},"+".concat(N-b)))),s.createElement(f.SizeContextProvider,{size:x},s.createElement("div",{className:j,style:e.style},E))}return s.createElement(f.SizeContextProvider,{size:x},s.createElement("div",{className:j,style:e.style},k))}},2078:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),i=a(480),o=a(1229),l=a(26),s=a(39),c=a(13),d=a.n(c),u=a(1267),p=a.n(u),f=a(719),g=a.n(f),m=a(210),b=a.n(m),h=a(723),x=a.n(h),v=a(1356),j=a(105),y=a(76),_=a(1567),O=a.n(_),w=a(1649),C=a.n(w),k=a(1340),N=a.n(k),E=a(1302),z=a.n(E),I=a.p+"static/media/monitorCall.8fe87022.svg",S=a.p+"static/media/monitorCallNotReady.9e5a6ca6.svg",M=a.p+"static/media/monitorIC.36406ebb.svg",P=a(287),A=a(5),R=a(2);var F=function(e){let{_onGetUserLog:t,agentDetails:a,userStatus:n}=e;return Object(R.jsx)(q,{children:Object(R.jsx)(N.a,{gutter:[16,16],children:d.a.map(d.a.get(n,"data"),((e,n)=>{var r,i;return Object(R.jsx)(z.a,{children:Object(R.jsxs)(L,{onClick:t(e),active:d.a.isEqual(d.a.get(a,"_id",""),d.a.get(e,"_id",n)),children:[Object(R.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[Object(R.jsx)(D,{status:d.a.get(e,"user_status.crm_status",""),children:Object(R.jsx)(C.a,{src:Object(R.jsx)("img",{src:d.a.get(e,"avatar_config.url","")?A.c+d.a.get(e,"avatar_config.url",""):P.a,alt:""}),style:{marginRight:"8px"},size:"large"})}),Object(R.jsxs)("div",{style:{flex:1},children:[Object(R.jsx)(T,{status:d.a.get(e,"status",""),children:d.a.get(e,"Full_Name","")}),d.a.isEqual(d.a.get(e,"user_status.crm_status",""),"offline")&&Object(R.jsxs)(V,{children:["Truy c\u1eadp l\u1ea7n cu\u1ed1i:"," ",d.a.get(e,"user_status.recent_access","")]})]})]}),Object(R.jsx)(O.a,{style:{marginTop:"16px",marginBottom:"11px"}}),Object(R.jsxs)(H,{children:[(!d.a.isEmpty(d.a.get(e,"cti_integration",[]))||!d.a.isEmpty(d.a.get(e,"finesse_integration",[])))&&Object(R.jsxs)(W,{children:[Object(R.jsx)("img",{src:d.a.isEqual(d.a.get(e,"user_status.crm_status",""),"offline")||null!==(r=d.a.get(e,"user_status.call_status",""))&&void 0!==r&&r.includes("Not ready")||null!==(i=d.a.get(e,"user_status.call_status",""))&&void 0!==i&&i.includes("Not Ready")?S:I,alt:"MonitorCall"}),d.a.isEqual(d.a.get(e,"user_status.crm_status",""),"offline")?Object(R.jsxs)(R.Fragment,{children:["Ext:\xa0",d.a.get(e,"finesse_integration[0].extension",d.a.get(e,"cti_integration[0].extension",""))]}):Object(R.jsx)(R.Fragment,{children:d.a.get(e,"user_status.call_status","")})]}),("basic"===d.a.get(e,"ic_integration[0].authen_type","")||"sso"===d.a.get(e,"ic_integration[0].authen_type",""))&&Object(R.jsxs)(B,{children:[Object(R.jsx)("img",{src:M,alt:"MonitorIC"}),d.a.get(e,"user_status.ic_status","")]})]})]})},d.a.get(e,"_id",n))}))})})};const q=n.b.div.withConfig({displayName:"listAgents__Wrapper",componentId:"sc-b8wvvr-0"})(["display:flex;flex-direction:column;"]),D=n.b.div.withConfig({displayName:"listAgents__WrapAvatar",componentId:"sc-b8wvvr-1"})(["position:relative;&::after{position:absolute;background:",';content:"";width:13px;height:13px;border-radius:50%;right:8px;bottom:0;border:1px solid #fff;}'],(e=>{let{status:t}=e;return"online"===t?"#0bb865":"busy"===t?"#D48806":"#8C8C8C"})),L=n.b.div.withConfig({displayName:"listAgents__Wrap",componentId:"sc-b8wvvr-2"})(["padding:16px 24px 8px 16px;width:392px;height:115px;box-shadow:0px 8px 16px rgba(0,0,0,0.05);border-radius:10px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer;background:",";border:",";:hover{background:rgba(32,162,162,0.05);box-shadow:0px 8px 16px rgba(0,0,0,0.05);}"],(e=>{let{active:t}=e;return t?"rgba(32, 162, 162, 0.05)":"#fff"}),(e=>e.active?"1px solid ".concat(e.theme.main):"none")),T=n.b.div.withConfig({displayName:"listAgents__Name",componentId:"sc-b8wvvr-3"})(["color:#2c2c2c;font-family:var(--roboto-500);font-size:16px;line-height:22px;"]),V=n.b.div.withConfig({displayName:"listAgents__LastOnline",componentId:"sc-b8wvvr-4"})(["font-size:12px;line-height:16px;color:#6b6b6b;"]),H=n.b.div.withConfig({displayName:"listAgents__Status3rd",componentId:"sc-b8wvvr-5"})(["display:flex;"]),W=n.b.div.withConfig({displayName:"listAgents__StatusCall",componentId:"sc-b8wvvr-6"})(["display:flex;align-items:center;font-family:var(--roboto-500);font-size:14px;flex:1;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;img{margin-right:8px;}"]),B=Object(n.b)(W).withConfig({displayName:"listAgents__StatusIC",componentId:"sc-b8wvvr-7"})([""]);var Y=a(323),G=a(164),U=a.n(G),J=a(123),Q=a.n(J),X=a(165),K=a.n(X);var Z=function(e){var t,a;let{agentDetails:n}=e;const r=Object(s.c)(),{userStatusLog:i,hasMoreLog:o,currentPageLog:l}=Object(s.d)((e=>e.agentMonitorReducer));return Object(R.jsxs)($,{show:!d.a.isEmpty(n),children:[Object(R.jsxs)(ee,{show:!d.a.isEmpty(n),children:[Object(R.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[Object(R.jsx)(C.a,{src:d.a.get(n,"avatar_config.url","")?A.c+d.a.get(n,"avatar_config.url",""):P.a,style:{marginRight:"8px"},size:"large"}),Object(R.jsxs)("div",{style:{flex:1},children:[Object(R.jsx)(te,{children:d.a.get(n,"Full_Name","")}),Object(R.jsx)("div",{style:{display:"flex"},children:(!d.a.isEmpty(d.a.get(n,"cti_integration",[]))||!d.a.isEmpty(d.a.get(n,"finesse_integration",[])))&&Object(R.jsxs)(ae,{children:["Extension:"," ",d.a.get(n,"finesse_integration[0].extension",d.a.get(n,"cti_integration[0].extension","")),"\xa0 \xa0"]})})]}),Object(R.jsx)(oe,{status:d.a.get(n,"user_status.crm_status",""),children:d.a.get(n,"user_status.crm_status","")})]}),Object(R.jsx)(O.a,{style:{marginTop:"16px",marginBottom:"11px"}}),Object(R.jsxs)(ne,{children:[(!d.a.isEmpty(d.a.get(n,"cti_integration",[]))||!d.a.isEmpty(d.a.get(n,"finesse_integration",[])))&&Object(R.jsxs)(re,{children:[Object(R.jsx)("img",{src:d.a.isEqual(d.a.get(n,"user_status.crm_status",""),"offline")||null!==(t=d.a.get(n,"user_status.call_status",""))&&void 0!==t&&t.includes("Not ready")||null!==(a=d.a.get(n,"user_status.call_status",""))&&void 0!==a&&a.includes("Not Ready")?S:I,alt:"MonitorCall"}),d.a.get(n,"user_status.call_status","")]}),("basic"===d.a.get(n,"ic_integration[0].authen_type","")||"sso"===d.a.get(n,"ic_integration[0].authen_type",""))&&Object(R.jsxs)(ie,{children:[Object(R.jsx)("img",{src:M,alt:"MonitorIC"}),d.a.get(n,"user_status.ic_status","")]})]})]}),Object(R.jsxs)(se,{children:[Object(R.jsxs)(ce,{children:[Object(R.jsx)(ue,{children:"Status"}),Object(R.jsx)(ue,{children:"Time"}),Object(R.jsx)(ue,{children:"Duration"})]}),Object(R.jsx)(de,{id:"statusLog",children:Object(R.jsx)(Y.a,{dataLength:i.length,scrollableTarget:"statusLog",loader:Object(R.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"8px"},children:Object(R.jsx)(K.a,{})}),hasMore:o,next:()=>{let e=l+1;i.length>0&&(r(Object(j.i)(e)),r(Object(j.f)({payload:{search_data:{},limit:20,page:e},user_id:d.a.get(i[0],"user_id","")})))},children:i.map(((e,t)=>Object(R.jsxs)(pe,{children:[Object(R.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",marginLeft:"16px"},children:Object(R.jsxs)(le,{status:d.a.get(e,"status_name",""),children:[Object(R.jsx)(Q.a,{title:d.a.get(e,"status_name",""),children:d.a.get(e,"status_name","")}),Object(R.jsxs)("span",{style:{textTransform:"uppercase"},children:["\xa0 - ",d.a.get(e,"status_type","")]})]})}),Object(R.jsx)(fe,{children:U()(d.a.get(e,"created_date","")).isSame(U()(),"day")?Object(R.jsx)(R.Fragment,{children:U()(d.a.get(e,"created_date","")).format("HH:mm:ss")}):Object(R.jsx)(R.Fragment,{children:U()(d.a.get(e,"created_date","")).format("HH:mm:ss, DD-MM-YYYY")})}),Object(R.jsx)(ge,{children:d.a.get(e,"duration","")})]},d.a.get(e,"_id",t))))})})]})]})};const $=n.b.div.withConfig({displayName:"detailsAgent__Wrapper",componentId:"sc-q0stz7-0"})(["background:#fff;box-shadow:0px 8px 16px rgba(0,0,0,0.05);border-radius:10px;transition:all 0.4s ease-in-out;visibility:",";opacity:",";width:",";min-width:",";height:",";padding:",";margin-left:",";.ant-spin-dot-item{background-color:",";}"],(e=>{let{show:t}=e;return t?"visible":"hidden"}),(e=>{let{show:t}=e;return t?"1":"0"}),(e=>{let{show:t}=e;return t?"570px":"0"}),(e=>{let{show:t}=e;return t?"570px":"0"}),(e=>{let{show:t}=e;return t?"calc(100vh - 220px)":"0"}),(e=>{let{show:t}=e;return t?"16px":"0"}),(e=>{let{show:t}=e;return t?"24px":"0"}),(e=>e.theme.main)),ee=n.b.div.withConfig({displayName:"detailsAgent__Wrap",componentId:"sc-q0stz7-1"})(["display:flex;flex-direction:column;justify-content:space-between;height:",";"],(e=>{let{show:t}=e;return t?"fit-content":"0"})),te=n.b.div.withConfig({displayName:"detailsAgent__Name",componentId:"sc-q0stz7-2"})(["color:#2c2c2c;font-family:var(--roboto-500);font-size:16px;line-height:22px;"]),ae=n.b.div.withConfig({displayName:"detailsAgent__Extension",componentId:"sc-q0stz7-3"})(["font-size:12px;line-height:16px;color:#6b6b6b;"]),ne=n.b.div.withConfig({displayName:"detailsAgent__Status3rd",componentId:"sc-q0stz7-4"})(["display:flex;margin-bottom:20px;"]),re=n.b.div.withConfig({displayName:"detailsAgent__StatusCall",componentId:"sc-q0stz7-5"})(["display:flex;align-items:center;font-family:var(--roboto-500);font-size:14px;margin-right:24px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;span{font-family:var(--roboto-400);}img{margin-right:8px;}"]),ie=Object(n.b)(re).withConfig({displayName:"detailsAgent__StatusIC",componentId:"sc-q0stz7-6"})(["margin-right:0;"]),oe=n.b.div.withConfig({displayName:"detailsAgent__Status",componentId:"sc-q0stz7-7"})(["position:relative;font-size:16px;letter-spacing:0.01em;line-height:130%;color:#2c2c2c;text-transform:capitalize;&::after{position:absolute;background:",';content:"";width:10px;height:10px;border-radius:50%;left:-15px;top:5px;}'],(e=>{let{status:t}=e;return"online"===t?"#0BB865":"busy"===t?"#D48806":"#8C8C8C"})),le=n.b.div.withConfig({displayName:"detailsAgent__ColorStatus",componentId:"sc-q0stz7-8"})(["padding:2px 8px;width:fit-content;height:25px;background:",";color:",";border-radius:2px;text-align:center;font-size:16px;line-height:130%;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;text-transform:capitalize;"],(e=>{let{status:t}=e;return"online"===t||"Ready"===t||"available"===t?"rgba(11, 184, 101, 0.1)":null!==t&&void 0!==t&&t.includes("Not ready")||null!==t&&void 0!==t&&t.includes("Not Ready")||null!==t&&void 0!==t&&t.includes("not_ready")?"rgba(207, 19, 34, 0.1)":"busy"===t?"rgba(212, 136, 6, 0.1)":"#D9D9D9"}),(e=>{let{status:t}=e;return"online"===t||"Ready"===t||"available"===t?"#0bb865":null!==t&&void 0!==t&&t.includes("Not ready")||null!==t&&void 0!==t&&t.includes("Not Ready")||null!==t&&void 0!==t&&t.includes("not_ready")?"#CF1322":"busy"===t?"#D48806":"#2C2C2C"})),se=n.b.div.withConfig({displayName:"detailsAgent__WrapHistory",componentId:"sc-q0stz7-9"})([""]),ce=n.b.div.withConfig({displayName:"detailsAgent__Header",componentId:"sc-q0stz7-10"})(["display:flex;"]),de=n.b.div.withConfig({displayName:"detailsAgent__Content",componentId:"sc-q0stz7-11"})(["height:calc(100vh - 380px);overflow:auto;::-webkit-scrollbar{width:8px;}::-webkit-scrollbar-track{background:#d9d9d9;}::-webkit-scrollbar-thumb{background:#bfbfbf;}"]),ue=n.b.div.withConfig({displayName:"detailsAgent__Title",componentId:"sc-q0stz7-12"})(["background:#fafafa;box-shadow:-18px 0px 0px -17px rgba(0,0,0,0.06);flex:1;font-weight:500;font-size:16px;color:#2c2c2c;height:40px;display:flex;align-items:center;border-right:1px solid #d9d9d9;padding-left:16px;&:first-child{margin-left:0;}&:last-child{border-right:none;}"]),pe=n.b.div.withConfig({displayName:"detailsAgent__History",componentId:"sc-q0stz7-13"})(["display:flex;height:38px;border-bottom:1px solid #ededed;"]),fe=n.b.div.withConfig({displayName:"detailsAgent__Time",componentId:"sc-q0stz7-14"})(["flex:1;display:flex;align-items:center;margin-left:16px;"]),ge=Object(n.b)(fe).withConfig({displayName:"detailsAgent__Duration",componentId:"sc-q0stz7-15"})([""]);var me=a(157),be=a(28),he=a(148),xe=a(317),ve=a(2074),je=a(1252),ye=a(389),_e=a(284),Oe=a(1254),we=a.p+"static/media/csv.d036d708.svg",Ce=a.p+"static/media/excel.c33aae60.svg",ke=a(4);const{Option:Ne}=xe.a,{RangePicker:Ee}=ve.a;var ze=e=>{let{visible:t,setVisible:a}=e;const n=Object(s.c)(),{t:o}=Object(i.a)(),{listAllUser:l}=Object(s.d)((e=>e.userReducer)),[c]=je.a.useForm(),[d,u]=Object(r.useState)(!1),p=()=>{a(!1),c.resetFields()};return Object(R.jsx)(Ie,{title:o("systemLog.export"),visible:t,onCancel:p,width:600,footer:[Object(R.jsx)(Se,{onClick:()=>c.submit(),children:o("systemLog.export")}),Object(R.jsx)(Se,{onClick:()=>p(),children:o("common.cancel")})],children:Object(R.jsxs)(je.a,{form:c,layout:"vertical",onFinish:e=>{e.all_user||0!==e.user_ids.length?(n(Object(j.d)({...e,log_range:e.log_range?[U()(e.log_range[0]).startOf("day").format("YYYY-MM-DD HH:mm:ss"),U()(e.log_range[1]).endOf("day").format("YYYY-MM-DD HH:mm:ss")]:void 0})),p()):Object(ke.a)("warning","Please choose agent!")},initialValues:{format_type:"csv",all_user:!1,user_ids:[],log_range:[U()().subtract(29,"days"),U()()]},children:[Object(R.jsxs)(Pe,{children:[Object(R.jsx)(je.a.Item,{rules:[{required:!0,message:o("form.required")}],name:"log_range",label:o("agentMonitor.chooseTime"),children:Object(R.jsx)(Ee,{disabledDate:e=>{if(!c.getFieldValue("log_range"))return!1;const t=c.getFieldValue("log_range")[0]&&e.diff(c.getFieldValue("log_range")[0],"days")>=30;return!!(c.getFieldValue("log_range")[1]&&c.getFieldValue("log_range")[1].diff(e,"days")>=30)||!!t},onCalendarChange:e=>{c.setFieldsValue({log_range:e})},onOpenChange:e=>{var t;e||c.getFieldValue("log_range")&&null!==(t=c.getFieldValue("log_range"))&&void 0!==t&&t.includes(null)&&c.setFieldsValue({log_range:void 0})}})}),Object(R.jsx)(je.a.Item,{name:"format_type",label:o("agentMonitor.format"),children:Object(R.jsxs)(ye.a.Group,{children:[Object(R.jsxs)(Me,{value:"csv",children:[Object(R.jsx)("img",{src:we,alt:"csv"}),"csv"]}),Object(R.jsxs)(Me,{value:"xlsx",children:[Object(R.jsx)("img",{src:Ce,alt:"xlsx"}),"xlsx"]})]})})]}),Object(R.jsxs)(Ae,{children:[Object(R.jsx)("label",{children:o("agentMonitor.chooseAgent")}),Object(R.jsx)(je.a.Item,{name:"all_user",valuePropName:"checked",children:Object(R.jsx)(_e.a,{onChange:e=>{e.target.checked&&c.setFieldsValue({user_ids:[]}),u(!d)},children:o("agentMonitor.selectAll")})})]}),Object(R.jsx)(je.a.Item,{name:"user_ids",children:Object(R.jsx)(xe.a,{disabled:c.getFieldValue("all_user"),placeholder:o("common.placeholderSelect"),showSearch:!0,mode:"multiple",optionFilterProp:"label",filterOption:(e,t)=>t.children?t.children.toLowerCase().indexOf(e.toLowerCase())>=0:t.label?t.label.toLowerCase().indexOf(e.toLowerCase())>=0:void 0,children:l.map(((e,t)=>Object(R.jsx)(Ne,{value:e._id,children:e.Full_Name},t)))})})]})})};const Ie=Object(n.b)(Oe.a).withConfig({displayName:"ModalExport__CustomModal",componentId:"sc-et0hz4-0"})([".ant-modal-content{border-radius:10px;}.ant-modal-header{border-radius:10px 10px 0 0;background:#f2f4f5;padding:7px 24px;}.ant-modal-title{font-family:var(--roboto-700);}.ant-modal-close-x{height:36.6px;line-height:36.6px;.anticon{color:#141414;}}.ant-modal-footer{display:flex;justify-content:flex-end;padding:18px 24px;box-shadow:0px -2px 17px 0px rgba(0,0,0,0.16);border:none;}.ant-picker-focused,.ant-picker:hover{border-color:",";box-shadow:none;}.ant-picker-range .ant-picker-active-bar{background:",";}label{font-size:16px;font-family:var(--roboto-500);}.ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){color:#000;box-shadow:none;border-color:"," !important;}.ant-checkbox-wrapper{font-family:var(--roboto-400);}.ant-checkbox-checked .ant-checkbox-inner{background-color:",";border-color:",";}.ant-checkbox:hover .ant-checkbox-inner,.ant-checkbox:focus .ant-checkbox-inner,.ant-checkbox-wrapper:hover .ant-checkbox-inner,.ant-checkbox-input:focus + .ant-checkbox-inner,.ant-checkbox-checked::after{border-color:"," !important;}.ant-select-focused:not(.ant-select-disabled).ant-select:not( .ant-select-customize-input ) .ant-select-selector,.ant-select-focused,.ant-select:not(.ant-select-disabled):hover .ant-select-selector{border-color:"," !important;box-shadow:none;}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main)),Se=Object(n.b)(he.a).withConfig({displayName:"ModalExport__CustomButton",componentId:"sc-et0hz4-1"})(["display:flex;justify-content:center;align-items:center;border:1px solid #d9d9d9;cursor:pointer;transition:all 0.5s;border-radius:2px;font-size:16px;:hover{background:"," !important;color:#fff;border-color:",";}&:first-child{background:",";color:#fff;border-color:",";margin-right:8px;}"],(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.main),(e=>e.theme.main)),Me=Object(n.b)(ye.a.Button).withConfig({displayName:"ModalExport__CustomRadio",componentId:"sc-et0hz4-2"})(["width:112px;margin:0px 8px;border-radius:4px !important;border:1px solid #d9d9d9;background:#fff;overflow:hidden;padding:0px 4px;:hover{color:#000;}img{height:20px;margin-bottom:2px;margin-right:8px;}"]),Pe=n.b.div.withConfig({displayName:"ModalExport__WrapCenter",componentId:"sc-et0hz4-3"})(["width:100%;display:flex;justify-content:space-between;"]),Ae=n.b.div.withConfig({displayName:"ModalExport__WrapLabel",componentId:"sc-et0hz4-4"})(["width:100%;display:flex;justify-content:space-between;.ant-form-item{margin-bottom:0;}"]);t.default=Object(o.a)()((function(){const{t:e}=Object(i.a)(),t=Object(s.c)(),a=Object(l.o)(),[n,o]=Object(r.useState)(!1),{userStatus:c}=Object(s.d)((e=>e.agentMonitorReducer)),{listAllGroups:u}=Object(s.d)((e=>e.groupReducer)),f=Object(r.useRef)(null),[m,h]=Object(r.useState)({Full_Name:"",group_id:"",crm_status:""}),[_,O]=Object(r.useState)({}),[w,C]=Object(r.useState)([]),[k,N]=Object(r.useState)(1),[E,z]=Object(r.useState)(20),I=e=>t=>{h((a=>{let n={...a};switch(e){case"Full_Name":n[e]=d.a.get(f,"current.input.value","");break;case"group_id":case"crm_status":n[e]=t}return n}))};return Object(r.useEffect)((()=>{t(Object(y.h)({CurrentPage:1,RecordPerPage:1e3})),t(Object(be.I)({current_page:1,record_per_page:1e4}))}),[t]),Object(r.useEffect)((()=>{let e=[];u.forEach((t=>{e.push({label:t.name,value:t._id})})),C(e)}),[u]),Object(r.useEffect)((()=>{O({}),t(Object(j.g)({type:"remove",data:[]})),t(Object(j.e)({limit:E,search_data:m,page:k-1}))}),[O,k,t,E,m]),Object(R.jsxs)(Re,{children:[Object(R.jsxs)(p.a,{children:[Object(R.jsx)(p.a.Item,{onClick:()=>a("/settings"),children:e("settings.settings")}),Object(R.jsx)(Fe,{children:e("settings.agentsMonitor")})]}),Object(R.jsxs)(Le,{children:[Object(R.jsxs)(qe,{children:[Object(R.jsx)(b.a,{style:{width:"241px"},placeholder:"Name",onPressEnter:I("Full_Name"),allowClear:!0,ref:f}),Object(R.jsx)(g.a,{style:{width:"234px"},placeholder:"Group",options:w,onChange:I("group_id"),allowClear:!0}),Object(R.jsx)(g.a,{style:{width:"234px"},placeholder:"Status",options:me.n,onChange:I("crm_status"),allowClear:!0}),Object(R.jsx)(x.a,{showTotal:()=>"".concat(e("common.total")," ").concat(d.a.get(c,"pagination.total",0)," ").concat(e("common.items")),current:k,pageSize:E,total:d.a.get(c,"pagination.total"),onChange:e=>{N(e)},showSizeChanger:!0,onShowSizeChange:(e,t)=>{z(t)},showQuickJumper:!0})]}),Object(R.jsxs)(Te,{onClick:()=>o(!0),children:[Object(R.jsx)(v.a,{})," ",e("systemLog.export")]})]}),Object(R.jsxs)(De,{children:[Object(R.jsx)(F,{_onGetUserLog:e=>()=>{d.a.get(_,"_id","")===d.a.get(e,"_id","")?(O({}),t(Object(j.g)({type:"remove",data:[]}))):(O(e),t(Object(j.j)(!0)),t(Object(j.i)(0)),t(Object(j.g)({type:"remove",data:[]})),t(Object(j.f)({payload:{search_data:{},limit:20,page:0},user_id:d.a.get(e,"_id","")})))},agentDetails:_,userStatus:c}),Object(R.jsx)(Z,{agentDetails:_})]}),Object(R.jsx)(ze,{visible:n,setVisible:o})]})}));const Re=n.b.div.withConfig({displayName:"agentsMonitor__Wrapper",componentId:"sc-yntlt1-0"})(["padding:16px 24px;.ant-breadcrumb-link{cursor:pointer;}.ant-pagination{}.ant-pagination-item-active{border-color:",";a{color:",";}}.ant-pagination-item:hover{border-color:",";a{color:",";}}.ant-pagination-next:hover .ant-pagination-item-link{color:",";border-color:",";}.ant-pagination-prev:hover .ant-pagination-item-link{color:",";border-color:",";}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker),(e=>e.theme.darker)),Fe=Object(n.b)(p.a.Item).withConfig({displayName:"agentsMonitor__BreadcrumbItem",componentId:"sc-yntlt1-1"})(["font-family:var(--roboto-500);font-size:18px !important;color:#2c2c2c;cursor:default;"]),qe=n.b.div.withConfig({displayName:"agentsMonitor__Filter",componentId:"sc-yntlt1-2"})(["margin-top:16px;margin-bottom:16px;display:flex;flex-wrap:wrap;column-gap:16px;row-gap:16px;"]),De=n.b.div.withConfig({displayName:"agentsMonitor__Wrap",componentId:"sc-yntlt1-3"})(["display:flex;justify-content:space-between;"]),Le=n.b.div.withConfig({displayName:"agentsMonitor__WrapHeader",componentId:"sc-yntlt1-4"})(["display:flex;justify-content:space-between;width:100%;align-items:center;"]),Te=Object(n.b)(he.a).withConfig({displayName:"agentsMonitor__ButtonExport",componentId:"sc-yntlt1-5"})(["border-radius:2px;border:1px solid ",";background:",";color:#fff;box-shadow:0px 2px 0px 0px rgba(0,0,0,0.04);:hover,:focus{border:1px solid ",";background:",";color:#fff;}"],(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main),(e=>e.theme.main))}}]);
//# sourceMappingURL=79.37cb7b44.chunk.js.map